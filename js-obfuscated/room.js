/***************************************************************************/
/*                                                                         */
/*  This obfuscated code was created by Javascript Obfuscator Free Version.*/
/*  Javascript Obfuscator Free Version can be downloaded here              */
/*  http://javascriptobfuscator.com                                        */
/*                                                                         */
/***************************************************************************/
var _$_b94f=["[ROOM]","error","[CRITICAL]","/sounds/message_notification.mp3","enabled","\ud83d\udd04 Activity tracking already initialized","\ud83d\udd04 Initializing activity tracking system...","cleanup","heartbeat","intervals","sendHeartbeat","HEARTBEAT_INTERVAL","activityUpdate","processActivityQueue","ACTIVITY_UPDATE_INTERVAL","disconnectCheck","triggerDisconnectCheck","DISCONNECT_CHECK_INTERVAL","statusCheck","checkUserStatus","STATUS_CHECK_INTERVAL","setupActivityListeners","system_start","recordActivity","\u2705 Activity tracking system initialized","\ud83d\uded1 Cleaning up activity tracking intervals","forEach","keys","\ud83c\udfaf Setting up activity listeners...","mousemove.activity keypress.activity scroll.activity click.activity","off","focus.activity blur.activity","now","lastInteraction","userIsActive","interaction","on","focus.activity","window_focus","visibilitychange","hidden","page_focus","addEventListener","\u2705 Activity listeners set up","lastActivityUpdate","MIN_ACTIVITY_INTERVAL","push","activityQueue","","length","type","sendActivityUpdate","api/update_activity.php","POST","json","status","success","afk_status_changed","returned_from_afk","\ud83d\udd04 User returned from AFK automatically","handleAFKStatusChange","function","You are no longer AFK","info","not_in_room","\u274c Not in room - stopping activity tracking"," - ","ajax","\ud83d\udc93 Sending heartbeat","api/heartbeat.php","\ud83d\udc93 Heartbeat successful","\ud83d\udc94 Heartbeat failed:","message","\ud83d\udc94 Session appears to be invalid","\ud83d\udd0d Triggering disconnect check...","api/check_disconnects.php","GET","summary","\ud83d\udcca Disconnect check completed:","users_marked_afk","users_disconnected","hosts_transferred","rooms_deleted"," changes detected, refreshing UI","\u274c Disconnect check failed:","\u26a0\ufe0f Disconnect check error:","api/check_user_status.php","banned","removed","room_deleted","\ud83d\udc64 User not in room, redirecting to lounge","href","location","lounge.php","\u2705 User status: Active","active","\u274c Server error:","\ud83d\udd0c Status check failed:","\ud83d\udd25 Too many consecutive errors, redirecting","Connection lost. Redirecting to lounge.","undefined","debugLog","[DEBUG]","log","activeRequests","maxConcurrentRequests","requestQueue","isProcessingQueue","requestStats","processQueue","shift","executeRequest","url","has","set","get","count","totalTime","avgTime",": ","ms (avg: ","round","ms)","makeRequest","YT","Player","script[src*=\"youtube\"]","querySelector","script","createElement","src","https://www.youtube.com/iframe_api","getElementsByTagName","insertBefore","parentNode","\ud83c\udfac Loading YouTube API...","Messages error:","catch","then","api/get_messages.php","Users error:","api/get_room_users.php","Mentions error:","api/get_mentions.php","Whispers error:","api/room_whispers.php","get_conversations","YouTube error:","api/youtube_combined.php","allSettled","messages","<div class=\"empty-chat\"><i class=\"fas fa-comments\"></i><h5>No messages yet</h5><p>Start the conversation!</p></div>","#chatbox","scrollTop","innerHeight","scrollHeight","html","isArray","<div class=\"empty-users\"><i class=\"fas fa-users\"></i><p>No users in room</p></div>","is_host","display_name","username","guest_name","Unknown","localeCompare","sort","#userList","mentions","unread_count","other_user_id_string","unreadCount","safeId","show","text","hide","conversations","sync_data","sync_token","\ud83d\udd04 Syncing player state:","queue_data","queue","suggestions","current_playing","video_id","current_time","loadVideoById","getCurrentTime","abs","seekTo","is_playing","getPlayerState","PLAYING","PlayerState","playVideo","pauseVideo","CUED","stopVideo","\ud83d\udd04 Started managed room updates (every 3s)","\u23f8\ufe0f Skipping update - already in progress","finally","\ud83d\uded1 Stopped room updates","showRequestStats","getStats","table","Active requests:","Queued requests:","user","api/friends.php","friend_user_id","accepted","some","friends","delete","clear","#message","trim","val","focus","\ud83d\udcac Preparing to send message:","Image validation error:","Cannot send message: Failed to validate images","valid","exec","Found images to validate:","protocol","includes","http:","https:","toLowerCase","pathname","test","onload","onerror","hostname",".btn-send-message","<i class=\"fas fa-spinner fa-spin\"></i> Sending...","disabled","prop","message_send","reply_to","api/send_message.php","afk_cleared","\ud83d\udd04 AFK status was cleared due to sending message","Error: ","AJAX error in sendMessage:","AJAX error: ","Loading messages for roomId:","loadOlder:","offset:","onclick","<i class=\"fas fa-spinner fa-spin\"></i> Loading...",".load-more-messages","Response from api/get_messages.php:","pagination","total_count","has_more_older","Pagination info - Total:","Has more older:","Current offset:","Expected array from get_messages, got:","<div class=\"empty-chat\"><i class=\"fas fa-exclamation-triangle\"></i><h5>Error loading messages</h5><p>Please try refreshing the page</p></div>","after","Loaded older messages:","New offset:","remove","Initial load complete. Messages:","Initial offset:","Error processing messages:","<div class=\"empty-chat\"><i class=\"fas fa-exclamation-triangle\"></i><h5>Error loading messages</h5><p>Failed to process server response</p></div>","AJAX error in loadMessages:","responseText","loadOlderMessages()","attr","<i class=\"fas fa-exclamation-triangle\"></i> Error - Click to retry","<div class=\"empty-chat\"><i class=\"fas fa-wifi\"></i><h5>Connection Error</h5><p>Failed to load messages. Check your connection.</p></div>","loadOlderMessages called. hasMoreOlderMessages:","isLoadingMessages:","Already loading messages, skipping...","No more older messages available","click","preventDefault","Load more button clicked via event handler","parse","message-id","data","last",".chat-message","id","Poll error:","debug","Poll request failed","innerWidth","userAgent","color","user_color","user-color-blue","avatar","guest_avatar","default_avatar.jpg","user_id_string","user_id","unknown","user_avatar_hue","avatar_hue","user_avatar_saturation","avatar_saturation","bubble_hue","bubble_saturation","announcement","\x0D\x0A                </div>\x0D\x0A            </div>\x0D\x0A        ","system","is_system","\" \x0D\x0A                     style=\"filter: hue-rotate(","deg) saturate(","%);\"\x0D\x0A                     alt=\"System\">\x0D\x0A                <span>","</span>\x0D\x0A            </div>\x0D\x0A        ","2-digit","toLocaleTimeString","timestamp",", \'","\\\'","replace","\')\" style=\"cursor: pointer;\"","is_admin","<span class=\"user-badge badge-admin\"><i class=\"fas fa-shield-alt\"></i> Admin</span>","is_moderator","<span class=\"user-badge badge-moderator\"><i class=\"fas fa-gavel\"></i> Moderator</span>","<span class=\"user-badge badge-host\"><i class=\"fas fa-crown\"></i> Host</span>","<span class=\"user-badge badge-verified\"><i class=\"fas fa-check-circle\"></i> Verified</span>","<span class=\"user-badge badge-guest\"><i class=\"fas fa-user\"></i> Guest</span>","\', \'","ip_address","\')\">\x0D\x0A                    <i class=\"fas fa-ban\"></i> Site Ban\x0D\x0A                </button>\x0D\x0A                <small class=\"text-danger\">IP: ","</small>\x0D\x0A            </div>\x0D\x0A        ","reply_to_message_id","reply_original_message","reply_original_registered_username","reply_original_chatroom_username","reply_original_guest_name","reply_original_registered_avatar","reply_original_avatar","reply_original_avatar_hue","reply_original_avatar_saturation","reply_original_bubble_hue","reply_original_bubble_saturation","reply_original_color","blue","\" style=\"filter: hue-rotate(","%);\">\x0D\x0A            <div class=\"reply-header\" style=\"filter: hue-rotate(","%);\">\x0D\x0A                <img src=\"images/","\" \x0D\x0A                     class=\"reply-author-avatar\"\x0D\x0A                     style=\"filter: hue-rotate(","%);\"\x0D\x0A                     alt=\"","\">\x0D\x0A                <span class=\"reply-author-name\">","</span>\x0D\x0A                <i class=\"fas fa-external-link-alt reply-jump-icon\" \x0D\x0A                   onclick=\"jumpToMessage(","reply_original_id",")\" \x0D\x0A                   title=\"Jump to original message\"></i>\x0D\x0A            </div>\x0D\x0A            <div class=\"reply-content\">","</div>\x0D\x0A        </div>\x0D\x0A    ","substring","...\')\" title=\"Reply\">\x0D\x0A                    <i class=\"fas fa-reply\"></i>\x0D\x0A                </button>\x0D\x0A            </div>\x0D\x0A        "," ","has-reply","\" \x0D\x0A             data-message-id=\"","\" \x0D\x0A             data-type=\"","chat","\"\x0D\x0A             style=\"position: relative;\">\x0D\x0A            ","\x0D\x0A            <img src=\"images/","\" \x0D\x0A                 class=\"message-avatar\" \x0D\x0A                 style=\"filter: hue-rotate(","%); ","cursor: pointer;","\"\x0D\x0A                 ","\x0D\x0A                 alt=\"","\'s avatar\">\x0D\x0A            \x0D\x0A            <!-- Message header moved outside the bubble -->\x0D\x0A            <div class=\"message-header-external\">\x0D\x0A                <div class=\"message-header-left\">\x0D\x0A                    <div class=\"message-author\">","</div>\x0D\x0A                    ","</div>","\x0D\x0A                </div>\x0D\x0A                <div class=\"message-time\">","</div>\x0D\x0A            </div>\x0D\x0A            \x0D\x0A            <!-- Message bubble with filters, but content isolated from filters -->\x0D\x0A            <div class=\"message-bubble \" style=\"filter: hue-rotate(","%);\">\x0D\x0A                ","\x0D\x0A                <!-- Message content wrapper that resets filters -->\x0D\x0A                <div class=\"message-content-wrapper\" style=\"filter: hue-rotate(","%);\">\x0D\x0A                    <div class=\"message-content\">","\x0D\x0A                    ","\x0D\x0A                </div>\x0D\x0A            </div>\x0D\x0A        </div>\x0D\x0A    ","\"","g","<span class=\"mention mention-self\" data-user=\"","Loading users for roomId:","AJAX error in loadUsers:","<div class=\"empty-users\"><i class=\"fas fa-wifi\"></i><p>Connection error</p></div>","string","JSON parse error:","<div class=\"empty-users\"><i class=\"fas fa-exclamation-triangle\"></i><p>Error loading users</p></div>","\ud83d\udcca Request Stats:","user_type","registered","<span class=\"user-badge badge-you\"><i class=\"fas fa-user-circle\"></i> You</span>","is_afk","manual_afk","Manual","Auto","afk_duration_minutes",")"," AFK","\"><i class=\"fas fa-bed\"></i> AFK</span>","afk-user","\" onclick=\"openWhisper(\'","\')\">\x0D\x0A                <i class=\"fas fa-comment\"></i> ","\x0D\x0A            </button>\x0D\x0A        ","PM (AFK)","PM","\" onclick=\"openPrivateMessage(","\')\">\x0D\x0A                            <i class=\"fas fa-envelope\"></i> ","\x0D\x0A                        </button>\x0D\x0A                    ","\')\">\x0D\x0A                            <i class=\"fas fa-user-plus\"></i>\x0D\x0A                        </button>\x0D\x0A                    ","\" class=\"d-inline\">\x0D\x0A                    <button class=\"btn btn-secondary btn-sm\" disabled>\x0D\x0A                        <i class=\"fas fa-spinner fa-spin\"></i> Loading...\x0D\x0A                    </button>\x0D\x0A                </div>","\')\">\x0D\x0A                                        <i class=\"fas fa-envelope\"></i> ","\x0D\x0A                                    </button>\x0D\x0A                                ","\')\">\x0D\x0A                                        <i class=\"fas fa-user-plus\"></i>\x0D\x0A                                    </button>\x0D\x0A                                ","\')\">\x0D\x0A                    <i class=\"fas fa-ban\"></i> Ban\x0D\x0A                </button>\x0D\x0A            ","\', \'\')\">\x0D\x0A                    <i class=\"fas fa-ban\"></i> Site Ban\x0D\x0A                </button>\x0D\x0A            ","user-item afk-user","user-item","\">\x0D\x0A            <div class=\"user-info-row\">\x0D\x0A                <img src=\"images/","\" \x0D\x0A                     class=\"user-avatar ","afk-avatar","\"\x0D\x0A                     ","\x0D\x0A                     alt=\"","\'s avatar\">\x0D\x0A                <div class=\"user-details\">\x0D\x0A                    <div class=\"user-name ","afk-name","\">","</div>\x0D\x0A                    <div class=\"user-badges-row\">","</div>\x0D\x0A                </div>\x0D\x0A            </div>\x0D\x0A            ","\x0D\x0A        </div>\x0D\x0A    ","\ud83c\udfac Cannot initialize player: API ready =",", enabled =","\ud83c\udfac Initializing YouTube player...","youtube-player","280","100%","\ud83c\udfac YouTube player ready","\ud83c\udfac Player state changed:","PAUSED","ENDED","\ud83d\udd04 Started player sync","api/youtube_sync.php","update_time","\ud83d\udd04 Updated player sync","\u26a0\ufe0f Sync update error:","\ud83d\udccb Started queue updates","api/youtube_queue.php","\u26a0\ufe0f Queue update error:","#youtube-queue-list",")\" title=\"Remove\">\x0D\x0A                        <i class=\"fas fa-trash\"></i>\x0D\x0A                    </button>\x0D\x0A                </div>\x0D\x0A            ","playing","\">\x0D\x0A                    <div class=\"youtube-queue-item-content\">\x0D\x0A                        <img src=\"","video_thumbnail","\" class=\"youtube-queue-item-thumb\" alt=\"Thumbnail\" onerror=\"this.src=\'https://img.youtube.com/vi/","/default.jpg\'\">\x0D\x0A                        <div class=\"youtube-queue-item-details\">\x0D\x0A                            <div class=\"youtube-queue-item-title\">","video_title","</div>\x0D\x0A                            <div class=\"youtube-queue-item-meta\">\x0D\x0A                                Added by ","suggested_by_name"," \u2022 #"," in queue\x0D\x0A                            </div>\x0D\x0A                            ","\x0D\x0A                        </div>\x0D\x0A                    </div>\x0D\x0A                </div>\x0D\x0A            ","#youtube-suggestions-list",")\" title=\"Add to Queue\">\x0D\x0A                        <i class=\"fas fa-check\"></i>\x0D\x0A                    </button>\x0D\x0A                    <button class=\"btn btn-queue-deny\" onclick=\"denyVideo(",")\" title=\"Deny\">\x0D\x0A                        <i class=\"fas fa-times\"></i>\x0D\x0A                    </button>\x0D\x0A                </div>\x0D\x0A            ","</div>\x0D\x0A                            <div class=\"youtube-queue-item-meta\">\x0D\x0A                                Suggested by ","\x0D\x0A                            </div>\x0D\x0A                            ","#youtube-video-info","</div>\x0D\x0A            <div class=\"youtube-video-meta\">\x0D\x0A                <span>Added by ","</span>\x0D\x0A                <span>\u2022</span>\x0D\x0A                <span>Now Playing</span>\x0D\x0A            </div>\x0D\x0A        ","#youtube-suggest-input","Please enter a YouTube URL or video ID","#youtube-suggest-btn","<i class=\"fas fa-spinner fa-spin\"></i> Suggesting...","suggest","Video suggested successfully!","Suggest video error:","Error suggesting video: ","approve","Video approved and added to queue!","Approve video error:","Error approving video: ","deny","Video suggestion denied","Deny video error:","Error denying video: ","Remove this video from the queue?","Video removed from queue","Remove video error:","Error removing video: ","api/youtube_player.php","resume","\ud83c\udfac Video resumed","pause","\ud83c\udfac Video paused","skip","\ud83c\udfac Skipped to next video","No more videos in queue","stop","\ud83c\udfac Video stopped",".youtube-player-container",".youtube-player-toggle","user-hidden","hasClass","removeClass","title","Hide Player","<i class=\"fas fa-video-slash\"></i>","hidden-player","addClass","Show Player","<i class=\"fas fa-video\"></i>","toString","setItem","getVideoUrl","match"," alert-dismissible fade show\" \x0D\x0A             style=\"position: fixed; top: 70px; right: 20px; z-index: 1060; min-width: 300px;\">\x0D\x0A            ","\x0D\x0A            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\"></button>\x0D\x0A        </div>\x0D\x0A    ","append","body","close","alert","\ud83d\uded1 Stopping YouTube player system","Error stopping YouTube player:","\ud83d\udeab User has been BANNED:","You have been banned from this room","ban_info","permanent","<div class=\"alert alert-danger\"><strong>This is a PERMANENT ban.</strong></div>","expires_in_minutes"," minute","s",".</strong></div>","reason","</p>","\ud83d\udeab You Have Been Banned","danger","\ud83d\udc62 User has been KICKED:","You have been removed from this room","<div class=\"alert alert-info\">You can try to rejoin the room if it\'s still available.</div>","\ud83d\udc62 Removed from Room","warning","\ud83c\udfd7\ufe0f Room has been DELETED:","This room has been deleted","<div class=\"alert alert-info\">The room no longer exists. You will be redirected to the lounge.</div>","\ud83c\udfd7\ufe0f Room Deleted","\u26a0\ufe0f Multiple consecutive errors, may have connection issues","warn","\ud83d\udd25 Too many errors, redirecting to lounge","bg-danger","fas fa-ban","bg-warning","fas fa-exclamation-triangle","bg-info","fas fa-info-circle","\" style=\"background: #2a2a2a; color: #e0e0e0;\">\x0D\x0A                    <div class=\"modal-header ","bg"," text-white\">\x0D\x0A                        <h5 class=\"modal-title\">\x0D\x0A                            <i class=\"","icon","\"></i> ","\x0D\x0A                        </h5>\x0D\x0A                    </div>\x0D\x0A                    <div class=\"modal-body text-center\">\x0D\x0A                        <div class=\"mb-3\">\x0D\x0A                            <i class=\""," fa-4x text-","\"></i>\x0D\x0A                        </div>\x0D\x0A                        <h6 class=\"text-"," mb-3\">","</h6>\x0D\x0A                        ","\x0D\x0A                        <div class=\"alert alert-light mt-3\" style=\"background: #333; border-color: #555; color: #e0e0e0;\">\x0D\x0A                            <i class=\"fas fa-home\"></i>\x0D\x0A                            <strong>You will be redirected to the lounge in <span id=\"redirectCountdown\">8</span> seconds</strong>\x0D\x0A                        </div>\x0D\x0A                    </div>\x0D\x0A                    <div class=\"modal-footer justify-content-center\" style=\"border-top: 1px solid #444;\">\x0D\x0A                        <button type=\"button\" class=\"btn btn-primary\" onclick=\"handleKickModalClose()\">\x0D\x0A                            <i class=\"fas fa-home\"></i> Go to Lounge Now\x0D\x0A                        </button>\x0D\x0A                    </div>\x0D\x0A                </div>\x0D\x0A            </div>\x0D\x0A        </div>\x0D\x0A    ","#kickNotificationModal","kickNotificationModal","getElementById","Modal","#redirectCountdown","\ud83c\udfe0 Redirecting to lounge...","api/leave_room.php","kicked_user_cleanup","\ud83d\uded1 Stopping kick detection system","\ud83d\ude80 Initializing room activity tracking...","init","room_join","submit",".private-message-form","private_message",".whisper-form","whisper",".btn-toggle-afk","manual_activity","\u2705 Activity tracking initialization complete","\u2705 Activity listeners set up successfully","general","\ud83d\uded1 Stopping activity tracking system","Loading room settings for roomId:","api/get_room_settings.php","settings","Error loading room settings: ","Invalid response from server","AJAX error in showRoomSettings:","Displaying room settings modal with:","\x0D\x0A                        </ul>\x0D\x0A                        \x0D\x0A                        <div class=\"tab-content\" id=\"settingsTabsContent\">\x0D\x0A                            <!-- General Settings -->\x0D\x0A                            <div class=\"tab-pane fade show active\" id=\"general\" role=\"tabpanel\">\x0D\x0A                                <form id=\"roomSettingsForm\" class=\"mt-3\">\x0D\x0A                                    <div class=\"row\">\x0D\x0A                                        <div class=\"col-md-6\">\x0D\x0A                                            <div class=\"mb-3\">\x0D\x0A                                                <label for=\"settingsRoomName\" class=\"form-label\">Room Name</label>\x0D\x0A                                                <input type=\"text\" class=\"form-control\" id=\"settingsRoomName\" value=\"","name","\" required maxlength=\"50\" style=\"background: #333; border: 1px solid #555; color: #fff;\">\x0D\x0A                                            </div>\x0D\x0A                                            <div class=\"mb-3\">\x0D\x0A                                                <label for=\"settingsCapacity\" class=\"form-label\">Capacity</label>\x0D\x0A                                                <select class=\"form-select\" id=\"settingsCapacity\" required style=\"background: #333; border: 1px solid #555; color: #fff;\">\x0D\x0A                                                    <option value=\"5\"","capacity"," selected",">5 users</option>\x0D\x0A                                                    <option value=\"10\"",">10 users</option>\x0D\x0A                                                    <option value=\"20\"",">20 users</option>\x0D\x0A                                                    <option value=\"50\"",">50 users</option>\x0D\x0A                                                </select>\x0D\x0A                                            </div>\x0D\x0A                                            <div class=\"mb-3\">\x0D\x0A                                                <label for=\"settingsTheme\" class=\"form-label\">Theme</label>\x0D\x0A                                                <select class=\"form-select\" id=\"settingsTheme\" style=\"background: #333; border: 1px solid #555; color: #fff;\">\x0D\x0A                                                    <option value=\"default\"","theme","default",">Default</option>\x0D\x0A                                                    <option value=\"cyberpunk\"","cyberpunk",">Cyberpunk</option>\x0D\x0A                                                    <option value=\"forest\"","forest",">Forest</option>\x0D\x0A                                                    <option value=\"ocean\"","ocean",">Ocean</option>\x0D\x0A                                                    <option value=\"sunset\"","sunset",">Sunset</option>\x0D\x0A                                                </select>\x0D\x0A                                            </div>\x0D\x0A                                        </div>\x0D\x0A                                        <div class=\"col-md-6\">\x0D\x0A                                            <div class=\"mb-3\">\x0D\x0A                                                <label for=\"settingsDescription\" class=\"form-label\">Description</label>\x0D\x0A                                                <textarea class=\"form-control\" id=\"settingsDescription\" rows=\"4\" maxlength=\"200\" style=\"background: #333; border: 1px solid #555; color: #fff;\">","description","</textarea>\x0D\x0A                                            </div>\x0D\x0A                                            <div class=\"mb-3\">\x0D\x0A                                                <div class=\"form-check\">\x0D\x0A                                                    <input class=\"form-check-input\" type=\"checkbox\" id=\"settingsIsRP\"","is_rp"," checked",">\x0D\x0A                                                    <label class=\"form-check-label\" for=\"settingsIsRP\">\x0D\x0A                                                        <i class=\"fas fa-theater-masks\"></i> Roleplay Room\x0D\x0A                                                    </label>\x0D\x0A                                                </div>\x0D\x0A                                                <small class=\"form-text text-muted\">Mark this room as suitable for roleplay</small>\x0D\x0A                                            </div>\x0D\x0A                                        </div>\x0D\x0A                                    </div>\x0D\x0A                                </form>\x0D\x0A                            </div>\x0D\x0A\x0D\x0A                            <!-- Access Control Settings -->\x0D\x0A                            <div class=\"tab-pane fade\" id=\"security\" role=\"tabpanel\">\x0D\x0A                                <div class=\"mt-3\">\x0D\x0A                                    <div class=\"row\">\x0D\x0A                                        <div class=\"col-md-6\">\x0D\x0A                                            <div class=\"mb-3\">\x0D\x0A                                                <div class=\"form-check\">\x0D\x0A                                                    <input class=\"form-check-input\" type=\"checkbox\" id=\"settingsHasPassword\"","has_password",">\x0D\x0A                                                    <label class=\"form-check-label\" for=\"settingsHasPassword\">\x0D\x0A                                                        <i class=\"fas fa-lock\"></i> Password Protected\x0D\x0A                                                    </label>\x0D\x0A                                                </div>\x0D\x0A                                            </div>\x0D\x0A                                            <div class=\"mb-3\" id=\"passwordFieldSettings\" style=\"display: ","block","none",";\">\x0D\x0A                                                <label for=\"settingsPassword\" class=\"form-label\">Room Password</label>\x0D\x0A                                                <input type=\"password\" class=\"form-control\" id=\"settingsPassword\" placeholder=\"Leave empty to keep current password\" style=\"background: #333; border: 1px solid #555; color: #fff;\">\x0D\x0A                                                <div class=\"form-text text-muted\">Leave empty to keep current password, or enter new password to change it.</div>\x0D\x0A                                            </div>\x0D\x0A                                            <div class=\"mb-3\" id=\"knockingFieldSettings\" style=\"display: ",";\">\x0D\x0A                                                <div class=\"form-check\">\x0D\x0A                                                    <input class=\"form-check-input\" type=\"checkbox\" id=\"settingsAllowKnocking\"","allow_knocking",">\x0D\x0A                                                    <label class=\"form-check-label\" for=\"settingsAllowKnocking\">\x0D\x0A                                                        <i class=\"fas fa-hand-paper\"></i> Allow Knocking\x0D\x0A                                                    </label>\x0D\x0A                                                </div>\x0D\x0A                                                <small class=\"form-text text-muted\">Let users request access when they don\'t know the password</small>\x0D\x0A                                            </div>\x0D\x0A                                        </div>\x0D\x0A                                        <div class=\"col-md-6\">\x0D\x0A                                            <div class=\"mb-3\">\x0D\x0A                                                <div class=\"form-check\">\x0D\x0A                                                    <input class=\"form-check-input\" type=\"checkbox\" id=\"settingsMembersOnly\"","members_only",">\x0D\x0A                                                    <label class=\"form-check-label\" for=\"settingsMembersOnly\">\x0D\x0A                                                        <i class=\"fas fa-user-check\"></i> Members Only\x0D\x0A                                                    </label>\x0D\x0A                                                </div>\x0D\x0A                                                <small class=\"form-text text-muted\">Only registered users can join</small>\x0D\x0A                                            </div>\x0D\x0A                                            \x0D\x0A                                            ","friends_only",">\x0D\x0A                                                    <label class=\"form-check-label\" for=\"settingsFriendsOnly\">\x0D\x0A                                                        <i class=\"fas fa-user-friends\"></i> Friends Only\x0D\x0A                                                    </label>\x0D\x0A                                                </div>\x0D\x0A                                                <small class=\"form-text text-muted\">Only your friends can join</small>\x0D\x0A                                            </div>\x0D\x0A                                            ","\x0D\x0A                                            \x0D\x0A                                            <div class=\"mb-3\">\x0D\x0A                                                <div class=\"form-check\">\x0D\x0A                                                    <input class=\"form-check-input\" type=\"checkbox\" id=\"settingsInviteOnly\"","invite_only",">\x0D\x0A                                                    <label class=\"form-check-label\" for=\"settingsInviteOnly\">\x0D\x0A                                                        <i class=\"fas fa-link\"></i> Invite Only\x0D\x0A                                                    </label>\x0D\x0A                                                </div>\x0D\x0A                                                <small class=\"form-text text-muted\">Generate a special invite link</small>\x0D\x0A                                                ","invite_code","origin","/lounge.php?invite=","</small>\x0D\x0A                                                    <button type=\"button\" class=\"btn btn-sm btn-outline-primary ms-2\" onclick=\"copyInviteLink(\'","\')\">\x0D\x0A                                                        <i class=\"fas fa-copy\"></i> Copy\x0D\x0A                                                    </button>\x0D\x0A                                                </div>\x0D\x0A                                                ","\x0D\x0A                                            </div>\x0D\x0A                                        </div>\x0D\x0A                                    </div>\x0D\x0A                                </div>\x0D\x0A                            </div>\x0D\x0A\x0D\x0A                            <!-- Features Tab -->\x0D\x0A                            <div class=\"tab-pane fade\" id=\"features\" role=\"tabpanel\">\x0D\x0A                                <div class=\"mt-3\">\x0D\x0A                                    <div class=\"row\">\x0D\x0A                                        <div class=\"col-md-12\">\x0D\x0A                                            <div class=\"mb-4\">\x0D\x0A                                                <div class=\"form-check form-switch\">\x0D\x0A                                                    <input class=\"form-check-input\" type=\"checkbox\" id=\"settingsYouTubeEnabled\"","youtube_enabled",">\x0D\x0A                                                    <label class=\"form-check-label\" for=\"settingsYouTubeEnabled\">\x0D\x0A                                                        <i class=\"fab fa-youtube text-danger\"></i> <strong>Enable YouTube Player</strong> <span class=\"betatext\" /> <span class=\"betatext2\" />\x0D\x0A                                                    </label>\x0D\x0A                                                </div>\x0D\x0A                                                <small class=\"form-text text-muted\">Allow synchronized video playback for all users in the room</small>\x0D\x0A                                            </div>\x0D\x0A                                            \x0D\x0A                                            <div id=\"youtubePlayerInfo\" style=\"display: ",";\">\x0D\x0A                                                <div class=\"alert\" style=\"background: rgba(13, 110, 253, 0.1); border: 1px solid rgba(13, 110, 253, 0.3); color: #b3d4fc; border-radius: 8px;\">\x0D\x0A                                                    <h6><i class=\"fas fa-info-circle\"></i> YouTube Player Features:</h6>\x0D\x0A                                                    <ul class=\"mb-0\" style=\"padding-left: 1.2rem;\">\x0D\x0A                                                        <li><strong>Host Controls:</strong> Only hosts can control playback</li>\x0D\x0A                                                        <li><strong>Video Suggestions:</strong> Users can suggest videos for approval</li>\x0D\x0A                                                        <li><strong>Queue System:</strong> Approved videos are queued for playback</li>\x0D\x0A                                                        <li><strong>Real-time Sync:</strong> All users see the same video</li>\x0D\x0A                                                    </ul>\x0D\x0A                                                </div>\x0D\x0A                                            </div>\x0D\x0A                                        </div>\x0D\x0A                                        <div class=\"col-md-6\">\x0D\x0A                                            <div class=\"mb-4\">\x0D\x0A                                                <div class=\"form-check form-switch\">\x0D\x0A                                                    <input class=\"form-check-input\" type=\"checkbox\" id=\"settingsDisappearingMessages\"","disappearing_messages",">\x0D\x0A                                                    <label class=\"form-check-label\" for=\"settingsDisappearingMessages\">\x0D\x0A                                                        <i class=\"fas fa-clock\"></i> <strong>Disappearing Messages</strong>\x0D\x0A                                                    </label>\x0D\x0A                                                </div>\x0D\x0A                                                <small class=\"form-text text-muted\">Messages automatically delete after a set time</small>\x0D\x0A                                            </div>\x0D\x0A                                            \x0D\x0A                                            <div class=\"mb-3\" id=\"messageLifetimeFieldSettings\" style=\"display: ",";\">\x0D\x0A                                                <label for=\"settingsMessageLifetime\" class=\"form-label\">Message Lifetime</label>\x0D\x0A                                                <select class=\"form-select\" id=\"settingsMessageLifetime\" style=\"background: #333; border: 1px solid #555; color: #fff;\">\x0D\x0A                                                    <option value=\"5\"","message_lifetime_minutes",">5 minutes</option>\x0D\x0A                                                    <option value=\"15\"",">15 minutes</option>\x0D\x0A                                                    <option value=\"30\"",">30 minutes</option>\x0D\x0A                                                    <option value=\"60\"",">1 hour</option>\x0D\x0A                                                    <option value=\"120\"",">2 hours</option>\x0D\x0A                                                    <option value=\"360\"",">6 hours</option>\x0D\x0A                                                    <option value=\"720\"",">12 hours</option>\x0D\x0A                                                    <option value=\"1440\"",">24 hours</option>\x0D\x0A                                                </select>\x0D\x0A                                            </div>\x0D\x0A                                        </div>\x0D\x0A                                    </div>\x0D\x0A                                </div>\x0D\x0A                            </div>\x0D\x0A\x0D\x0A                            <!-- Banlist -->\x0D\x0A                            <div class=\"tab-pane fade\" id=\"banlist\" role=\"tabpanel\">\x0D\x0A                                <div class=\"mt-3\">\x0D\x0A                                    <h6><i class=\"fas fa-ban\"></i> Banned Users</h6>\x0D\x0A                                    <div id=\"bannedUsersList\">\x0D\x0A                                        <p class=\"text-muted\">Loading banned users...</p>\x0D\x0A                                    </div>\x0D\x0A                                </div>\x0D\x0A                            </div>\x0D\x0A\x0D\x0A                            <!-- Admin Settings Tab (only for moderators/admins) -->\x0D\x0A                            ",">\x0D\x0A                                                    <label class=\"form-check-label\" for=\"settingsPermanentRoom\">\x0D\x0A                                                        <i class=\"fas fa-star text-warning\"></i> <strong>Permanent Room</strong>\x0D\x0A                                                    </label>\x0D\x0A                                                </div>\x0D\x0A                                                <small class=\"form-text text-muted\">\x0D\x0A                                                    This room will never be automatically deleted, even when empty. \x0D\x0A                                                    It will be displayed at the top of the room list with a special indicator.\x0D\x0A                                                </small>\x0D\x0A                                                <div class=\"mt-2\">\x0D\x0A                                                    <small class=\"text-info\">\x0D\x0A                                                        <i class=\"fas fa-info-circle\"></i> \x0D\x0A                                                        When the host of a permanent room leaves, they retain host privileges even while offline.\x0D\x0A                                                    </small>\x0D\x0A                                                </div>\x0D\x0A                                                ","\x0D\x0A                                            </div>\x0D\x0A                                        </div>\x0D\x0A                                    </div>\x0D\x0A                                </div>\x0D\x0A                            </div>\x0D\x0A                            ","\x0D\x0A                        </div>\x0D\x0A                    </div>\x0D\x0A                    <div class=\"modal-footer\" style=\"border-top: 1px solid #444;\">\x0D\x0A                        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Cancel</button>\x0D\x0A                        <button type=\"button\" class=\"btn btn-primary\" onclick=\"saveRoomSettings()\"><i class=\"fas fa-save\"></i> Save Settings</button>\x0D\x0A                    </div>\x0D\x0A                </div>\x0D\x0A            </div>\x0D\x0A        </div>\x0D\x0A    ","#roomSettingsModal","#banlist-tab","modal","change","checked","#passwordFieldSettings","#knockingFieldSettings","#settingsPassword","#settingsAllowKnocking","#settingsHasPassword","#youtubePlayerInfo","#settingsYouTubeEnabled","#messageLifetimeFieldSettings","#settingsDisappearingMessages","Loading banned users for room:","api/get_banned_users_simple.php","Banned users response:","<p class=\"text-danger\">Error loading banned users.</p>","<p class=\"text-muted\">No banned users.</p>","Unknown User","is_permanent","Permanent","Temporary","ban_until","toLocaleString","Never","No reason provided","</strong> \x0D\x0A                                            <span class=\"badge ","</span>\x0D\x0A                                            <br>\x0D\x0A                                            <small class=\"text-muted\">\x0D\x0A                                                Expires: ","<br>\x0D\x0A                                                Reason: ","\x0D\x0A                                            </small>\x0D\x0A                                        </div>\x0D\x0A                                        <button class=\"btn btn-sm btn-outline-success\" onclick=\"unbanUser(\'","\')\">\x0D\x0A                                            <i class=\"fas fa-unlock\"></i> Unban\x0D\x0A                                        </button>\x0D\x0A                                    </div>\x0D\x0A                                </div>\x0D\x0A                            </div>\x0D\x0A                        ","#bannedUsersList","AJAX error in loadBannedUsers:","Are you sure you want to unban ","?","api/unban_user_simple.php"," has been unbanned successfully!","AJAX error in unbanUser:","#settingsRoomName","#settingsDescription","#settingsCapacity","#settingsTheme",":checked","is","#settingsIsRP","#settingsFriendsOnly","#settingsInviteOnly","#settingsMembersOnly","#settingsMessageLifetime","#settingsPermanentRoom","Saving room settings:","Room name is required","password","Password protection is enabled but no password was entered. Do you want to keep the existing password?","#roomSettingsModal .btn-primary","<span class=\"spinner-border spinner-border-sm me-2\"></span>Saving...","api/update_room.php","Update room response:","Room settings updated successfully!"," This room is now permanent.","/","invite_link","\\n\\nInvite link: ","clipboard","\\n\\n(Invite link copied to clipboard!)","writeText","Settings changed. Refreshing room...","reload","AJAX error in saveRoomSettings:","Leave room clicked for roomId:","check_options","Response from api/leave_room.php (check):","permanent_room_leave"," Are you sure you want to leave?","Left room successfully","Error leaving room","AJAX error leaving permanent room:","Error leaving room: ","host_leaving","other_users","show_transfer","last_user","Raw response:","Invalid response from server: ","AJAX error in leaveRoom:","<option value=\"","</option>","\x0D\x0A                </select>\x0D\x0A                <button type=\"button\" class=\"btn btn-primary w-100\" onclick=\"transferHost()\">Transfer Host & Leave</button>\x0D\x0A            </div>\x0D\x0A        ","Last User in Room","You are the Host","</h5>\x0D\x0A                    </div>\x0D\x0A                    <div class=\"modal-body\">\x0D\x0A                        <p>","You are the last user in this room. When you leave, the room will be deleted.","You are the host of this room. What would you like to do?","</p>\x0D\x0A                        <div class=\"mb-3\">\x0D\x0A                            <button type=\"button\" class=\"btn btn-danger w-100 mb-2\" onclick=\"deleteRoom()\">\x0D\x0A                                ","Leave & Delete Room","Delete Room","\x0D\x0A                            </button>\x0D\x0A                            ","\x0D\x0A                        </div>\x0D\x0A                    </div>\x0D\x0A                    <div class=\"modal-footer\" style=\"border-top: 1px solid #444;\">\x0D\x0A                        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Cancel</button>\x0D\x0A                    </div>\x0D\x0A                </div>\x0D\x0A            </div>\x0D\x0A        </div>\x0D\x0A    ","#hostLeavingModal","Are you sure you want to delete this room? This action cannot be undone.","delete_room","Room deleted successfully","AJAX error in deleteRoom:","#newHostSelect","Please select a user to transfer host privileges to","Are you sure you want to transfer host privileges and leave the room?","transfer_host","Host privileges transferred successfully","AJAX error in transferHost:","</strong> from this room.</p>\x0D\x0A                        <div class=\"mb-3\">\x0D\x0A                            <label for=\"banDuration\" class=\"form-label\">Ban Duration</label>\x0D\x0A                            <select class=\"form-select\" id=\"banDuration\" required style=\"background: #333; border: 1px solid #555; color: #fff;\">\x0D\x0A                                <option value=\"300\">5 minutes</option>\x0D\x0A                                <option value=\"1800\">30 minutes</option>\x0D\x0A                                <option value=\"permanent\">Permanent</option>\x0D\x0A                            </select>\x0D\x0A                        </div>\x0D\x0A                        <div class=\"mb-3\">\x0D\x0A                            <label for=\"banReason\" class=\"form-label\">Reason (optional)</label>\x0D\x0A                            <input type=\"text\" class=\"form-control\" id=\"banReason\" placeholder=\"Enter reason for ban\" style=\"background: #333; border: 1px solid #555; color: #fff;\">\x0D\x0A                        </div>\x0D\x0A                    </div>\x0D\x0A                    <div class=\"modal-footer\" style=\"border-top: 1px solid #444;\">\x0D\x0A                        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Cancel</button>\x0D\x0A                        <button type=\"button\" class=\"btn btn-danger\" onclick=\"confirmBanUser(\'","\')\">\x0D\x0A                            <i class=\"fas fa-ban\"></i> Ban User\x0D\x0A                        </button>\x0D\x0A                    </div>\x0D\x0A                </div>\x0D\x0A            </div>\x0D\x0A        </div>\x0D\x0A    ","#banUserModal","#banDuration","#banReason","permanently","for 5 minutes","for 30 minutes","for "," seconds","Are you sure you want to ban ","#banUserModal .btn-danger","<span class=\"spinner-border spinner-border-sm\" role=\"status\"></span> Banning...","api/ban_user_simple.php","User banned successfully ","!","AJAX error in confirmBanUser:","api/check_knocks.php","\" \x0D\x0A                 role=\"alert\" \x0D\x0A                 style=\"position: fixed; top: ","px; right: 20px; z-index: 1070; max-width: 400px; background: #2a2a2a; border: 1px solid #404040; color: #e0e0e0;\">\x0D\x0A                <div class=\"d-flex align-items-center\">\x0D\x0A                    <img src=\"images/","\" width=\"40\" height=\"40\" class=\"rounded-circle me-3\" alt=\"","\" style=\"border: 2px solid #007bff;\">\x0D\x0A                    <div class=\"flex-grow-1\">\x0D\x0A                        <h6 class=\"mb-1\" style=\"color: #e0e0e0;\">\x0D\x0A                            <i class=\"fas fa-hand-paper text-primary\"></i> Knock Request\x0D\x0A                        </h6>\x0D\x0A                        <p class=\"mb-2\" style=\"color: #ccc;\"><strong>","</strong> wants to join this room</p>\x0D\x0A                        <div>\x0D\x0A                            <button class=\"btn btn-success btn-sm me-2\" onclick=\"respondToKnock(",", \'accepted\')\">\x0D\x0A                                <i class=\"fas fa-check\"></i> Accept\x0D\x0A                            </button>\x0D\x0A                            <button class=\"btn btn-danger btn-sm\" onclick=\"respondToKnock(",", \'denied\')\">\x0D\x0A                                <i class=\"fas fa-times\"></i> Deny\x0D\x0A                            </button>\x0D\x0A                        </div>\x0D\x0A                    </div>\x0D\x0A                    <button type=\"button\" class=\"btn-close\" onclick=\"dismissKnock(",")\" style=\"filter: invert(1);\"></button>\x0D\x0A                </div>\x0D\x0A            </div>\x0D\x0A        ","fadeIn","api/respond_knocks.php","Knock accepted! The user can now join the room.","Knock request denied.","Error responding to knock:","Error responding to knock: ","fadeOut","api/create_test_user.php","Test user created: ","AJAX error in createTestUser:","\\$1","_","Opening whisper for user:","\" onclick=\"toggleWhisperTab(\'","\')\">\x0D\x0A            <span class=\"whisper-tab-title\">\ud83d\udcac ","</span>\x0D\x0A            <span class=\"whisper-tab-unread\" id=\"whisper-unread-","\" style=\"display: none;\">0</span>\x0D\x0A            <button class=\"whisper-tab-close\" onclick=\"event.stopPropagation(); closeWhisper(\'","\');\" title=\"Close\">&times;</button>\x0D\x0A        </div>\x0D\x0A    ","\">\x0D\x0A            <div class=\"whisper-body\" id=\"whisper-body-","\">\x0D\x0A                Loading messages...\x0D\x0A            </div>\x0D\x0A            <div class=\"whisper-input\">\x0D\x0A                <form class=\"whisper-form\" onsubmit=\"sendWhisper(\'","\'); return false;\">\x0D\x0A                    <input type=\"text\" id=\"whisper-input-","\" placeholder=\"Type a whisper...\" required>\x0D\x0A                    <button type=\"submit\">Send</button>\x0D\x0A                </form>\x0D\x0A            </div>\x0D\x0A        </div>\x0D\x0A    ","#whisper-tabs","<div id=\"whisper-tabs\"></div>","Toggling whisper tab for:","collapsed",".whisper-window",".whisper-tab","Showing whisper tab for:","filter","send","Send whisper error:","Error sending whisper: ","Loading whisper messages for:","AJAX error details:","<div style=\"color: #f44336; padding: 10px;\">Failed to load messages. Check console for details.</div>","Whisper messages response:","API error:","<div style=\"color: #f44336; padding: 10px;\">Error: ","No whisper data found for user:","Whisper container not found:","<div style=\"text-align: center; color: #999; padding: 20px;\">No whispers yet</div>","sender_user_id_string","created_at","You","sender_username","sender_guest_name","sender_avatar","sender_color","sender_avatar_hue","sender_avatar_saturation","sent","received","\">\x0D\x0A            <img src=\"images/","\" \x0D\x0A                 class=\"private-message-avatar\" \x0D\x0A                 style=\"filter: hue-rotate(","%);\"\x0D\x0A                 alt=\"","\'s avatar\">\x0D\x0A            <div class=\"private-message-bubble "," user-color-","%);\">\x0D\x0A                <div class=\"private-message-header-info\">\x0D\x0A                    <div class=\"private-message-author\">","</div>\x0D\x0A                    <div class=\"private-message-time\">","</div>\x0D\x0A                </div>\x0D\x0A                \x0D\x0A                <div class=\"private-message-content\">","</div>\x0D\x0A            </div>\x0D\x0A        </div>\x0D\x0A    ","0",":focus",":visible","#friendsPanel","Invalid user data","Send friend request to ","add","Friend request sent to ","Send friend request error:","Error sending friend request: ","debugPagination","=== PAGINATION DEBUG ===","messageOffset:","messageLimit:","hasMoreOlderMessages:","totalMessageCount:","Load more button exists:","Current messages in DOM:","\ud83c\udfe0 Room loaded, roomId:","\u274c Invalid room ID, redirecting to lounge","#messageForm","keypress","which","#youtube-suggest-form","scroll","\ud83c\udfac YouTube enabled for this room","getItem","true","onYouTubeIframeAPIReady","\ud83c\udfac YouTube not enabled for this room","\ud83d\udeaa User is host, starting knock checking...","\u2705 Room initialization complete with managed updates","ready","beforeunload",".mobile-users-toggle","expanded","#youtube-queue-content","eq",".mobile-queue-btn","active expanded","tab","#queue-tab","#suggestions-tab","\ud83d\udcac Initializing private messaging...","\u2705 Private messaging initialized (using managed updates)","Loading friends...","Friends API error:","<p class=\"text-danger\">Failed to load friends. Check console for details.</p>","#friendsList","Friends response:","<p class=\"text-danger\">Error: ","Updating friends panel with:","<p class=\"text-muted small\">No friends yet. Add someone using the form above!</p>","\" width=\"24\" height=\"24\" class=\"me-2\" style=\"border-radius: 2px; filter: hue-rotate(","%);\">\x0D\x0A                        <div class=\"flex-grow-1\">\x0D\x0A                            <small style=\"color: #e0e0e0;\">","</small>\x0D\x0A                        </div>\x0D\x0A                        <button class=\"btn btn-sm btn-primary\" onclick=\"openPrivateMessage(","\')\">\x0D\x0A                            <i class=\"fas fa-comment\"></i>\x0D\x0A                        </button>\x0D\x0A                    </div>\x0D\x0A                ","pending","request_type","\" width=\"24\" height=\"24\" class=\"me-2\" style=\"border-radius: 2px;\">\x0D\x0A                        <div class=\"flex-grow-1\">\x0D\x0A                            <small style=\"color: #e0e0e0;\">","</small>\x0D\x0A                            <br><small class=\"text-warning\">Pending request</small>\x0D\x0A                        </div>\x0D\x0A                        <button class=\"btn btn-sm btn-success\" onclick=\"acceptFriend(",")\">\x0D\x0A                            <i class=\"fas fa-check\"></i>\x0D\x0A                        </button>\x0D\x0A                    </div>\x0D\x0A                ","</div></div>","#addFriendInput","Friend request sent!","accept","Friend request accepted!","Loading conversations...","Conversations API error:","<p class=\"text-danger small\">Failed to load conversations</p>","#conversationsList","Conversations response:","<p class=\"text-danger small\">Error loading conversations</p>","api/private_messages.php","<p class=\"text-muted small\">No conversations yet</p>","</span>","other_user_id","\')\">\x0D\x0A                    <img src=\"images/","%);\">\x0D\x0A                    <div class=\"flex-grow-1\">\x0D\x0A                        <small style=\"color: #e0e0e0;\">","</small>\x0D\x0A                        <br><small class=\"text-muted\">","last_message","...","No messages","</small>\x0D\x0A                    </div>\x0D\x0A                    ","\x0D\x0A                </div>\x0D\x0A            ","=== DEBUG openPrivateMessage ===","Received userId:","Type:","Received username:","Current user:","\">\x0D\x0A            <div class=\"private-message-header\">\x0D\x0A                <h6 class=\"private-message-title\">Chat with ","</h6>\x0D\x0A                <button class=\"private-message-close\" onclick=\"closePrivateMessage(",")\">&times;</button>\x0D\x0A            </div>\x0D\x0A            <div class=\"private-message-body\" id=\"pm-body-","\">\x0D\x0A                Loading messages...\x0D\x0A            </div>\x0D\x0A            <div class=\"private-message-input\">\x0D\x0A                <form class=\"private-message-form\" onsubmit=\"sendPrivateMessage(","); return false;\">\x0D\x0A                    <input type=\"text\" id=\"pm-input-","\" placeholder=\"Type a message...\" required>\x0D\x0A                    <button type=\"submit\">Send</button>\x0D\x0A                </form>\x0D\x0A            </div>\x0D\x0A        </div>\x0D\x0A    ","Fetching user info for userId:","api/get_user_info.php","User info response:","Fetched user color:","Failed to fetch user info:","Failed to fetch user info, using default color","=== DEBUG sendPrivateMessage ===","Sending message to recipientId:","Message content:","Request data being sent:","Send message response:","API Error:","Send message AJAX error:","Error sending message: ","Loading private messages with user:","Load messages error:","<div style=\"color: #f44336; padding: 10px;\">Failed to load messages</div>","Load messages response:","<div style=\"text-align: center; color: #999; padding: 20px;\">No messages yet</div>","sender_id","Avatar customization debug:","\">\x0D\x0A                <div class=\"private-message-header-info\">\x0D\x0A                    <div class=\"private-message-author\">","</div>\x0D\x0A                </div>\x0D\x0A                <div class=\"private-message-content\">","api/update_room_avatar_customization.php","Avatar customization synced:","Avatar sync failed:","Avatar sync error (non-critical):","%)","-","filter-applied","css","avatar-filtered","hue","saturation","each",".avatar-filtered, .message-avatar, .user-avatar, .private-message-avatar","stopPropagation","Avatar clicked - userId:","username:","null","target"," minutes\">\x0D\x0A            <i class=\"fas fa-clock\"></i> ","min\x0D\x0A        </span>\x0D\x0A    ",".room-title"," minutes.","Invite link copied to clipboard!","textarea","value","top","style","left","position","fixed","appendChild","select","copy","execCommand","Fallback: Oops, unable to copy","Unable to copy link automatically. Please copy manually.","removeChild","#announcementModal","#announcementMessage","Please enter an announcement message","#announcementModal .btn-warning","api/send_announcement.php","Announcement sent successfully to all rooms!","Failed to send announcement: ","\" readonly style=\"background: #333; border: 1px solid #555; color: #fff;\">\x0D\x0A                        </div>\x0D\x0A                        <div class=\"mb-3\">\x0D\x0A                            <label for=\"quickBanDuration\" class=\"form-label\">Ban Duration</label>\x0D\x0A                            <select class=\"form-select\" id=\"quickBanDuration\" style=\"background: #333; border: 1px solid #555; color: #fff;\">\x0D\x0A                                <option value=\"3600\">1 Hour</option>\x0D\x0A                                <option value=\"21600\">6 Hours</option>\x0D\x0A                                <option value=\"86400\">24 Hours</option>\x0D\x0A                                <option value=\"604800\">7 Days</option>\x0D\x0A                                <option value=\"permanent\">Permanent</option>\x0D\x0A                            </select>\x0D\x0A                        </div>\x0D\x0A                        <div class=\"mb-3\">\x0D\x0A                            <label for=\"quickBanReason\" class=\"form-label\">Reason</label>\x0D\x0A                            <textarea class=\"form-control\" id=\"quickBanReason\" rows=\"3\" placeholder=\"Enter reason for ban...\" style=\"background: #333; border: 1px solid #555; color: #fff;\"></textarea>\x0D\x0A                        </div>\x0D\x0A                    </div>\x0D\x0A                    <div class=\"modal-footer\" style=\"border-top: 1px solid #444;\">\x0D\x0A                        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Cancel</button>\x0D\x0A                        <button type=\"button\" class=\"btn btn-danger\" onclick=\"executeQuickBan(\'","\')\">\x0D\x0A                            <i class=\"fas fa-ban\"></i> Site Ban\x0D\x0A                        </button>\x0D\x0A                    </div>\x0D\x0A                </div>\x0D\x0A            </div>\x0D\x0A        </div>\x0D\x0A    ","#quickBanModal","#quickBanDuration","#quickBanReason","#quickBanModal .btn-danger","<i class=\"fas fa-spinner fa-spin\"></i> Banning...","api/site_ban_user.php","Failed to ban user: ","\ud83c\udff7\ufe0f Initializing mentions and replies system...","\u2705 Mentions and replies system initialized (using managed updates)",".mentions-panel, .mentions-counter","closest","keydown","key","Escape",".mentions-counter","</span> mention",".mention-count","find"," new mention","!\x0D\x0A        </div>\x0D\x0A    ",".mentions-panel","#mentionsContent","reply","fa-reply","fa-at","Reply","Mention","\" \x0D\x0A                 onclick=\"jumpToMessage(","message_id",", ",")\">\x0D\x0A                <div class=\"mention-notification-header\">\x0D\x0A                    <img src=\"images/","\" class=\"mention-notification-avatar\" alt=\"Avatar\">\x0D\x0A                    <span class=\"mention-notification-author\">","sender_name","</span>\x0D\x0A                    <span class=\"mention-notification-type ","\">\x0D\x0A                        <i class=\"fas ","\x0D\x0A                    </span>\x0D\x0A                </div>\x0D\x0A                <div class=\"mention-notification-content\">\x0D\x0A                    ","\x0D\x0A                </div>\x0D\x0A                <div class=\"mention-notification-time\">","</div>\x0D\x0A            </div>\x0D\x0A        ","\"]","animate","mentioned-highlight","api/mark_mentions_read.php","\x0D\x0A                </div>\x0D\x0A                <button class=\"reply-interface-close\" onclick=\"clearReplyInterface()\">\x0D\x0A                    <i class=\"fas fa-times\"></i>\x0D\x0A                </button>\x0D\x0A            </div>\x0D\x0A            <div class=\"reply-interface-preview\">\x0D\x0A                <div class=\"reply-preview-author\">","</div>\x0D\x0A                <div class=\"reply-preview-content\">","before",".chat-input-container",".reply-interface","floor","Just now","m ago","h ago","d ago","toLocaleDateString","#mentionHighlightCSS","head","<i class=\"fas fa-spinner fa-spin\"></i>","api/toggle_afk.php","toggle","AFK toggle error:","Failed to toggle AFK status: ","<i class=\"fas fa-plane-arrival\"></i>","<i class=\"fas fa-plane-departure\"></i>","m","h ","h","#afkStylesCSS","</div>\x0D\x0A            <div>AFK Timeout: ","AFK_TIMEOUT_MINUTES","min</div>\x0D\x0A            <div>Disconnect Timeout: ","DISCONNECT_TIMEOUT_MINUTES","min</div>\x0D\x0A            <div>Last Activity: ","</div>\x0D\x0A            <div>Current AFK: ",".activity-status-debug","\ud83d\udd04 Started combined YouTube updates (every 5s)","\u26a0\ufe0f YouTube update error:"];const DEBUG_MODE=false;const SHOW_SENSITIVE_DATA=false;function debugLog(_0x69D1,_0x6585= null){if(DEBUG_MODE){if(_0x6585!== null){debugLog(_$_b94f[0],_0x69D1,_0x6585)}else {debugLog(_$_b94f[0],_0x69D1)}}}function debugError(_0x69D1,_0x5FDB= null){if(DEBUG_MODE){if(_0x5FDB!== null){console[_$_b94f[1]](_$_b94f[0],_0x69D1,_0x5FDB)}else {console[_$_b94f[1]](_$_b94f[0],_0x69D1)}}}function criticalError(_0x69D1,_0x5FDB= null){if(_0x5FDB!== null){console[_$_b94f[1]](_$_b94f[2],_0x69D1,_0x5FDB)}else {console[_$_b94f[1]](_$_b94f[2],_0x69D1)}}let youtubeUpdateInterval=null;let isYoutubeUpdating=false;let messageOffset=0;let messageLimit=50;let totalMessageCount=0;let isLoadingMessages=false;let hasMoreOlderMessages=false;let isInitialLoad=true;let lastSeenMessageId=null;let initializedMessages=false;let friendshipCache= new Map();let friendshipCacheTimeout= new Map();let kickDetectionInterval;let userKickedModalShown=false;let kickDetectionEnabled=true;let lastStatusCheck=0;let consecutiveErrors=0;const ACTIVITY_CONFIG={HEARTBEAT_INTERVAL:30000,ACTIVITY_UPDATE_INTERVAL:5000,DISCONNECT_CHECK_INTERVAL:60000,STATUS_CHECK_INTERVAL:5000,MIN_ACTIVITY_INTERVAL:3000,AFK_TIMEOUT_MINUTES:20,DISCONNECT_TIMEOUT_MINUTES:80,SESSION_TIMEOUT_MINUTES:60};let activityInterval=null;let disconnectCheckInterval=null;let lastActivityUpdate=0;let userIsActive=true;let activityTrackingEnabled=false;let lastScrollTop=0;let lastMessageCount=0;let userIsScrolling=false;let lastPlayedMessageCount=0;function playMessageNotification(){const _0x7ACF= new Audio(_$_b94f[3])}let youtubePlayer=null;let youtubePlayerReady=false;let youtubeEnabled=false;let isYoutubeHost=false;let playerHidden=false;let lastSyncToken=null;let playerSyncInterval=null;let queueUpdateInterval=null;let currentVideoData=null;let playerQueue=[];let playerSuggestions=[];let youtubeAPIReady=false;let mentionNotifications=[];let currentReplyTo=null;let mentionCheckInterval=null;let mentionPanelOpen=false;let currentUserAFK=false;let manualAFK=false;let activityTracker={enabled:false,intervals:{heartbeat:null,activityUpdate:null,disconnectCheck:null,statusCheck:null},lastActivityUpdate:0,lastInteraction:0,userIsActive:false,activityQueue:[],init:function(){if(this[_$_b94f[4]]){debugLog(_$_b94f[5]);return};debugLog(_$_b94f[6]);this[_$_b94f[4]]= true;this[_$_b94f[7]]();this[_$_b94f[9]][_$_b94f[8]]= setInterval(()=>{this[_$_b94f[10]]()},ACTIVITY_CONFIG[_$_b94f[11]]);this[_$_b94f[9]][_$_b94f[12]]= setInterval(()=>{this[_$_b94f[13]]()},ACTIVITY_CONFIG[_$_b94f[14]]);this[_$_b94f[9]][_$_b94f[15]]= setInterval(()=>{this[_$_b94f[16]]()},ACTIVITY_CONFIG[_$_b94f[17]]);this[_$_b94f[9]][_$_b94f[18]]= setInterval(()=>{this[_$_b94f[19]]()},ACTIVITY_CONFIG[_$_b94f[20]]);this[_$_b94f[21]]();this[_$_b94f[23]](_$_b94f[22]);debugLog(_$_b94f[24])},cleanup:function(){debugLog(_$_b94f[25]);Object[_$_b94f[27]](this[_$_b94f[9]])[_$_b94f[26]]((_0x5E7D)=>{if(this[_$_b94f[9]][_0x5E7D]){clearInterval(this[_$_b94f[9]][_0x5E7D]);this[_$_b94f[9]][_0x5E7D]= null}});this[_$_b94f[4]]= false},setupActivityListeners:function(){debugLog(_$_b94f[28]);$(document)[_$_b94f[30]](_$_b94f[29]);$(window)[_$_b94f[30]](_$_b94f[31]);let _0x5EAF;const _0x5EE1=()=>{const _0x5F13=Date[_$_b94f[32]]();if(_0x5F13- this[_$_b94f[33]]< 1000){return};this[_$_b94f[33]]= _0x5F13;this[_$_b94f[34]]= true;clearTimeout(_0x5EAF);_0x5EAF= setTimeout(()=>{this[_$_b94f[23]](_$_b94f[35])},2000)};$(document)[_$_b94f[36]](_$_b94f[29],_0x5EE1);$(window)[_$_b94f[36]](_$_b94f[37],()=>{this[_$_b94f[23]](_$_b94f[38])});document[_$_b94f[42]](_$_b94f[39],()=>{if(!document[_$_b94f[40]]){this[_$_b94f[23]](_$_b94f[41])}});debugLog(_$_b94f[43])},recordActivity:function(_0x5F45){if(!this[_$_b94f[4]]){return};const _0x5F13=Date[_$_b94f[32]]();if(_0x5F13- this[_$_b94f[44]]>= ACTIVITY_CONFIG[_$_b94f[45]]){this[_$_b94f[47]][_$_b94f[46]]({type:_0x5F45,timestamp:_0x5F13});debugLog(("\ud83d\udcdd Recorded activity: "+_0x5F45+_$_b94f[48]))}},processActivityQueue:function(){if(!this[_$_b94f[4]]|| this[_$_b94f[47]][_$_b94f[49]]=== 0){return};const _0x5F77=this[_$_b94f[47]][this[_$_b94f[47]][_$_b94f[49]]- 1];this[_$_b94f[47]]= [];const _0x5F13=Date[_$_b94f[32]]();if(_0x5F13- this[_$_b94f[44]]>= ACTIVITY_CONFIG[_$_b94f[45]]){this[_$_b94f[51]](_0x5F77[_$_b94f[50]]);this[_$_b94f[44]]= _0x5F13}},sendActivityUpdate:function(_0x5F45){if(!this[_$_b94f[4]]){return};debugLog(("\ud83d\udce1 Sending activity update: "+_0x5F45+_$_b94f[48]));$[_$_b94f[67]]({url:_$_b94f[52],method:_$_b94f[53],data:{activity_type:_0x5F45},dataType:_$_b94f[54],timeout:5000,success:(_0x5FA9)=>{if(_0x5FA9[_$_b94f[55]]=== _$_b94f[56]){debugLog(("\u2705 Activity updated: "+_0x5F45+_$_b94f[48]));if(_0x5FA9[_$_b94f[57]]&& _0x5FA9[_$_b94f[58]]){debugLog(_$_b94f[59]);this[_$_b94f[60]](false);if( typeof showToast=== _$_b94f[61]){showToast(_$_b94f[62],_$_b94f[63])};setTimeout(()=>{if( typeof loadUsers=== _$_b94f[61]){loadUsers()};if( typeof loadMessages=== _$_b94f[61]){loadMessages()}},500)}}else {if(_0x5FA9[_$_b94f[55]]=== _$_b94f[64]){debugLog(_$_b94f[65]);this[_$_b94f[7]]();if( typeof checkUserStatus=== _$_b94f[61]){checkUserStatus()}}}},error:(_0x603F,_0x600D,_0x5FDB)=>{debugError(("\u26a0\ufe0f Activity update failed: "+_0x600D+_$_b94f[66]+_0x5FDB+_$_b94f[48]));if(_0x603F[_$_b94f[55]]=== 403|| _0x603F[_$_b94f[55]]=== 401){this[_$_b94f[7]]()}}})},sendHeartbeat:function(){if(!this[_$_b94f[4]]){return};debugLog(_$_b94f[68]);$[_$_b94f[67]]({url:_$_b94f[69],method:_$_b94f[53],dataType:_$_b94f[54],timeout:10000,success:(_0x5FA9)=>{if(_0x5FA9[_$_b94f[55]]=== _$_b94f[56]){debugLog(_$_b94f[70])}else {debugError(_$_b94f[71],_0x5FA9[_$_b94f[72]])}},error:(_0x603F,_0x600D,_0x5FDB)=>{debugError(("\ud83d\udc94 Heartbeat error: "+_0x600D+_$_b94f[66]+_0x5FDB+_$_b94f[48]));if(_0x603F[_$_b94f[55]]=== 403|| _0x603F[_$_b94f[55]]=== 401){debugError(_$_b94f[73]);this[_$_b94f[7]]()}}})},triggerDisconnectCheck:function(){if(!this[_$_b94f[4]]){return};debugLog(_$_b94f[74]);$[_$_b94f[67]]({url:_$_b94f[75],method:_$_b94f[76],dataType:_$_b94f[54],timeout:15000,success:(_0x5FA9)=>{if(_0x5FA9[_$_b94f[55]]=== _$_b94f[56]){const _0x6071=_0x5FA9[_$_b94f[77]];debugLog(_$_b94f[78],_0x6071);const _0x60A3=_0x6071[_$_b94f[79]]+ _0x6071[_$_b94f[80]]+ _0x6071[_$_b94f[81]]+ _0x6071[_$_b94f[82]];if(_0x60A3> 0){debugLog(("\ud83d\udc65 "+_0x60A3+_$_b94f[83]));setTimeout(()=>{if( typeof loadUsers=== _$_b94f[61]){loadUsers()};if( typeof loadMessages=== _$_b94f[61]){loadMessages()}},1000)}}else {debugError(_$_b94f[84],_0x5FA9[_$_b94f[72]])}},error:(_0x603F,_0x600D,_0x5FDB)=>{debugError(_$_b94f[85],_0x5FDB)}})},checkUserStatus:function(){if(!kickDetectionEnabled){return};const _0x5F13=Date[_$_b94f[32]]();if(_0x5F13- lastStatusCheck< 1000){return};lastStatusCheck= _0x5F13;$[_$_b94f[67]]({url:_$_b94f[86],method:_$_b94f[76],dataType:_$_b94f[54],timeout:5000,success:(_0x5FA9)=>{consecutiveErrors= 0;switch(_0x5FA9[_$_b94f[55]]){case _$_b94f[87]:this[_$_b94f[7]]();if( typeof handleUserBanned=== _$_b94f[61]){handleUserBanned(_0x5FA9)};break;case _$_b94f[88]:this[_$_b94f[7]]();if( typeof handleUserKicked=== _$_b94f[61]){handleUserKicked(_0x5FA9)};break;case _$_b94f[89]:this[_$_b94f[7]]();if( typeof handleRoomDeleted=== _$_b94f[61]){handleRoomDeleted(_0x5FA9)};break;case _$_b94f[64]:debugLog(_$_b94f[90]);this[_$_b94f[7]]();window[_$_b94f[92]][_$_b94f[91]]= _$_b94f[93];break;case _$_b94f[95]:debugLog(_$_b94f[94]);break;case _$_b94f[1]:debugError(_$_b94f[96],_0x5FA9[_$_b94f[72]]);consecutiveErrors++;break}},error:(_0x603F,_0x600D,_0x5FDB)=>{debugError(_$_b94f[97],{status,error});consecutiveErrors++;if(consecutiveErrors>= 5){debugError(_$_b94f[98]);this[_$_b94f[7]]();alert(_$_b94f[99]);window[_$_b94f[92]][_$_b94f[91]]= _$_b94f[93]}}})},handleAFKStatusChange:function(_0x60D5){currentUserAFK= _0x60D5;if( typeof updateAFKButton=== _$_b94f[61]){updateAFKButton()}}};if( typeof debugLog=== _$_b94f[100]){window[_$_b94f[101]]= function(..._0x6107){console[_$_b94f[103]](_$_b94f[102],..._0x6107)}};class RequestManager{ constructor(){this[_$_b94f[104]]= 0;this[_$_b94f[105]]= 2;this[_$_b94f[106]]= [];this[_$_b94f[107]]= false;this[_$_b94f[108]]=  new Map()}async  makeRequest(_0x78DB){return  new Promise((_0x81D7,_0x81A5)=>{this[_$_b94f[106]][_$_b94f[46]]({options: _0x78DB, resolve: _0x81D7, reject: _0x81A5});this[_$_b94f[109]]()})}async  processQueue(){if(this[_$_b94f[107]]|| this[_$_b94f[106]][_$_b94f[49]]=== 0){return};this[_$_b94f[107]]= true;while(this[_$_b94f[106]][_$_b94f[49]]> 0&& this[_$_b94f[104]]< this[_$_b94f[105]]){const {options,resolve,reject}=this[_$_b94f[106]][_$_b94f[110]]();this[_$_b94f[111]](options,resolve,reject)};this[_$_b94f[107]]= false;if(this[_$_b94f[106]][_$_b94f[49]]> 0){setTimeout(()=>{return this[_$_b94f[109]]()},100)}} executeRequest(_0x78DB,_0x81D7,_0x81A5){this[_$_b94f[104]]++;const _0x826D=Date[_$_b94f[32]]();const _0x71D3=_0x78DB[_$_b94f[112]];if(!this[_$_b94f[108]][_$_b94f[113]](_0x71D3)){this[_$_b94f[108]][_$_b94f[114]](_0x71D3,{count:0,totalTime:0,avgTime:0})};const _0x823B=_0x78DB[_$_b94f[56]]|| (()=>{});const _0x8209=_0x78DB[_$_b94f[1]]|| (()=>{});_0x78DB[_$_b94f[56]]= (_0x6585)=>{this[_$_b94f[104]]--;const _0x6841=Date[_$_b94f[32]]()- _0x826D;const _0x829F=this[_$_b94f[108]][_$_b94f[115]](_0x71D3);_0x829F[_$_b94f[116]]++;_0x829F[_$_b94f[117]]+= _0x6841;_0x829F[_$_b94f[118]]= _0x829F[_$_b94f[117]]/ _0x829F[_$_b94f[116]];if(DEBUG_MODE){console[_$_b94f[103]](("\u2705 "+_0x71D3+_$_b94f[119]+_0x6841+_$_b94f[120]+Math[_$_b94f[121]](_0x829F[_$_b94f[118]])+_$_b94f[122]))};_0x823B(_0x6585);_0x81D7(_0x6585);this[_$_b94f[109]]()};_0x78DB[_$_b94f[1]]= (_0x603F,_0x600D,_0x5FDB)=>{this[_$_b94f[104]]--;if(DEBUG_MODE){console[_$_b94f[1]](("\u274c "+_0x71D3+_$_b94f[119]+_0x5FDB+_$_b94f[48]))};_0x8209(_0x603F,_0x600D,_0x5FDB);_0x81A5(_0x5FDB);this[_$_b94f[109]]()};$[_$_b94f[67]](_0x78DB)} getStats(){const _0x829F={};this[_$_b94f[108]][_$_b94f[26]]((_0x82D1,_0x5E7D)=>{_0x829F[_0x5E7D]= {count:_0x82D1[_$_b94f[116]],avgTime:Math[_$_b94f[121]](_0x82D1[_$_b94f[118]])}});return _0x829F}};const requestManager= new RequestManager();function managedAjax(_0x78DB){return requestManager[_$_b94f[123]](_0x78DB)}function loadYouTubeAPI(){if(window[_$_b94f[124]]&& window[_$_b94f[124]][_$_b94f[125]]){youtubeAPIReady= true;initializeYouTubePlayer();return};if(document[_$_b94f[127]](_$_b94f[126])){return};const _0x78A9=document[_$_b94f[129]](_$_b94f[128]);_0x78A9[_$_b94f[130]]= _$_b94f[131];const _0x7877=document[_$_b94f[132]](_$_b94f[128])[0];_0x7877[_$_b94f[134]][_$_b94f[133]](_0x78A9,_0x7877);debugLog(_$_b94f[135])}function fetchAllRoomData(){const _0x70D9=[];_0x70D9[_$_b94f[46]](managedAjax({url:_$_b94f[139],method:_$_b94f[76],data:{room_id:roomId,limit:messageLimit,offset:0},dataType:_$_b94f[54]})[_$_b94f[138]]((_0x5FA9)=>{handleMessagesResponse(_0x5FA9)})[_$_b94f[137]]((_0x5FDB)=>{console[_$_b94f[1]](_$_b94f[136],_0x5FDB)}));_0x70D9[_$_b94f[46]](managedAjax({url:_$_b94f[141],method:_$_b94f[76],data:{room_id:roomId},dataType:_$_b94f[54]})[_$_b94f[138]]((_0x5FA9)=>{handleUsersResponse(_0x5FA9)})[_$_b94f[137]]((_0x5FDB)=>{console[_$_b94f[1]](_$_b94f[140],_0x5FDB)}));_0x70D9[_$_b94f[46]](managedAjax({url:_$_b94f[143],method:_$_b94f[76],dataType:_$_b94f[54]})[_$_b94f[138]]((_0x5FA9)=>{handleMentionsResponse(_0x5FA9)})[_$_b94f[137]]((_0x5FDB)=>{console[_$_b94f[1]](_$_b94f[142],_0x5FDB)}));_0x70D9[_$_b94f[46]](managedAjax({url:_$_b94f[145],method:_$_b94f[76],data:{action:_$_b94f[146]},dataType:_$_b94f[54]})[_$_b94f[138]]((_0x5FA9)=>{handleWhispersResponse(_0x5FA9)})[_$_b94f[137]]((_0x5FDB)=>{console[_$_b94f[1]](_$_b94f[144],_0x5FDB)}));if(youtubeEnabled){_0x70D9[_$_b94f[46]](managedAjax({url:_$_b94f[148],method:_$_b94f[76],dataType:_$_b94f[54]})[_$_b94f[138]]((_0x5FA9)=>{handleYouTubeResponse(_0x5FA9)})[_$_b94f[137]]((_0x5FDB)=>{console[_$_b94f[1]](_$_b94f[147],_0x5FDB)}))};return Promise[_$_b94f[149]](_0x70D9)}function handleMessagesResponse(_0x6585){if(_0x6585[_$_b94f[55]]=== _$_b94f[56]){const _0x6CF1=_0x6585[_$_b94f[150]]|| [];let _0x6A99=_$_b94f[48];if(_0x6CF1[_$_b94f[49]]=== 0){_0x6A99= _$_b94f[151]}else {_0x6CF1[_$_b94f[26]]((_0x6E4F)=>{_0x6A99+= renderMessage(_0x6E4F)})};const _0x729B=$(_$_b94f[152]);const _0x6D55=isInitialLoad|| (_0x729B[_$_b94f[153]]()+ _0x729B[_$_b94f[154]]()>= _0x729B[0][_$_b94f[155]]- 20);_0x729B[_$_b94f[156]](_0x6A99);if(_0x6D55|| isInitialLoad){setTimeout(()=>{_0x729B[_$_b94f[153]](_0x729B[0][_$_b94f[155]])},50);isInitialLoad= false};if( typeof applyAllAvatarFilters=== _$_b94f[61]){setTimeout(applyAllAvatarFilters,100)}}}function handleUsersResponse(_0x7363){if(Array[_$_b94f[157]](_0x7363)){let _0x6A99=_$_b94f[48];if(_0x7363[_$_b94f[49]]=== 0){_0x6A99= _$_b94f[158]}else {_0x7363[_$_b94f[165]]((_0x7395,_0x73C7)=>{if(_0x7395[_$_b94f[159]]&&  !_0x73C7[_$_b94f[159]]){return -1};if(!_0x7395[_$_b94f[159]]&& _0x73C7[_$_b94f[159]]){return 1};const _0x73F9=_0x7395[_$_b94f[160]]|| _0x7395[_$_b94f[161]]|| _0x7395[_$_b94f[162]]|| _$_b94f[163];const _0x742B=_0x73C7[_$_b94f[160]]|| _0x73C7[_$_b94f[161]]|| _0x73C7[_$_b94f[162]]|| _$_b94f[163];return _0x73F9[_$_b94f[164]](_0x742B)});_0x7363[_$_b94f[26]]((_0x745D)=>{_0x6A99+= renderUser(_0x745D)})};$(_$_b94f[166])[_$_b94f[156]](_0x6A99)}}function handleMentionsResponse(_0x5FA9){if(_0x5FA9[_$_b94f[55]]=== _$_b94f[56]){mentionNotifications= _0x5FA9[_$_b94f[167]];updateMentionCounter(_0x5FA9[_$_b94f[168]]);if(_0x5FA9[_$_b94f[168]]> 0&&  !mentionPanelOpen){showNewMentionNotification(_0x5FA9[_$_b94f[168]])}}}function handleWhispersResponse(_0x5FA9){if(_0x5FA9[_$_b94f[55]]=== _$_b94f[56]){_0x5FA9[_$_b94f[175]][_$_b94f[26]]((_0x6553)=>{const _0x661B=_0x6553[_$_b94f[169]];if(_0x6553[_$_b94f[168]]> 0&&  !openWhispers[_$_b94f[113]](_0x661B)){const _0x65B7=_0x6553[_$_b94f[161]]|| _0x6553[_$_b94f[162]]|| _$_b94f[163];openWhisper(_0x661B,_0x65B7)};if(openWhispers[_$_b94f[113]](_0x661B)){const _0x6585=openWhispers[_$_b94f[115]](_0x661B);_0x6585[_$_b94f[170]]= _0x6553[_$_b94f[168]];openWhispers[_$_b94f[114]](_0x661B,_0x6585);const _0x65E9=$(("#whisper-unread-"+_0x6585[_$_b94f[171]]+_$_b94f[48]));if(_0x6553[_$_b94f[168]]> 0){_0x65E9[_$_b94f[173]](_0x6553[_$_b94f[168]])[_$_b94f[172]]()}else {_0x65E9[_$_b94f[174]]()}}})}}function handleYouTubeResponse(_0x5FA9){if(_0x5FA9[_$_b94f[55]]=== _$_b94f[56]){const _0x648B=_0x5FA9[_$_b94f[176]];if(_0x648B[_$_b94f[4]]&& _0x648B[_$_b94f[177]]!== lastSyncToken){debugLog(_$_b94f[178],_0x648B);lastSyncToken= _0x648B[_$_b94f[177]];applySyncState(_0x648B)};const _0x748F=_0x5FA9[_$_b94f[179]];playerQueue= _0x748F[_$_b94f[180]]|| [];playerSuggestions= _0x748F[_$_b94f[181]]|| [];currentVideoData= _0x748F[_$_b94f[182]];renderQueue();renderSuggestions();updateVideoInfo()}}function applySyncState(_0x648B){if(!youtubePlayerReady){return};if(_0x648B[_$_b94f[183]]){const _0x6459=getCurrentVideoId();if(_0x6459!== _0x648B[_$_b94f[183]]){youtubePlayer[_$_b94f[185]]({videoId:_0x648B[_$_b94f[183]],startSeconds:_0x648B[_$_b94f[184]]})}else {const _0x6427=youtubePlayer[_$_b94f[186]]();const _0x64BD=Math[_$_b94f[187]](_0x6427- _0x648B[_$_b94f[184]]);if(_0x64BD> 3){youtubePlayer[_$_b94f[188]](_0x648B[_$_b94f[184]],true)}};if(_0x648B[_$_b94f[189]]&& youtubePlayer[_$_b94f[190]]()!== YT[_$_b94f[192]][_$_b94f[191]]){youtubePlayer[_$_b94f[193]]()}else {if(!_0x648B[_$_b94f[189]]&& youtubePlayer[_$_b94f[190]]()=== YT[_$_b94f[192]][_$_b94f[191]]){youtubePlayer[_$_b94f[194]]()}}}else {if(youtubePlayer[_$_b94f[190]]()!== YT[_$_b94f[192]][_$_b94f[195]]){youtubePlayer[_$_b94f[196]]()}}}let roomUpdateInterval=null;let isUpdatingRoom=false;function startRoomUpdates(){if(roomUpdateInterval){clearInterval(roomUpdateInterval)};roomUpdateInterval= setInterval(updateAllRoomData,3000);updateAllRoomData();debugLog(_$_b94f[197])}function updateAllRoomData(){if(isUpdatingRoom){debugLog(_$_b94f[198]);return};isUpdatingRoom= true;fetchAllRoomData()[_$_b94f[199]](()=>{isUpdatingRoom= false})}function stopRoomUpdates(){if(roomUpdateInterval){clearInterval(roomUpdateInterval);roomUpdateInterval= null};isUpdatingRoom= false;debugLog(_$_b94f[200])}window[_$_b94f[201]]= function(){console[_$_b94f[203]](requestManager[_$_b94f[202]]());console[_$_b94f[103]](_$_b94f[204],requestManager[_$_b94f[104]]);console[_$_b94f[103]](_$_b94f[205],requestManager[_$_b94f[106]][_$_b94f[49]])};function checkIfFriend(_0x66E3,_0x66B1){if(!_0x66E3|| currentUser[_$_b94f[50]]!== _$_b94f[206]){_0x66B1(false);return};if(friendshipCache[_$_b94f[113]](_0x66E3)){_0x66B1(friendshipCache[_$_b94f[115]](_0x66E3));return};$[_$_b94f[67]]({url:_$_b94f[207],method:_$_b94f[76],data:{action:_$_b94f[115]},dataType:_$_b94f[54],success:function(_0x5FA9){if(_0x5FA9[_$_b94f[55]]=== _$_b94f[56]){const _0x6715=_0x5FA9[_$_b94f[211]][_$_b94f[210]]((_0x6747)=>{return _0x6747[_$_b94f[208]]== _0x66E3&& _0x6747[_$_b94f[55]]=== _$_b94f[209]});friendshipCache[_$_b94f[114]](_0x66E3,_0x6715);if(friendshipCacheTimeout[_$_b94f[113]](_0x66E3)){clearTimeout(friendshipCacheTimeout[_$_b94f[115]](_0x66E3))};friendshipCacheTimeout[_$_b94f[114]](_0x66E3,setTimeout(()=>{friendshipCache[_$_b94f[212]](_0x66E3);friendshipCacheTimeout[_$_b94f[212]](_0x66E3)},30000));_0x66B1(_0x6715)}else {_0x66B1(false)}},error:function(){_0x66B1(false)}})}function clearFriendshipCache(_0x66E3= null){if(_0x66E3){friendshipCache[_$_b94f[212]](_0x66E3);if(friendshipCacheTimeout[_$_b94f[113]](_0x66E3)){clearTimeout(friendshipCacheTimeout[_$_b94f[115]](_0x66E3));friendshipCacheTimeout[_$_b94f[212]](_0x66E3)}}else {friendshipCache[_$_b94f[213]]();friendshipCacheTimeout[_$_b94f[26]]((_0x6779)=>{return clearTimeout(_0x6779)});friendshipCacheTimeout[_$_b94f[213]]()}}function sendMessage(){const _0x83CB=$(_$_b94f[214]);const _0x69D1=_0x83CB[_$_b94f[216]]()[_$_b94f[215]]();if(!_0x69D1){_0x83CB[_$_b94f[217]]();return false};debugLog(_$_b94f[218],_0x69D1);validateImagesInMessage(_0x69D1)[_$_b94f[138]]((_0x83FD)=>{if(!_0x83FD[_$_b94f[221]]){alert(("Cannot send message: "+_0x83FD[_$_b94f[1]]+_$_b94f[48]));_0x83CB[_$_b94f[217]]();return};sendValidatedMessage(_0x69D1)})[_$_b94f[137]]((_0x5FDB)=>{console[_$_b94f[1]](_$_b94f[219],_0x5FDB);alert(_$_b94f[220]);_0x83CB[_$_b94f[217]]()});return false}async function validateImagesInMessage(_0x69D1){const _0x8C63=/!\[([^\]]*)\]\(([^)]+)\)/g;const _0x8C95=[];let _0x71A1;while((_0x71A1= _0x8C63[_$_b94f[222]](_0x69D1))!== null){_0x8C95[_$_b94f[46]]({alt:_0x71A1[1],url:_0x71A1[2][_$_b94f[215]]()})};if(_0x8C95[_$_b94f[49]]=== 0){return {valid:true}};console[_$_b94f[103]](_$_b94f[223],_0x8C95);for(let _0x8BFF=0;_0x8BFF< _0x8C95[_$_b94f[49]];_0x8BFF++){const _0x8C31=_0x8C95[_0x8BFF];if(!isValidImageUrl(_0x8C31[_$_b94f[112]])){return {valid:false,error:("Invalid image URL: "+_0x8C31[_$_b94f[112]]+_$_b94f[48])}};const _0x8CC7= await testImageAccessibility(_0x8C31[_$_b94f[112]]);if(!_0x8CC7){return {valid:false,error:("Image not accessible: "+_0x8C31[_$_b94f[112]]+_$_b94f[48])}}};return {valid:true}}function isValidImageUrl(_0x71D3){try{const _0x7525= new URL(_0x71D3);if(![_$_b94f[226],_$_b94f[227]][_$_b94f[225]](_0x7525[_$_b94f[224]])){return false};const _0x74F3=_0x7525[_$_b94f[229]][_$_b94f[228]]();const _0x74C1=/\.(jpg|jpeg|png|gif|webp)(\?.*)?$/i[_$_b94f[230]](_0x71D3);return _0x74C1}catch(e){return false}}function testImageAccessibility(_0x71D3){return  new Promise((_0x81D7)=>{const _0x8943= new Image();const _0x6779=setTimeout(()=>{_0x8943[_$_b94f[231]]= _0x8943[_$_b94f[232]]= null;_0x81D7(false)},5000);_0x8943[_$_b94f[231]]= ()=>{clearTimeout(_0x6779);_0x81D7(true)};_0x8943[_$_b94f[232]]= ()=>{clearTimeout(_0x6779);_0x81D7(false)};const _0x88DF=window[_$_b94f[92]][_$_b94f[233]];let _0x8911=_0x71D3;try{const _0x8975= new URL(_0x71D3)[_$_b94f[233]];if(_0x8975!== _0x88DF){_0x8911= ("api/image_proxy.php?url="+encodeURIComponent(_0x71D3)+_$_b94f[48])}}catch(e){};_0x8943[_$_b94f[130]]= _0x8911})}function sendValidatedMessage(_0x69D1){const _0x83CB=$(_$_b94f[214]);const _0x8493=$(_$_b94f[234]);const _0x68A5=_0x8493[_$_b94f[156]]();_0x8493[_$_b94f[237]](_$_b94f[236],true)[_$_b94f[156]](_$_b94f[235]);if( typeof activityTracker!== _$_b94f[100]){activityTracker[_$_b94f[23]](_$_b94f[238])};const _0x84C5={room_id:roomId,message:_0x69D1};if( typeof currentReplyTo!== _$_b94f[100]&& currentReplyTo){_0x84C5[_$_b94f[239]]= currentReplyTo};$[_$_b94f[67]]({url:_$_b94f[240],method:_$_b94f[53],data:_0x84C5,dataType:_$_b94f[54],success:function(_0x5FA9){if(_0x5FA9[_$_b94f[55]]=== _$_b94f[56]){_0x83CB[_$_b94f[216]](_$_b94f[48]);if( typeof clearReplyInterface=== _$_b94f[61]){clearReplyInterface()};if(_0x5FA9[_$_b94f[241]]){debugLog(_$_b94f[242]);if( typeof activityTracker!== _$_b94f[100]){activityTracker[_$_b94f[60]](false)};if( typeof showToast=== _$_b94f[61]){showToast(_$_b94f[62],_$_b94f[63])};setTimeout(()=>{if( typeof loadUsers=== _$_b94f[61]){loadUsers()}},500)};if( typeof loadMessages=== _$_b94f[61]){loadMessages()};setTimeout(()=>{if( typeof checkUserStatus=== _$_b94f[61]){checkUserStatus()}},200)}else {alert(_$_b94f[243]+ _0x5FA9[_$_b94f[72]])}},error:function(_0x603F,_0x600D,_0x5FDB){console[_$_b94f[1]](_$_b94f[244],_0x600D,_0x5FDB);alert(_$_b94f[245]+ _0x5FDB)},complete:function(){_0x8493[_$_b94f[237]](_$_b94f[236],false)[_$_b94f[156]](_0x68A5);_0x83CB[_$_b94f[217]]()}})}function loadMessages(_0x774B= false){if(isLoadingMessages){return};debugLog(_$_b94f[246],roomId,_$_b94f[247],_0x774B,_$_b94f[248],messageOffset);isLoadingMessages= true;if(_0x774B){$(_$_b94f[251])[_$_b94f[156]](_$_b94f[250])[_$_b94f[237]](_$_b94f[249],null)};$[_$_b94f[67]]({url:_$_b94f[139],method:_$_b94f[76],data:{room_id:roomId,limit:messageLimit,offset:_0x774B?messageOffset:0,load_older:_0x774B},dataType:_$_b94f[54],success:function(_0x6585){debugLog(_$_b94f[252],_0x6585);try{if(_0x6585[_$_b94f[55]]=== _$_b94f[1]){throw  new Error(_0x6585[_$_b94f[72]])};let _0x6CF1=_0x6585[_$_b94f[150]]|| [];let _0x77E1=_0x6585[_$_b94f[253]]|| {};totalMessageCount= _0x77E1[_$_b94f[254]]|| 0;hasMoreOlderMessages= _0x77E1[_$_b94f[255]]|| false;debugLog(_$_b94f[256],totalMessageCount,_$_b94f[257],hasMoreOlderMessages,_$_b94f[258],messageOffset);let _0x6A99=_$_b94f[48];if(!Array[_$_b94f[157]](_0x6CF1)){console[_$_b94f[1]](_$_b94f[259],_0x6CF1);_0x6A99= _$_b94f[260]}else {if(_0x6CF1[_$_b94f[49]]=== 0&&  !_0x774B){_0x6A99= _$_b94f[151]}else {_0x6CF1[_$_b94f[26]]((_0x6E4F)=>{_0x6A99+= renderMessage(_0x6E4F)})}};const _0x729B=$(_$_b94f[152]);if(_0x774B&& _0x6CF1[_$_b94f[49]]> 0){const _0x77AF=_0x729B[_$_b94f[153]]();const _0x777D=_0x729B[0][_$_b94f[155]];$(_$_b94f[251])[_$_b94f[261]](_0x6A99);requestAnimationFrame(()=>{const _0x7845=_0x729B[0][_$_b94f[155]];const _0x7813=_0x7845- _0x777D;_0x729B[_$_b94f[153]](_0x77AF+ _0x7813)});messageOffset+= _0x6CF1[_$_b94f[49]];debugLog(_$_b94f[262],_0x6CF1[_$_b94f[49]],_$_b94f[263],messageOffset)}else {if(_0x774B&& _0x6CF1[_$_b94f[49]]=== 0){$(_$_b94f[251])[_$_b94f[264]]();hasMoreOlderMessages= false}else {if(!_0x774B){const _0x6D55=isInitialLoad|| (_0x729B[_$_b94f[153]]()+ _0x729B[_$_b94f[154]]()>= _0x729B[0][_$_b94f[155]]- 20);_0x729B[_$_b94f[156]](_0x6A99);messageOffset= _0x6CF1[_$_b94f[49]];debugLog(_$_b94f[265],_0x6CF1[_$_b94f[49]],_$_b94f[266],messageOffset,_$_b94f[257],hasMoreOlderMessages);if(_0x6D55|| isInitialLoad){setTimeout(()=>{_0x729B[_$_b94f[153]](_0x729B[0][_$_b94f[155]])},50);isInitialLoad= false};if(!isInitialLoad&& _0x6CF1[_$_b94f[49]]> lastMessageCount){playMessageNotification();lastPlayedMessageCount= _0x6CF1[_$_b94f[49]]};lastMessageCount= _0x6CF1[_$_b94f[49]]}}};if( typeof applyAllAvatarFilters=== _$_b94f[61]){setTimeout(applyAllAvatarFilters,100)}}catch(e){console[_$_b94f[1]](_$_b94f[267],e,_0x6585);$(_$_b94f[152])[_$_b94f[156]](_$_b94f[268])}},error:function(_0x603F,_0x600D,_0x5FDB){console[_$_b94f[1]](_$_b94f[269],_0x600D,_0x5FDB,_0x603F[_$_b94f[270]]);if(_0x774B){$(_$_b94f[251])[_$_b94f[156]](_$_b94f[273])[_$_b94f[272]](_$_b94f[249],_$_b94f[271])}else {$(_$_b94f[152])[_$_b94f[156]](_$_b94f[274])}},complete:function(){isLoadingMessages= false}})}function loadOlderMessages(){debugLog(_$_b94f[275],hasMoreOlderMessages,_$_b94f[276],isLoadingMessages);if(!isLoadingMessages&& hasMoreOlderMessages){loadMessages(true)}else {if(isLoadingMessages){debugLog(_$_b94f[277])}else {if(!hasMoreOlderMessages){debugLog(_$_b94f[278])}}}}$(document)[_$_b94f[36]](_$_b94f[279],_$_b94f[251],function(_0x6139){_0x6139[_$_b94f[280]]();debugLog(_$_b94f[281]);loadOlderMessages()});function resetMessagePagination(){messageOffset= 0;totalMessageCount= 0;isLoadingMessages= false;hasMoreOlderMessages= false;isInitialLoad= true;$(_$_b94f[251])[_$_b94f[264]]()}function pollForNewMessages(){if(isLoadingMessages){return};const _0x729B=$(_$_b94f[152]);const _0x7B01=_0x729B[_$_b94f[153]]()+ _0x729B[_$_b94f[154]]()>= _0x729B[0][_$_b94f[155]]- 100;if(_0x7B01){$[_$_b94f[67]]({url:_$_b94f[139],method:_$_b94f[76],data:{room_id:roomId,limit:5,offset:0},success:function(_0x5FA9){try{let _0x6585=JSON[_$_b94f[282]](_0x5FA9);if(_0x6585[_$_b94f[55]]=== _$_b94f[56]&& _0x6585[_$_b94f[150]]&& _0x6585[_$_b94f[150]][_$_b94f[49]]> 0){const _0x7B65=_0x6585[_$_b94f[150]][_0x6585[_$_b94f[150]][_$_b94f[49]]- 1];const _0x7B33=$(_$_b94f[286])[_$_b94f[285]]()[_$_b94f[284]](_$_b94f[283]);if(_0x7B65[_$_b94f[287]]!= _0x7B33){const _0x6D55=_0x729B[_$_b94f[153]]()+ _0x729B[_$_b94f[154]]()>= _0x729B[0][_$_b94f[155]]- 50;if(_0x6D55){loadMessages()}}}}catch(e){console[_$_b94f[289]](_$_b94f[288],e)}},error:function(){console[_$_b94f[289]](_$_b94f[290])}})}}function optimizeForMobile(){const _0x7A9D=window[_$_b94f[291]]<= 768|| /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i[_$_b94f[230]](navigator[_$_b94f[292]]);if(_0x7A9D){messageLimit= 20}}function getUserColor(_0x6E4F){if(_0x6E4F&& _0x6E4F[_$_b94f[293]]){return ("user-color-"+_0x6E4F[_$_b94f[293]]+_$_b94f[48])};if(_0x6E4F&& _0x6E4F[_$_b94f[294]]){return ("user-color-"+_0x6E4F[_$_b94f[294]]+_$_b94f[48])};return _$_b94f[295]}function renderMessage(_0x6E4F){const _0x6AFD=_0x6E4F[_$_b94f[296]]|| _0x6E4F[_$_b94f[297]]|| _$_b94f[298];const _0x7719=_0x6E4F[_$_b94f[161]]|| _0x6E4F[_$_b94f[162]]|| _$_b94f[163];const _0x661B=_0x6E4F[_$_b94f[299]]|| _0x6E4F[_$_b94f[300]]|| _$_b94f[301];const _0x62FB=_0x6E4F[_$_b94f[302]]!== undefined?_0x6E4F[_$_b94f[302]]:(_0x6E4F[_$_b94f[303]]|| 0);const _0x63C3=_0x6E4F[_$_b94f[304]]!== undefined?_0x6E4F[_$_b94f[304]]:(_0x6E4F[_$_b94f[305]]|| 100);const _0x6F7B=_0x6E4F[_$_b94f[306]]|| 0;const _0x6FAD=_0x6E4F[_$_b94f[307]]|| 100;if(_0x6E4F[_$_b94f[50]]=== _$_b94f[308]){return ("\x0D\x0A            <div class=\"system-message announcement-message\">\x0D\x0A                <div class=\"announcement-header\">\x0D\x0A                    <i class=\"fas fa-bullhorn\"></i>\x0D\x0A                    <span class=\"announcement-label\">SITE ANNOUNCEMENT</span>\x0D\x0A                </div>\x0D\x0A                <div class=\"announcement-content\">\x0D\x0A                    "+_0x6E4F[_$_b94f[72]]+_$_b94f[309])};if(_0x6E4F[_$_b94f[50]]=== _$_b94f[310]|| _0x6E4F[_$_b94f[311]]){const _0x7F4D=_0x6E4F[_$_b94f[303]]|| _0x6E4F[_$_b94f[302]]|| 0;const _0x7F7F=_0x6E4F[_$_b94f[305]]|| _0x6E4F[_$_b94f[304]]|| 100;return ("\x0D\x0A            <div class=\"system-message\">\x0D\x0A                <img src=\"images/"+_0x6AFD+_$_b94f[312]+_0x7F4D+_$_b94f[313]+_0x7F7F+_$_b94f[314]+_0x6E4F[_$_b94f[72]]+_$_b94f[315])};const _0x7FE3=getUserColor(_0x6E4F);const _0x7FB1= new Date(_0x6E4F[_$_b94f[318]])[_$_b94f[317]]([],{hour:_$_b94f[316],minute:_$_b94f[316]});const _0x7CF5=_0x6E4F[_$_b94f[300]]&& _0x6E4F[_$_b94f[300]]> 0;const _0x7CC3=_0x6E4F[_$_b94f[299]]=== currentUserIdString;let _0x7C5F=_$_b94f[48];if(_0x7CF5){_0x7C5F= ("onclick=\"handleAvatarClick(event, "+_0x6E4F[_$_b94f[300]]+_$_b94f[319]+(_0x6E4F[_$_b94f[161]]|| _$_b94f[48])[_$_b94f[321]](/'/g,_$_b94f[320])+_$_b94f[322])}else {if(_0x7CC3){_0x7C5F= "onclick=\"showProfileEditor()\" style=\"cursor: pointer;\""}};let _0x7C91=_$_b94f[48];if(_0x6E4F[_$_b94f[323]]){_0x7C91+= _$_b94f[324]};if(_0x6E4F[_$_b94f[325]]){_0x7C91+= _$_b94f[326]};if(_0x6E4F[_$_b94f[159]]){_0x7C91+= _$_b94f[327]};if(_0x6E4F[_$_b94f[300]]&&  !_0x6E4F[_$_b94f[323]]&&  !_0x6E4F[_$_b94f[325]]){_0x7C91+= _$_b94f[328]}else {if(!_0x6E4F[_$_b94f[300]]){_0x7C91+= _$_b94f[329]}};let _0x7C2D=_$_b94f[48];let _0x7D59=_$_b94f[48];if((isAdmin|| isModerator)&& _0x6E4F[_$_b94f[299]]!== currentUserIdString){_0x7D59= ("\x0D\x0A            <div class=\"moderator-actions\">\x0D\x0A                <button class=\"btn btn-sm btn-outline-danger\" onclick=\"showQuickBanModal(\'"+_0x6E4F[_$_b94f[299]]+_$_b94f[330]+_0x7719[_$_b94f[321]](/'/g,_$_b94f[320])+_$_b94f[330]+(_0x6E4F[_$_b94f[331]]|| _$_b94f[48])+_$_b94f[332]+_0x6E4F[_$_b94f[331]]+_$_b94f[333])};let _0x7F1B=_$_b94f[48];if(_0x6E4F[_$_b94f[334]]&& _0x6E4F[_$_b94f[335]]){let _0x7DBD=_$_b94f[163];if(_0x6E4F[_$_b94f[336]]){_0x7DBD= _0x6E4F[_$_b94f[336]]}else {if(_0x6E4F[_$_b94f[337]]){_0x7DBD= _0x6E4F[_$_b94f[337]]}else {if(_0x6E4F[_$_b94f[338]]){_0x7DBD= _0x6E4F[_$_b94f[338]]}}};let _0x7DEF=_$_b94f[298];if(_0x6E4F[_$_b94f[339]]){_0x7DEF= _0x6E4F[_$_b94f[339]]}else {if(_0x6E4F[_$_b94f[340]]){_0x7DEF= _0x6E4F[_$_b94f[340]]}};const _0x7E21=_0x6E4F[_$_b94f[341]]|| 0;const _0x7E53=_0x6E4F[_$_b94f[342]]|| 100;const _0x7E85=_0x6E4F[_$_b94f[343]]|| 0;const _0x7EB7=_0x6E4F[_$_b94f[344]]|| 100;const _0x7EE9=_0x6E4F[_$_b94f[345]]|| _$_b94f[346];_0x7F1B= ("\x0D\x0A        <div class=\"message-reply user-color-"+_0x7EE9+_$_b94f[347]+_0x7E85+_$_b94f[313]+_0x7EB7+_$_b94f[348]+-_0x7E85+_$_b94f[313]+(_0x7EB7> 0?(10000/ _0x7EB7):100)+_$_b94f[349]+_0x7DEF+_$_b94f[350]+_0x7E21+_$_b94f[313]+_0x7E53+_$_b94f[351]+_0x7DBD+_$_b94f[352]+_0x7DBD+_$_b94f[353]+_0x6E4F[_$_b94f[354]]+_$_b94f[355]+_0x6E4F[_$_b94f[335]]+_$_b94f[356])};let _0x7D27=_$_b94f[48];if(!_0x6E4F[_$_b94f[311]]&& _0x6E4F[_$_b94f[50]]!== _$_b94f[310] && _0x6E4F[_$_b94f[50]]!== _$_b94f[308]){_0x7D27= ("\x0D\x0A            <div class=\"message-actions\">\x0D\x0A                <button class=\"message-action-btn\" onclick=\"showReplyInterface("+_0x6E4F[_$_b94f[287]]+_$_b94f[319]+_0x7719[_$_b94f[321]](/'/g,_$_b94f[320])+_$_b94f[330]+_0x6E4F[_$_b94f[72]][_$_b94f[321]](/<[^>]*>/g,_$_b94f[48])[_$_b94f[321]](/'/g,_$_b94f[320])[_$_b94f[357]](0,50)+_$_b94f[358])};let _0x7D8B=processMentionsInContent(_0x6E4F[_$_b94f[72]],_0x6E4F[_$_b94f[299]]);return ("\x0D\x0A        <div class=\"chat-message "+_0x7FE3+_$_b94f[359]+(_0x6E4F[_$_b94f[334]]?_$_b94f[360]:_$_b94f[48])+_$_b94f[361]+_0x6E4F[_$_b94f[287]]+_$_b94f[362]+(_0x6E4F[_$_b94f[50]]|| _$_b94f[363])+_$_b94f[364]+_0x7D27+_$_b94f[365]+_0x6AFD+_$_b94f[366]+_0x62FB+_$_b94f[313]+_0x63C3+_$_b94f[367]+(_0x7C5F?_$_b94f[368]:_$_b94f[48])+_$_b94f[369]+_0x7C5F+_$_b94f[370]+_0x7719+_$_b94f[371]+_0x7719+_$_b94f[372]+(_0x7C91?("<div class=\"message-badges\">"+_0x7C91+_$_b94f[373]):_$_b94f[48])+_$_b94f[374]+_0x7FB1+_$_b94f[375]+_0x6F7B+_$_b94f[313]+_0x6FAD+_$_b94f[376]+_0x7F1B+_$_b94f[377]+-_0x6F7B+_$_b94f[313]+(_0x6FAD> 0?(10000/ _0x6FAD):100)+_$_b94f[378]+_0x7D8B+_$_b94f[372]+_0x7C2D+_$_b94f[379]+_0x7D59+_$_b94f[380])}function processMentionsInContent(_0x7B97,_0x7BC9){if(_0x7B97[_$_b94f[225]](("data-user=\""+currentUserIdString+_$_b94f[381]))){_0x7B97= _0x7B97[_$_b94f[321]]( new RegExp(("<span class=\"mention\" data-user=\""+currentUserIdString+_$_b94f[381]),_$_b94f[382]),_$_b94f[383]+ currentUserIdString+ _$_b94f[381])};return _0x7B97}function loadUsers(){debugLog(_$_b94f[384],roomId);managedAjax({url:_$_b94f[141],method:_$_b94f[76],data:{room_id:roomId},dataType:_$_b94f[54]})[_$_b94f[138]]((_0x5FA9)=>{try{let _0x7363= typeof _0x5FA9=== _$_b94f[387]?JSON[_$_b94f[282]](_0x5FA9):_0x5FA9;handleUsersResponse(_0x7363)}catch(e){console[_$_b94f[1]](_$_b94f[388],e,_0x5FA9);$(_$_b94f[166])[_$_b94f[156]](_$_b94f[389])}})[_$_b94f[137]]((_0x5FDB)=>{console[_$_b94f[1]](_$_b94f[385],_0x5FDB);$(_$_b94f[166])[_$_b94f[156]](_$_b94f[386])})}if(DEBUG_MODE){setInterval(()=>{console[_$_b94f[103]](_$_b94f[390]);window[_$_b94f[201]]()},30000)};function renderUser(_0x745D){const _0x6AFD=_0x745D[_$_b94f[296]]|| _0x745D[_$_b94f[297]]|| _$_b94f[298];const _0x7719=_0x745D[_$_b94f[160]]|| _0x745D[_$_b94f[161]]|| _0x745D[_$_b94f[162]]|| _$_b94f[163];const _0x661B=_0x745D[_$_b94f[299]]|| _$_b94f[301];const _0x62FB=_0x745D[_$_b94f[303]]|| 0;const _0x63C3=_0x745D[_$_b94f[305]]|| 100;const _0x7CF5=_0x745D[_$_b94f[391]]=== _$_b94f[392];const _0x7CC3=_0x745D[_$_b94f[299]]=== currentUserIdString;let _0x7C5F=_$_b94f[48];if(_0x7CF5){_0x7C5F= ("onclick=\"handleAvatarClick(event, "+_0x745D[_$_b94f[300]]+_$_b94f[319]+(_0x745D[_$_b94f[161]]|| _$_b94f[48])[_$_b94f[321]](/'/g,_$_b94f[320])+_$_b94f[322])}else {if(_0x7CC3){_0x7C5F= "onclick=\"showProfileEditor()\" style=\"cursor: pointer;\""}};let _0x7C91=_$_b94f[48];if(_0x7CC3){_0x7C91+= _$_b94f[393];currentUserAFK= _0x745D[_$_b94f[394]];manualAFK= _0x745D[_$_b94f[395]]};if(_0x745D[_$_b94f[394]]){const _0x80DD=_0x745D[_$_b94f[395]]?_$_b94f[396]:_$_b94f[397];const _0x80AB=_0x745D[_$_b94f[398]]> 0?(" ("+formatAFKDuration(_0x745D[_$_b94f[398]])+_$_b94f[399]):_$_b94f[48];_0x7C91+= ("<span class=\"user-badge badge-afk\" title=\""+_0x80DD+_$_b94f[400]+_0x80AB+_$_b94f[401])};if(_0x745D[_$_b94f[323]]){_0x7C91+= _$_b94f[324]};if(_0x745D[_$_b94f[325]]&&  !_0x745D[_$_b94f[323]]){_0x7C91+= _$_b94f[326]};if(_0x745D[_$_b94f[159]]){_0x7C91+= _$_b94f[327]};if(_0x7CF5&&  !_0x745D[_$_b94f[323]]&&  !_0x745D[_$_b94f[325]]){_0x7C91+= _$_b94f[328]}else {if(!_0x7CF5){_0x7C91+= _$_b94f[329]}};let _0x8015=_$_b94f[48];if(_0x745D[_$_b94f[299]]!== currentUserIdString){_0x8015= "<div class=\"user-actions\">";const _0x65B7=_0x745D[_$_b94f[160]]|| _0x745D[_$_b94f[161]]|| _0x745D[_$_b94f[162]]|| _$_b94f[163];const _0x8173=_0x745D[_$_b94f[394]]?_$_b94f[48]:_$_b94f[48];_0x8015+= ("\x0D\x0A            <button class=\"btn whisper-btn "+(_0x745D[_$_b94f[394]]?_$_b94f[402]:_$_b94f[48])+_$_b94f[403]+_0x745D[_$_b94f[299]]+_$_b94f[330]+_0x65B7[_$_b94f[321]](/'/g,_$_b94f[320])+_$_b94f[404]+_0x8173+_$_b94f[405]);if(_0x745D[_$_b94f[300]]&& currentUser[_$_b94f[50]]=== _$_b94f[206]){if(friendshipCache[_$_b94f[113]](_0x745D[_$_b94f[300]])){const _0x6715=friendshipCache[_$_b94f[115]](_0x745D[_$_b94f[300]]);if(_0x6715){const _0x810F=_0x745D[_$_b94f[394]]?_$_b94f[406]:_$_b94f[407];_0x8015+= ("\x0D\x0A                        <button class=\"btn btn-primary "+(_0x745D[_$_b94f[394]]?_$_b94f[402]:_$_b94f[48])+_$_b94f[408]+_0x745D[_$_b94f[300]]+_$_b94f[319]+(_0x745D[_$_b94f[161]]|| _$_b94f[48])[_$_b94f[321]](/'/g,_$_b94f[320])+_$_b94f[409]+_0x810F+_$_b94f[410])}else {_0x8015+= ("\x0D\x0A                        <button class=\"btn friend-btn\" onclick=\"sendFriendRequest("+_0x745D[_$_b94f[300]]+_$_b94f[319]+(_0x745D[_$_b94f[161]]|| _$_b94f[48])[_$_b94f[321]](/'/g,_$_b94f[320])+_$_b94f[411])}}else {_0x8015+= ("<div id=\"friend-action-"+_0x745D[_$_b94f[300]]+_$_b94f[412]);setTimeout(()=>{checkIfFriend(_0x745D[_$_b94f[300]],function(_0x6715){const _0x6BF7=$(("#friend-action-"+_0x745D[_$_b94f[300]]+_$_b94f[48]));if(_0x6BF7[_$_b94f[49]]> 0){if(_0x6715){const _0x810F=_0x745D[_$_b94f[394]]?_$_b94f[406]:_$_b94f[407];_0x6BF7[_$_b94f[156]](("\x0D\x0A                                    <button class=\"btn btn-primary "+(_0x745D[_$_b94f[394]]?_$_b94f[402]:_$_b94f[48])+_$_b94f[408]+_0x745D[_$_b94f[300]]+_$_b94f[319]+(_0x745D[_$_b94f[161]]|| _$_b94f[48])[_$_b94f[321]](/'/g,_$_b94f[320])+_$_b94f[413]+_0x810F+_$_b94f[414]))}else {_0x6BF7[_$_b94f[156]](("\x0D\x0A                                    <button class=\"btn friend-btn\" onclick=\"sendFriendRequest("+_0x745D[_$_b94f[300]]+_$_b94f[319]+(_0x745D[_$_b94f[161]]|| _$_b94f[48])[_$_b94f[321]](/'/g,_$_b94f[320])+_$_b94f[415]))}}})},50)}};if((isHost|| isAdmin|| isModerator)&&  !_0x745D[_$_b94f[159]]&&  !_0x745D[_$_b94f[323]]&&  !_0x745D[_$_b94f[325]]){_0x8015+= ("\x0D\x0A                <button class=\"btn btn-ban-user\" onclick=\"showBanModal(\'"+_0x745D[_$_b94f[299]]+_$_b94f[330]+_0x65B7[_$_b94f[321]](/'/g,_$_b94f[320])+_$_b94f[416])};if((isAdmin|| isModerator)&&  !_0x745D[_$_b94f[323]]&&  !(_0x745D[_$_b94f[325]]&&  !isAdmin)){_0x8015+= ("\x0D\x0A                <button class=\"btn btn-site-ban-user\" onclick=\"showQuickBanModal(\'"+_0x745D[_$_b94f[299]]+_$_b94f[330]+_0x65B7[_$_b94f[321]](/'/g,_$_b94f[320])+_$_b94f[417])};_0x8015+= "</div>"}else {if(_0x7CC3){}};const _0x8141=_0x745D[_$_b94f[394]]?_$_b94f[418]:_$_b94f[419];return ("\x0D\x0A        <div class=\""+_0x8141+_$_b94f[420]+_0x6AFD+_$_b94f[421]+(_0x745D[_$_b94f[394]]?_$_b94f[422]:_$_b94f[48])+_$_b94f[312]+_0x62FB+_$_b94f[313]+_0x63C3+_$_b94f[367]+(_0x7C5F?_$_b94f[368]:_$_b94f[48])+_$_b94f[423]+_0x7C5F+_$_b94f[424]+_0x7719+_$_b94f[425]+(_0x745D[_$_b94f[394]]?_$_b94f[426]:_$_b94f[48])+_$_b94f[427]+_0x7719+_$_b94f[428]+_0x7C91+_$_b94f[429]+_0x8015+_$_b94f[430])}function initializeYouTubePlayer(){if(!youtubeAPIReady||  !youtubeEnabled){debugLog(_$_b94f[431],youtubeAPIReady,_$_b94f[432],youtubeEnabled);return};debugLog(_$_b94f[433]);youtubePlayer=  new YT[_$_b94f[125]](_$_b94f[434],{height:_$_b94f[435],width:_$_b94f[436],playerVars:{'playsinline':1,'controls':isHost?1:0,'disablekb':isHost?0:1,'fs':1,'rel':0,'showinfo':0,'modestbranding':1},events:{'onReady':onYouTubePlayerReady,'onStateChange':onYouTubePlayerStateChange}})}function onYouTubePlayerReady(_0x7269){debugLog(_$_b94f[437]);youtubePlayerReady= true;syncPlayerState();startYouTubeUpdates()}function onYouTubePlayerStateChange(_0x7269){debugLog(_$_b94f[438],_0x7269[_$_b94f[284]]);if(youtubePlayerReady){const _0x6427=youtubePlayer[_$_b94f[186]]();const _0x793F=getCurrentVideoId();if(isHost){switch(_0x7269[_$_b94f[284]]){case YT[_$_b94f[192]][_$_b94f[191]]:updatePlayerSync(_0x793F,_0x6427,true);break;case YT[_$_b94f[192]][_$_b94f[439]]:updatePlayerSync(_0x793F,_0x6427,false);break;case YT[_$_b94f[192]][_$_b94f[440]]:setTimeout(()=>{return skipToNextVideo()},1000);break}}}}function startPlayerSync(){if(playerSyncInterval){clearInterval(playerSyncInterval)};playerSyncInterval= setInterval(syncPlayerState,2000);debugLog(_$_b94f[441])}function syncPlayerState(){if(!youtubeEnabled||  !youtubePlayerReady){return};updateYouTubeData()}function updatePlayerSync(_0x793F,_0x6427,_0x8047){if(!isHost||  !youtubeEnabled){return};$[_$_b94f[67]]({url:_$_b94f[442],method:_$_b94f[53],data:{action:_$_b94f[443],video_id:_0x793F,current_time:_0x6427,is_playing:_0x8047?1:0},dataType:_$_b94f[54],success:function(_0x5FA9){if(_0x5FA9[_$_b94f[55]]=== _$_b94f[56]){lastSyncToken= _0x5FA9[_$_b94f[177]];debugLog(_$_b94f[444])}},error:function(_0x603F,_0x600D,_0x5FDB){debugLog(_$_b94f[445],_0x5FDB)}})}function startQueueUpdates(){if(queueUpdateInterval){clearInterval(queueUpdateInterval)};queueUpdateInterval= setInterval(updateQueue,3000);updateQueue();debugLog(_$_b94f[446])}function updateQueue(){if(!youtubeEnabled){return};$[_$_b94f[67]]({url:_$_b94f[447],method:_$_b94f[76],data:{action:_$_b94f[115]},dataType:_$_b94f[54],timeout:5000,success:function(_0x5FA9){if(_0x5FA9[_$_b94f[55]]=== _$_b94f[56]){playerQueue= _0x5FA9[_$_b94f[284]][_$_b94f[180]]|| [];playerSuggestions= _0x5FA9[_$_b94f[284]][_$_b94f[181]]|| [];currentVideoData= _0x5FA9[_$_b94f[284]][_$_b94f[182]];renderQueue();renderSuggestions();updateVideoInfo()}},error:function(_0x603F,_0x600D,_0x5FDB){debugLog(_$_b94f[448],_0x5FDB)}})}function renderQueue(){const _0x6BF7=$(_$_b94f[449]);let _0x6A99=_$_b94f[48];if(playerQueue[_$_b94f[49]]=== 0){_0x6A99= "\x0D\x0A            <div class=\"youtube-empty-state\">\x0D\x0A                <i class=\"fas fa-list\"></i>\x0D\x0A                <h6>Queue is empty</h6>\x0D\x0A                <p>Videos will appear here when added to the queue</p>\x0D\x0A            </div>\x0D\x0A        "}else {playerQueue[_$_b94f[26]]((_0x8079,_0x6B2F)=>{const _0x8047=currentVideoData&& currentVideoData[_$_b94f[287]]=== _0x8079[_$_b94f[287]];const _0x8015=isHost?("\x0D\x0A                <div class=\"youtube-queue-item-actions\">\x0D\x0A                    <button class=\"btn btn-queue-remove\" onclick=\"removeFromQueue("+_0x8079[_$_b94f[287]]+_$_b94f[450]):_$_b94f[48];_0x6A99+= ("\x0D\x0A                <div class=\"youtube-queue-item "+(_0x8047?_$_b94f[451]:_$_b94f[48])+_$_b94f[452]+_0x8079[_$_b94f[453]]+_$_b94f[454]+_0x8079[_$_b94f[183]]+_$_b94f[455]+_0x8079[_$_b94f[456]]+_$_b94f[457]+_0x8079[_$_b94f[458]]+_$_b94f[459]+(_0x6B2F+ 1)+_$_b94f[460]+_0x8015+_$_b94f[461])})};_0x6BF7[_$_b94f[156]](_0x6A99)}function renderSuggestions(){const _0x6BF7=$(_$_b94f[462]);let _0x6A99=_$_b94f[48];if(playerSuggestions[_$_b94f[49]]=== 0){_0x6A99= "\x0D\x0A            <div class=\"youtube-empty-state\">\x0D\x0A                <i class=\"fas fa-lightbulb\"></i>\x0D\x0A                <h6>No suggestions</h6>\x0D\x0A                <p>Video suggestions from users will appear here</p>\x0D\x0A            </div>\x0D\x0A        "}else {playerSuggestions[_$_b94f[26]]((_0x8079)=>{const _0x8015=isHost?("\x0D\x0A                <div class=\"youtube-queue-item-actions\">\x0D\x0A                    <button class=\"btn btn-queue-approve\" onclick=\"approveVideo("+_0x8079[_$_b94f[287]]+_$_b94f[463]+_0x8079[_$_b94f[287]]+_$_b94f[464]):_$_b94f[48];_0x6A99+= ("\x0D\x0A                <div class=\"youtube-queue-item suggestion\">\x0D\x0A                    <div class=\"youtube-queue-item-content\">\x0D\x0A                        <img src=\""+_0x8079[_$_b94f[453]]+_$_b94f[454]+_0x8079[_$_b94f[183]]+_$_b94f[455]+_0x8079[_$_b94f[456]]+_$_b94f[465]+_0x8079[_$_b94f[458]]+_$_b94f[466]+_0x8015+_$_b94f[461])})};_0x6BF7[_$_b94f[156]](_0x6A99)}function updateVideoInfo(){const _0x8BCD=$(_$_b94f[467]);if(currentVideoData){_0x8BCD[_$_b94f[156]](("\x0D\x0A            <div class=\"youtube-video-title\">"+currentVideoData[_$_b94f[456]]+_$_b94f[468]+currentVideoData[_$_b94f[458]]+_$_b94f[469]))}else {_0x8BCD[_$_b94f[156]]("\x0D\x0A            <div class=\"youtube-video-title\">No video playing</div>\x0D\x0A            <div class=\"youtube-video-meta\">\x0D\x0A                <span>Select a video or add one to the queue</span>\x0D\x0A            </div>\x0D\x0A        ")}}function suggestVideo(){const _0x664D=$(_$_b94f[470]);const _0x71D3=_0x664D[_$_b94f[216]]()[_$_b94f[215]]();if(!_0x71D3){alert(_$_b94f[471]);return};const _0x7011=$(_$_b94f[472]);const _0x68A5=_0x7011[_$_b94f[156]]();_0x7011[_$_b94f[237]](_$_b94f[236],true)[_$_b94f[156]](_$_b94f[473]);$[_$_b94f[67]]({url:_$_b94f[447],method:_$_b94f[53],data:{action:_$_b94f[474],video_url:_0x71D3},dataType:_$_b94f[54],success:function(_0x5FA9){if(_0x5FA9[_$_b94f[55]]=== _$_b94f[56]){_0x664D[_$_b94f[216]](_$_b94f[48]);updateQueue();showToast(_$_b94f[475],_$_b94f[56])}else {alert(_$_b94f[243]+ _0x5FA9[_$_b94f[72]])}},error:function(_0x603F,_0x600D,_0x5FDB){console[_$_b94f[1]](_$_b94f[476],_0x5FDB);alert(_$_b94f[477]+ _0x5FDB)},complete:function(){_0x7011[_$_b94f[237]](_$_b94f[236],false)[_$_b94f[156]](_0x68A5)}})}function approveVideo(_0x64EF){$[_$_b94f[67]]({url:_$_b94f[447],method:_$_b94f[53],data:{action:_$_b94f[478],suggestion_id:_0x64EF},dataType:_$_b94f[54],success:function(_0x5FA9){if(_0x5FA9[_$_b94f[55]]=== _$_b94f[56]){updateQueue();showToast(_$_b94f[479],_$_b94f[56])}else {alert(_$_b94f[243]+ _0x5FA9[_$_b94f[72]])}},error:function(_0x603F,_0x600D,_0x5FDB){console[_$_b94f[1]](_$_b94f[480],_0x5FDB);alert(_$_b94f[481]+ _0x5FDB)}})}function denyVideo(_0x64EF){$[_$_b94f[67]]({url:_$_b94f[447],method:_$_b94f[53],data:{action:_$_b94f[482],suggestion_id:_0x64EF},dataType:_$_b94f[54],success:function(_0x5FA9){if(_0x5FA9[_$_b94f[55]]=== _$_b94f[56]){updateQueue();showToast(_$_b94f[483],_$_b94f[63])}else {alert(_$_b94f[243]+ _0x5FA9[_$_b94f[72]])}},error:function(_0x603F,_0x600D,_0x5FDB){console[_$_b94f[1]](_$_b94f[484],_0x5FDB);alert(_$_b94f[485]+ _0x5FDB)}})}function removeFromQueue(_0x7BFB){if(!confirm(_$_b94f[486])){return};$[_$_b94f[67]]({url:_$_b94f[447],method:_$_b94f[53],data:{action:_$_b94f[264],queue_id:_0x7BFB},dataType:_$_b94f[54],success:function(_0x5FA9){if(_0x5FA9[_$_b94f[55]]=== _$_b94f[56]){updateQueue();showToast(_$_b94f[487],_$_b94f[63])}else {alert(_$_b94f[243]+ _0x5FA9[_$_b94f[72]])}},error:function(_0x603F,_0x600D,_0x5FDB){console[_$_b94f[1]](_$_b94f[488],_0x5FDB);alert(_$_b94f[489]+ _0x5FDB)}})}function playVideo(){if(!isHost||  !youtubePlayerReady){return};const _0x6427=youtubePlayer[_$_b94f[186]]();$[_$_b94f[67]]({url:_$_b94f[490],method:_$_b94f[53],data:{action:_$_b94f[491],current_time:_0x6427},dataType:_$_b94f[54],success:function(_0x5FA9){if(_0x5FA9[_$_b94f[55]]=== _$_b94f[56]){debugLog(_$_b94f[492])}}})}function pauseVideo(){if(!isHost||  !youtubePlayerReady){return};const _0x6427=youtubePlayer[_$_b94f[186]]();$[_$_b94f[67]]({url:_$_b94f[490],method:_$_b94f[53],data:{action:_$_b94f[493],current_time:_0x6427},dataType:_$_b94f[54],success:function(_0x5FA9){if(_0x5FA9[_$_b94f[55]]=== _$_b94f[56]){debugLog(_$_b94f[494])}}})}function skipToNextVideo(){if(!isHost){return};$[_$_b94f[67]]({url:_$_b94f[490],method:_$_b94f[53],data:{action:_$_b94f[495]},dataType:_$_b94f[54],success:function(_0x5FA9){if(_0x5FA9[_$_b94f[55]]=== _$_b94f[56]){debugLog(_$_b94f[496]);updateQueue()}else {showToast(_0x5FA9[_$_b94f[72]]|| _$_b94f[497],_$_b94f[63])}}})}function stopVideo(){if(!isHost){return};$[_$_b94f[67]]({url:_$_b94f[490],method:_$_b94f[53],data:{action:_$_b94f[498]},dataType:_$_b94f[54],success:function(_0x5FA9){if(_0x5FA9[_$_b94f[55]]=== _$_b94f[56]){debugLog(_$_b94f[499])}}})}function togglePlayerVisibility(){const _0x6BF7=$(_$_b94f[500]);const _0x8AD3=$(_$_b94f[501]);if(_0x6BF7[_$_b94f[503]](_$_b94f[502])){_0x6BF7[_$_b94f[504]](_$_b94f[502])[_$_b94f[172]]();_0x8AD3[_$_b94f[504]](_$_b94f[508])[_$_b94f[156]](_$_b94f[507])[_$_b94f[272]](_$_b94f[505],_$_b94f[506]);playerHidden= false;if(youtubePlayerReady){setTimeout(()=>{return syncPlayerState()},500)}}else {_0x6BF7[_$_b94f[509]](_$_b94f[502])[_$_b94f[174]]();_0x8AD3[_$_b94f[509]](_$_b94f[508])[_$_b94f[156]](_$_b94f[511])[_$_b94f[272]](_$_b94f[505],_$_b94f[510]);playerHidden= true};localStorage[_$_b94f[513]](("youtube_hidden_"+roomId+_$_b94f[48]),playerHidden[_$_b94f[512]]())}function getCurrentVideoId(){if(!youtubePlayer||  !youtubePlayerReady){return null};try{const _0x71D3=youtubePlayer[_$_b94f[514]]();const _0x71A1=_0x71D3[_$_b94f[515]](/[?&]v=([^&]+)/);return _0x71A1?_0x71A1[1]:null}catch(e){return null}}function showToast(_0x69D1,_0x871D= _$_b94f[63]){const _0x8849=$(("\x0D\x0A        <div class=\"alert alert-"+_0x871D+_$_b94f[516]+_0x69D1+_$_b94f[517]));$(_$_b94f[519])[_$_b94f[518]](_0x8849);setTimeout(()=>{_0x8849[_$_b94f[521]](_$_b94f[520])},4000)}function stopYouTubePlayer(){debugLog(_$_b94f[522]);if(youtubeUpdateInterval){clearInterval(youtubeUpdateInterval);youtubeUpdateInterval= null};if(youtubePlayer&& youtubePlayerReady){try{youtubePlayer[_$_b94f[196]]()}catch(e){debugLog(_$_b94f[523],e)}};youtubeEnabled= false;youtubePlayerReady= false;isYoutubeUpdating= false}function checkUserStatus(){activityTracker[_$_b94f[19]]()}function handleUserBanned(_0x5FA9){debugLog(_$_b94f[524],_0x5FA9);stopKickDetection();let _0x7331=_0x5FA9[_$_b94f[72]]|| _$_b94f[525];let _0x72FF=_$_b94f[48];if(_0x5FA9[_$_b94f[526]]){if(_0x5FA9[_$_b94f[526]][_$_b94f[527]]){_0x72FF+= _$_b94f[528]}else {if(_0x5FA9[_$_b94f[526]][_$_b94f[529]]){_0x72FF+= ("<div class=\"alert alert-warning\"><strong>Ban expires in "+_0x5FA9[_$_b94f[526]][_$_b94f[529]]+_$_b94f[530]+(_0x5FA9[_$_b94f[526]][_$_b94f[529]]!== 1?_$_b94f[531]:_$_b94f[48])+_$_b94f[532])}};if(_0x5FA9[_$_b94f[526]][_$_b94f[533]]){_0x72FF+= ("<p><strong>Reason:</strong> "+_0x5FA9[_$_b94f[526]][_$_b94f[533]]+_$_b94f[534])}};showKickModal(_$_b94f[535],_0x7331,_0x72FF,_$_b94f[536])}function handleUserKicked(_0x5FA9){debugLog(_$_b94f[537],_0x5FA9);stopKickDetection();const _0x69D1=_0x5FA9[_$_b94f[72]]|| _$_b94f[538];const _0x72CD=_$_b94f[539];showKickModal(_$_b94f[540],_0x69D1,_0x72CD,_$_b94f[541])}function handleRoomDeleted(_0x5FA9){debugLog(_$_b94f[542],_0x5FA9);stopKickDetection();const _0x69D1=_0x5FA9[_$_b94f[72]]|| _$_b94f[543];const _0x72CD=_$_b94f[544];showKickModal(_$_b94f[545],_0x69D1,_0x72CD,_$_b94f[63])}function handleStatusCheckError(){consecutiveErrors++;if(consecutiveErrors>= 3){console[_$_b94f[547]](_$_b94f[546]);if(consecutiveErrors>= 5){console[_$_b94f[1]](_$_b94f[548]);stopKickDetection();alert(_$_b94f[99]);window[_$_b94f[92]][_$_b94f[91]]= _$_b94f[93]}}}function showKickModal(_0x86EB,_0x69D1,_0x72CD,_0x871D){userKickedModalShown= true;const _0x874F={'danger':{bg:_$_b94f[549],icon:_$_b94f[550]},'warning':{bg:_$_b94f[551],icon:_$_b94f[552]},'info':{bg:_$_b94f[553],icon:_$_b94f[554]}};const _0x8781=_0x874F[_0x871D]|| _0x874F[_$_b94f[63]];const _0x6EE5=("\x0D\x0A        <div class=\"modal fade\" id=\"kickNotificationModal\" tabindex=\"-1\" data-bs-backdrop=\"static\" data-bs-keyboard=\"false\">\x0D\x0A            <div class=\"modal-dialog modal-dialog-centered\">\x0D\x0A                <div class=\"modal-content border-"+_0x871D+_$_b94f[555]+_0x8781[_$_b94f[556]]+_$_b94f[557]+_0x8781[_$_b94f[558]]+_$_b94f[559]+_0x86EB+_$_b94f[560]+_0x8781[_$_b94f[558]]+_$_b94f[561]+_0x871D+_$_b94f[562]+_0x871D+_$_b94f[563]+_0x69D1+_$_b94f[564]+_0x72CD+_$_b94f[565]);$(_$_b94f[566])[_$_b94f[264]]();$(_$_b94f[519])[_$_b94f[518]](_0x6EE5);const _0x86B9= new bootstrap[_$_b94f[569]](document[_$_b94f[568]](_$_b94f[567]));_0x86B9[_$_b94f[172]]();let _0x8655=8;const _0x8687=setInterval(()=>{_0x8655--;$(_$_b94f[570])[_$_b94f[173]](_0x8655);if(_0x8655<= 0){clearInterval(_0x8687);handleKickModalClose()}},1000)}function handleKickModalClose(){debugLog(_$_b94f[571]);stopKickDetection();$[_$_b94f[67]]({url:_$_b94f[572],method:_$_b94f[53],data:{room_id:roomId,action:_$_b94f[573]},complete:function(){window[_$_b94f[92]][_$_b94f[91]]= _$_b94f[93]}})}function stopKickDetection(){debugLog(_$_b94f[574]);kickDetectionEnabled= false;if(kickDetectionInterval){clearInterval(kickDetectionInterval);kickDetectionInterval= null}}function initializeActivityTracking(){debugLog(_$_b94f[575]);activityTracker[_$_b94f[576]]();if(roomId){activityTracker[_$_b94f[23]](_$_b94f[577])};$(document)[_$_b94f[36]](_$_b94f[578],_$_b94f[579],function(){activityTracker[_$_b94f[23]](_$_b94f[580])});$(document)[_$_b94f[36]](_$_b94f[578],_$_b94f[581],function(){activityTracker[_$_b94f[23]](_$_b94f[582])});$(document)[_$_b94f[36]](_$_b94f[279],_$_b94f[583],function(){activityTracker[_$_b94f[23]](_$_b94f[584])});debugLog(_$_b94f[585])}function setupActivityListeners(){debugLog(_$_b94f[28]);$(document)[_$_b94f[30]](_$_b94f[29]);$(window)[_$_b94f[30]](_$_b94f[37]);let _0x5EAF;function _0x5EE1(){userIsActive= true;clearTimeout(_0x5EAF);_0x5EAF= setTimeout(()=>{if(activityTrackingEnabled){updateUserActivity(_$_b94f[35])}},5000)}$(document)[_$_b94f[36]](_$_b94f[29],_0x5EE1);document[_$_b94f[42]](_$_b94f[39],function(){if(!document[_$_b94f[40]]&& activityTrackingEnabled){updateUserActivity(_$_b94f[41])}});$(window)[_$_b94f[36]](_$_b94f[37],function(){if(activityTrackingEnabled){updateUserActivity(_$_b94f[38])}});debugLog(_$_b94f[586])}function updateUserActivity(_0x5F45= _$_b94f[587]){activityTracker[_$_b94f[23]](_0x5F45)}function triggerDisconnectCheck(){activityTracker[_$_b94f[16]]()}function stopActivityTracking(){debugLog(_$_b94f[588]);activityTracker[_$_b94f[7]]()}function showRoomSettings(){debugLog(_$_b94f[589],roomId);$[_$_b94f[67]]({url:_$_b94f[590],method:_$_b94f[76],data:{room_id:roomId},success:function(_0x5FA9){try{let _0x6A03=JSON[_$_b94f[282]](_0x5FA9);if(_0x6A03[_$_b94f[55]]=== _$_b94f[56]){displayRoomSettingsModal(_0x6A03[_$_b94f[591]])}else {alert(_$_b94f[592]+ _0x6A03[_$_b94f[72]])}}catch(e){console[_$_b94f[1]](_$_b94f[388],e,_0x5FA9);alert(_$_b94f[593])}},error:function(_0x603F,_0x600D,_0x5FDB){console[_$_b94f[1]](_$_b94f[594],_0x600D,_0x5FDB,_0x603F[_$_b94f[270]]);alert(_$_b94f[245]+ _0x5FDB)}})}function displayRoomSettingsModal(_0x6F17){debugLog(_$_b94f[595],_0x6F17);const _0x6EE5=("\x0D\x0A        <div class=\"modal fade\" id=\"roomSettingsModal\" tabindex=\"-1\">\x0D\x0A            <div class=\"modal-dialog modal-lg\">\x0D\x0A                <div class=\"modal-content\" style=\"background: #2a2a2a; border: 1px solid #444; color: #fff;\">\x0D\x0A                    <div class=\"modal-header\" style=\"background: #333; border-bottom: 1px solid #444;\">\x0D\x0A                        <h5 class=\"modal-title\">\x0D\x0A                            <i class=\"fas fa-cog\"></i> Room Settings\x0D\x0A                        </h5>\x0D\x0A                        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" style=\"filter: invert(1);\"></button>\x0D\x0A                    </div>\x0D\x0A                    <div class=\"modal-body\">\x0D\x0A                        <ul class=\"nav nav-tabs\" id=\"settingsTabs\" role=\"tablist\" style=\"border-bottom: 1px solid #444;\">\x0D\x0A                            <li class=\"nav-item\" role=\"presentation\">\x0D\x0A                                <button class=\"nav-link active\" id=\"general-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#general\" type=\"button\" role=\"tab\" style=\"color: #fff; background: transparent; border: none;\">General</button>\x0D\x0A                            </li>\x0D\x0A                            <li class=\"nav-item\" role=\"presentation\">\x0D\x0A                                <button class=\"nav-link\" id=\"security-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#security\" type=\"button\" role=\"tab\" style=\"color: #fff; background: transparent; border: none;\">Access Control</button>\x0D\x0A                            </li>\x0D\x0A                            <li class=\"nav-item\" role=\"presentation\">\x0D\x0A                                <button class=\"nav-link\" id=\"features-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#features\" type=\"button\" role=\"tab\" style=\"color: #fff; background: transparent; border: none;\">Features</button>\x0D\x0A                            </li>\x0D\x0A                            <li class=\"nav-item\" role=\"presentation\">\x0D\x0A                                <button class=\"nav-link\" id=\"banlist-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#banlist\" type=\"button\" role=\"tab\" style=\"color: #fff; background: transparent; border: none;\">\x0D\x0A                                    <i class=\"fas fa-ban\"></i> Banlist\x0D\x0A                                </button>\x0D\x0A                            </li>\x0D\x0A                            "+((isAdmin|| isModerator)?"\x0D\x0A                            <li class=\"nav-item\" role=\"presentation\">\x0D\x0A                                <button class=\"nav-link\" id=\"admin-settings-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#admin-settings\" type=\"button\" role=\"tab\" style=\"color: #fff; background: transparent; border: none;\">\x0D\x0A                                    <i class=\"fas fa-shield-alt\"></i> Admin\x0D\x0A                                </button>\x0D\x0A                            </li>\x0D\x0A                            ":_$_b94f[48])+_$_b94f[596]+_0x6F17[_$_b94f[597]]+_$_b94f[598]+(_0x6F17[_$_b94f[599]]== 5?_$_b94f[600]:_$_b94f[48])+_$_b94f[601]+(_0x6F17[_$_b94f[599]]== 10?_$_b94f[600]:_$_b94f[48])+_$_b94f[602]+(_0x6F17[_$_b94f[599]]== 20?_$_b94f[600]:_$_b94f[48])+_$_b94f[603]+(_0x6F17[_$_b94f[599]]== 50?_$_b94f[600]:_$_b94f[48])+_$_b94f[604]+(_0x6F17[_$_b94f[605]]=== _$_b94f[606]?_$_b94f[600]:_$_b94f[48])+_$_b94f[607]+(_0x6F17[_$_b94f[605]]=== _$_b94f[608]?_$_b94f[600]:_$_b94f[48])+_$_b94f[609]+(_0x6F17[_$_b94f[605]]=== _$_b94f[610]?_$_b94f[600]:_$_b94f[48])+_$_b94f[611]+(_0x6F17[_$_b94f[605]]=== _$_b94f[612]?_$_b94f[600]:_$_b94f[48])+_$_b94f[613]+(_0x6F17[_$_b94f[605]]=== _$_b94f[614]?_$_b94f[600]:_$_b94f[48])+_$_b94f[615]+(_0x6F17[_$_b94f[616]]|| _$_b94f[48])+_$_b94f[617]+(_0x6F17[_$_b94f[618]]?_$_b94f[619]:_$_b94f[48])+_$_b94f[620]+(_0x6F17[_$_b94f[621]]?_$_b94f[619]:_$_b94f[48])+_$_b94f[622]+(_0x6F17[_$_b94f[621]]?_$_b94f[623]:_$_b94f[624])+_$_b94f[625]+(_0x6F17[_$_b94f[621]]?_$_b94f[623]:_$_b94f[624])+_$_b94f[626]+(_0x6F17[_$_b94f[627]]?_$_b94f[619]:_$_b94f[48])+_$_b94f[628]+(_0x6F17[_$_b94f[629]]?_$_b94f[619]:_$_b94f[48])+_$_b94f[630]+(currentUser[_$_b94f[50]]=== _$_b94f[206]?("\x0D\x0A                                            <div class=\"mb-3\">\x0D\x0A                                                <div class=\"form-check\">\x0D\x0A                                                    <input class=\"form-check-input\" type=\"checkbox\" id=\"settingsFriendsOnly\""+(_0x6F17[_$_b94f[631]]?_$_b94f[619]:_$_b94f[48])+_$_b94f[632]):_$_b94f[48])+_$_b94f[633]+(_0x6F17[_$_b94f[634]]?_$_b94f[619]:_$_b94f[48])+_$_b94f[635]+(_0x6F17[_$_b94f[634]]&& _0x6F17[_$_b94f[636]]?("\x0D\x0A                                                <div class=\"mt-2 p-2\" style=\"background: #333; border-radius: 4px;\">\x0D\x0A                                                    <small class=\"text-success\">Current invite link:</small><br>\x0D\x0A                                                    <small style=\"word-break: break-all;\">"+window[_$_b94f[92]][_$_b94f[637]]+_$_b94f[638]+_0x6F17[_$_b94f[636]]+_$_b94f[639]+_0x6F17[_$_b94f[636]]+_$_b94f[640]):_$_b94f[48])+_$_b94f[641]+(_0x6F17[_$_b94f[642]]?_$_b94f[619]:_$_b94f[48])+_$_b94f[643]+(_0x6F17[_$_b94f[642]]?_$_b94f[623]:_$_b94f[624])+_$_b94f[644]+(_0x6F17[_$_b94f[645]]?_$_b94f[619]:_$_b94f[48])+_$_b94f[646]+(_0x6F17[_$_b94f[645]]?_$_b94f[623]:_$_b94f[624])+_$_b94f[647]+(_0x6F17[_$_b94f[648]]== 5?_$_b94f[600]:_$_b94f[48])+_$_b94f[649]+(_0x6F17[_$_b94f[648]]== 15?_$_b94f[600]:_$_b94f[48])+_$_b94f[650]+(_0x6F17[_$_b94f[648]]== 30?_$_b94f[600]:_$_b94f[48])+_$_b94f[651]+(_0x6F17[_$_b94f[648]]== 60?_$_b94f[600]:_$_b94f[48])+_$_b94f[652]+(_0x6F17[_$_b94f[648]]== 120?_$_b94f[600]:_$_b94f[48])+_$_b94f[653]+(_0x6F17[_$_b94f[648]]== 360?_$_b94f[600]:_$_b94f[48])+_$_b94f[654]+(_0x6F17[_$_b94f[648]]== 720?_$_b94f[600]:_$_b94f[48])+_$_b94f[655]+(_0x6F17[_$_b94f[648]]== 1440?_$_b94f[600]:_$_b94f[48])+_$_b94f[656]+((isAdmin|| isModerator)?("\x0D\x0A                            <div class=\"tab-pane fade\" id=\"admin-settings\" role=\"tabpanel\">\x0D\x0A                                <div class=\"mt-3\">\x0D\x0A                                    <div class=\"alert alert-warning\" style=\"background: rgba(255, 193, 7, 0.1); border: 1px solid rgba(255, 193, 7, 0.3); color: #ffc107;\">\x0D\x0A                                        <i class=\"fas fa-shield-alt\"></i> <strong>Administrator Settings</strong><br>\x0D\x0A                                        These options are only available to moderators and administrators.\x0D\x0A                                    </div>\x0D\x0A                                    \x0D\x0A                                    <div class=\"row\">\x0D\x0A                                        <div class=\"col-12\">\x0D\x0A                                            <div class=\"mb-4\">\x0D\x0A                                                <div class=\"form-check form-switch\">\x0D\x0A                                                    <input class=\"form-check-input\" type=\"checkbox\" id=\"settingsPermanentRoom\""+(_0x6F17[_$_b94f[527]]?_$_b94f[619]:_$_b94f[48])+_$_b94f[657]+(_0x6F17[_$_b94f[527]]?"\x0D\x0A                                                <div class=\"mt-2\">\x0D\x0A                                                    <div class=\"alert alert-info\" style=\"background: rgba(13, 110, 253, 0.1); border: 1px solid rgba(13, 110, 253, 0.3); color: #b3d4fc;\">\x0D\x0A                                                        <i class=\"fas fa-star\"></i> This room is currently marked as permanent.\x0D\x0A                                                    </div>\x0D\x0A                                                </div>\x0D\x0A                                                ":_$_b94f[48])+_$_b94f[658]):_$_b94f[48])+_$_b94f[659]);$(_$_b94f[660])[_$_b94f[264]]();$(_$_b94f[519])[_$_b94f[518]](_0x6EE5);setupRoomSettingsHandlers();$(_$_b94f[661])[_$_b94f[36]](_$_b94f[279],function(){loadBannedUsers()});$(_$_b94f[660])[_$_b94f[662]](_$_b94f[172])}function setupRoomSettingsHandlers(){$(_$_b94f[669])[_$_b94f[36]](_$_b94f[663],function(){if(this[_$_b94f[664]]){$(_$_b94f[665])[_$_b94f[172]]();$(_$_b94f[666])[_$_b94f[172]]()}else {$(_$_b94f[665])[_$_b94f[174]]();$(_$_b94f[666])[_$_b94f[174]]();$(_$_b94f[667])[_$_b94f[216]](_$_b94f[48]);$(_$_b94f[668])[_$_b94f[237]](_$_b94f[664],true)}});$(_$_b94f[671])[_$_b94f[36]](_$_b94f[663],function(){if(this[_$_b94f[664]]){$(_$_b94f[670])[_$_b94f[172]]()}else {$(_$_b94f[670])[_$_b94f[174]]()}});$(_$_b94f[673])[_$_b94f[36]](_$_b94f[663],function(){if(this[_$_b94f[664]]){$(_$_b94f[672])[_$_b94f[172]]()}else {$(_$_b94f[672])[_$_b94f[174]]()}})}function loadBannedUsers(){debugLog(_$_b94f[674],roomId);$[_$_b94f[67]]({url:_$_b94f[675],method:_$_b94f[76],dataType:_$_b94f[54],data:{room_id:roomId},success:function(_0x5FA9){debugLog(_$_b94f[676],_0x5FA9);let _0x6A99=_$_b94f[48];if(!Array[_$_b94f[157]](_0x5FA9)){_0x6A99= _$_b94f[677]}else {if(_0x5FA9[_$_b94f[49]]=== 0){_0x6A99= _$_b94f[678]}else {_0x5FA9[_$_b94f[26]]((_0x7683)=>{const _0x7719=_0x7683[_$_b94f[161]]|| _0x7683[_$_b94f[162]]|| _$_b94f[679];const _0x76B5=_0x7683[_$_b94f[680]]?_$_b94f[681]:_$_b94f[682];const _0x76E7=_0x7683[_$_b94f[683]]? new Date(_0x7683[_$_b94f[683]])[_$_b94f[684]]():_$_b94f[685];const _0x68D7=_0x7683[_$_b94f[533]]|| _$_b94f[686];_0x6A99+= ("\x0D\x0A                            <div class=\"card mb-2\" style=\"background: #333; border: 1px solid #555;\">\x0D\x0A                                <div class=\"card-body p-3\">\x0D\x0A                                    <div class=\"d-flex justify-content-between align-items-center\">\x0D\x0A                                        <div>\x0D\x0A                                            <strong style=\"color: #fff;\">"+_0x7719+_$_b94f[687]+(_0x76B5=== _$_b94f[681]?_$_b94f[549]:_$_b94f[551])+_$_b94f[427]+_0x76B5+_$_b94f[688]+_0x76E7+_$_b94f[689]+_0x68D7+_$_b94f[690]+_0x7683[_$_b94f[299]]+_$_b94f[330]+_0x7719[_$_b94f[321]](/'/g,_$_b94f[320])+_$_b94f[691])})}};$(_$_b94f[692])[_$_b94f[156]](_0x6A99)},error:function(_0x603F,_0x600D,_0x5FDB){console[_$_b94f[1]](_$_b94f[693],_0x600D,_0x5FDB);$(_$_b94f[692])[_$_b94f[156]](_$_b94f[677])}})}function unbanUser(_0x661B,_0x6909){if(!confirm(_$_b94f[694]+ _0x6909+ _$_b94f[695])){return};$[_$_b94f[67]]({url:_$_b94f[696],method:_$_b94f[53],dataType:_$_b94f[54],data:{room_id:roomId,user_id_string:_0x661B},success:function(_0x5FA9){if(_0x5FA9[_$_b94f[55]]=== _$_b94f[56]){alert(_0x6909+ _$_b94f[697]);loadBannedUsers()}else {alert(_$_b94f[243]+ _0x5FA9[_$_b94f[72]])}},error:function(_0x603F,_0x600D,_0x5FDB){console[_$_b94f[1]](_$_b94f[698],_0x600D,_0x5FDB);alert(_$_b94f[245]+ _0x5FDB)}})}function saveRoomSettings(){const _0x8335={room_id:roomId,name:$(_$_b94f[699])[_$_b94f[216]]()[_$_b94f[215]](),description:$(_$_b94f[700])[_$_b94f[216]]()[_$_b94f[215]](),capacity:$(_$_b94f[701])[_$_b94f[216]](),theme:$(_$_b94f[702])[_$_b94f[216]](),has_password:$(_$_b94f[669])[_$_b94f[704]](_$_b94f[703])?1:0,password:$(_$_b94f[667])[_$_b94f[216]](),allow_knocking:$(_$_b94f[668])[_$_b94f[704]](_$_b94f[703])?1:0,youtube_enabled:$(_$_b94f[671])[_$_b94f[704]](_$_b94f[703])?1:0,is_rp:$(_$_b94f[705])[_$_b94f[704]](_$_b94f[703])?1:0,friends_only:$(_$_b94f[706])[_$_b94f[704]](_$_b94f[703])?1:0,invite_only:$(_$_b94f[707])[_$_b94f[704]](_$_b94f[703])?1:0,members_only:$(_$_b94f[708])[_$_b94f[704]](_$_b94f[703])?1:0,disappearing_messages:$(_$_b94f[673])[_$_b94f[704]](_$_b94f[703])?1:0,message_lifetime_minutes:$(_$_b94f[673])[_$_b94f[704]](_$_b94f[703])?$(_$_b94f[709])[_$_b94f[216]]():0,permanent:$(_$_b94f[710])[_$_b94f[704]](_$_b94f[703])?1:0};debugLog(_$_b94f[711],_0x8335);if(!_0x8335[_$_b94f[597]]){alert(_$_b94f[712]);$(_$_b94f[699])[_$_b94f[217]]();return};if(_0x8335[_$_b94f[621]]&&  !_0x8335[_$_b94f[713]]){if(!confirm(_$_b94f[714])){$(_$_b94f[667])[_$_b94f[217]]();return}};const _0x8367=$(_$_b94f[715]);const _0x68A5=_0x8367[_$_b94f[156]]();_0x8367[_$_b94f[237]](_$_b94f[236],true)[_$_b94f[156]](_$_b94f[716]);$[_$_b94f[67]]({url:_$_b94f[717],method:_$_b94f[53],data:_0x8335,dataType:_$_b94f[54],success:function(_0x5FA9){debugLog(_$_b94f[718],_0x5FA9);if(_0x5FA9[_$_b94f[55]]=== _$_b94f[56]){let _0x69D1=_$_b94f[719];if(_0x8335[_$_b94f[527]]){_0x69D1+= _$_b94f[720]};if(_0x5FA9[_$_b94f[636]]){const _0x696D=window[_$_b94f[92]][_$_b94f[637]]+ _$_b94f[721]+ _0x5FA9[_$_b94f[722]];_0x69D1+= _$_b94f[723]+ _0x696D;if(navigator[_$_b94f[724]]){navigator[_$_b94f[724]][_$_b94f[726]](_0x696D)[_$_b94f[138]](()=>{_0x69D1+= _$_b94f[725];alert(_0x69D1)})[_$_b94f[137]](()=>{alert(_0x69D1)})}else {alert(_0x69D1)}}else {alert(_0x69D1)};$(_$_b94f[660])[_$_b94f[662]](_$_b94f[174]);const _0x8399=_0x8335[_$_b94f[642]]!== youtubeEnabled|| _0x8335[_$_b94f[605]]!== (roomTheme|| _$_b94f[606])|| _0x8335[_$_b94f[645]]!== ( typeof disappearingMessages!== _$_b94f[100]?disappearingMessages:false);if(_0x8399){showToast(_$_b94f[727],_$_b94f[63]);setTimeout(()=>{location[_$_b94f[728]]()},2000)}else {loadMessages();loadUsers()}}else {alert(_$_b94f[243]+ _0x5FA9[_$_b94f[72]])}},error:function(_0x603F,_0x600D,_0x5FDB){console[_$_b94f[1]](_$_b94f[729],_0x600D,_0x5FDB);alert(_$_b94f[245]+ _0x5FDB)},complete:function(){_0x8367[_$_b94f[237]](_$_b94f[236],false)[_$_b94f[156]](_0x68A5)}})}function leaveRoom(){debugLog(_$_b94f[730],roomId);$[_$_b94f[67]]({url:_$_b94f[572],method:_$_b94f[53],data:{room_id:roomId,action:_$_b94f[731]},success:function(_0x5FA9){debugLog(_$_b94f[732],_0x5FA9);try{let _0x6A03=JSON[_$_b94f[282]](_0x5FA9);if(_0x6A03[_$_b94f[55]]=== _$_b94f[733]){if(confirm(_0x6A03[_$_b94f[72]]+ _$_b94f[734])){$[_$_b94f[67]]({url:_$_b94f[572],method:_$_b94f[53],data:{room_id:roomId,action:_$_b94f[733]},success:function(_0x7651){try{let _0x761F=JSON[_$_b94f[282]](_0x7651);if(_0x761F[_$_b94f[55]]=== _$_b94f[56]){alert(_0x761F[_$_b94f[72]]|| _$_b94f[735]);window[_$_b94f[92]][_$_b94f[91]]= _$_b94f[93]}else {alert(_$_b94f[243]+ _0x761F[_$_b94f[72]])}}catch(e){console[_$_b94f[1]](_$_b94f[388],e,_0x7651);alert(_$_b94f[736])}},error:function(_0x603F,_0x600D,_0x5FDB){console[_$_b94f[1]](_$_b94f[737],_0x5FDB);alert(_$_b94f[738]+ _0x5FDB)}})}}else {if(_0x6A03[_$_b94f[55]]=== _$_b94f[739]){showHostLeavingModal(_0x6A03[_$_b94f[740]]|| [],_0x6A03[_$_b94f[741]]!== false,_0x6A03[_$_b94f[742]]=== true)}else {if(_0x6A03[_$_b94f[55]]=== _$_b94f[56]){window[_$_b94f[92]][_$_b94f[91]]= _$_b94f[93]}else {alert(_$_b94f[243]+ _0x6A03[_$_b94f[72]])}}}}catch(e){console[_$_b94f[1]](_$_b94f[388],e,_$_b94f[743],_0x5FA9);if(_0x5FA9[_$_b94f[225]](_$_b94f[56])){window[_$_b94f[92]][_$_b94f[91]]= _$_b94f[93]}else {alert(_$_b94f[744]+ _0x5FA9)}}},error:function(_0x603F,_0x600D,_0x5FDB){console[_$_b94f[1]](_$_b94f[745],_0x600D,_0x5FDB);alert(_$_b94f[245]+ _0x5FDB)}})}function showHostLeavingModal(_0x858D,_0x85BF,_0x855B){let _0x8623=_$_b94f[48];let _0x85F1=_$_b94f[48];if(_0x85BF&& _0x858D[_$_b94f[49]]> 0){_0x858D[_$_b94f[26]]((_0x745D)=>{let _0x65B7=_0x745D[_$_b94f[161]]|| _0x745D[_$_b94f[162]];_0x8623+= _$_b94f[746]+ _0x745D[_$_b94f[299]]+ _$_b94f[427]+ _0x65B7+ _$_b94f[747]});_0x85F1= ("\x0D\x0A            <div class=\"mb-3\">\x0D\x0A                <label for=\"newHostSelect\" class=\"form-label\">Or transfer host privileges to:</label>\x0D\x0A                <select class=\"form-select mb-2\" id=\"newHostSelect\" style=\"background: #333; border: 1px solid #555; color: #fff;\">\x0D\x0A                    <option value=\"\">Select new host...</option>\x0D\x0A                    "+_0x8623+_$_b94f[748])};let _0x6EE5=("\x0D\x0A        <div class=\"modal fade\" id=\"hostLeavingModal\" tabindex=\"-1\">\x0D\x0A            <div class=\"modal-dialog\">\x0D\x0A                <div class=\"modal-content\" style=\"background: #2a2a2a; border: 1px solid #444; color: #fff;\">\x0D\x0A                    <div class=\"modal-header\" style=\"border-bottom: 1px solid #444;\">\x0D\x0A                        <h5 class=\"modal-title\">"+(_0x855B?_$_b94f[749]:_$_b94f[750])+_$_b94f[751]+(_0x855B?_$_b94f[752]:_$_b94f[753])+_$_b94f[754]+(_0x855B?_$_b94f[755]:_$_b94f[756])+_$_b94f[757]+_0x85F1+_$_b94f[758]);$(_$_b94f[759])[_$_b94f[264]]();$(_$_b94f[519])[_$_b94f[518]](_0x6EE5);$(_$_b94f[759])[_$_b94f[662]](_$_b94f[172])}function deleteRoom(){if(confirm(_$_b94f[760])){$[_$_b94f[67]]({url:_$_b94f[572],method:_$_b94f[53],data:{room_id:roomId,action:_$_b94f[761]},success:function(_0x5FA9){try{let _0x6A03=JSON[_$_b94f[282]](_0x5FA9);if(_0x6A03[_$_b94f[55]]=== _$_b94f[56]){stopKickDetection();alert(_$_b94f[762]);window[_$_b94f[92]][_$_b94f[91]]= _$_b94f[93]}else {alert(_$_b94f[243]+ _0x6A03[_$_b94f[72]])}}catch(e){console[_$_b94f[1]](_$_b94f[388],e,_0x5FA9);alert(_$_b94f[593])}},error:function(_0x603F,_0x600D,_0x5FDB){console[_$_b94f[1]](_$_b94f[763],_0x600D,_0x5FDB);alert(_$_b94f[245]+ _0x5FDB)}})}}function transferHost(){let _0x8B37=$(_$_b94f[764])[_$_b94f[216]]();if(!_0x8B37){alert(_$_b94f[765]);return};if(confirm(_$_b94f[766])){$[_$_b94f[67]]({url:_$_b94f[572],method:_$_b94f[53],data:{room_id:roomId,action:_$_b94f[767],new_host_user_id:_0x8B37},success:function(_0x5FA9){try{let _0x6A03=JSON[_$_b94f[282]](_0x5FA9);if(_0x6A03[_$_b94f[55]]=== _$_b94f[56]){stopKickDetection();alert(_$_b94f[768]);window[_$_b94f[92]][_$_b94f[91]]= _$_b94f[93]}else {alert(_$_b94f[243]+ _0x6A03[_$_b94f[72]])}}catch(e){console[_$_b94f[1]](_$_b94f[388],e,_0x5FA9);alert(_$_b94f[593])}},error:function(_0x603F,_0x600D,_0x5FDB){console[_$_b94f[1]](_$_b94f[769],_0x600D,_0x5FDB);alert(_$_b94f[245]+ _0x5FDB)}})}}function showBanModal(_0x661B,_0x6909){const _0x6EE5=("\x0D\x0A        <div class=\"modal fade\" id=\"banUserModal\" tabindex=\"-1\">\x0D\x0A            <div class=\"modal-dialog\">\x0D\x0A                <div class=\"modal-content\" style=\"background: #2a2a2a; border: 1px solid #444; color: #fff;\">\x0D\x0A                    <div class=\"modal-header\" style=\"border-bottom: 1px solid #444;\">\x0D\x0A                        <h5 class=\"modal-title\"><i class=\"fas fa-ban\"></i> Ban User</h5>\x0D\x0A                        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" style=\"filter: invert(1);\"></button>\x0D\x0A                    </div>\x0D\x0A                    <div class=\"modal-body\">\x0D\x0A                        <p>You are about to ban <strong>"+_0x6909+_$_b94f[770]+_0x661B+_$_b94f[330]+_0x6909[_$_b94f[321]](/'/g,_$_b94f[320])+_$_b94f[771]);$(_$_b94f[772])[_$_b94f[264]]();$(_$_b94f[519])[_$_b94f[518]](_0x6EE5);$(_$_b94f[772])[_$_b94f[662]](_$_b94f[172])}function confirmBanUser(_0x661B,_0x6909){const _0x6841=$(_$_b94f[773])[_$_b94f[216]]();const _0x68D7=$(_$_b94f[774])[_$_b94f[216]]()[_$_b94f[215]]();const _0x6873=_0x6841=== _$_b94f[527]?_$_b94f[775]:_0x6841== 300?_$_b94f[776]:_0x6841== 1800?_$_b94f[777]:_$_b94f[778]+ _0x6841+ _$_b94f[779];if(!confirm(_$_b94f[780]+ _0x6909+ _$_b94f[359]+ _0x6873+ _$_b94f[695])){return};const _0x680F=$(_$_b94f[781]);const _0x68A5=_0x680F[_$_b94f[156]]();_0x680F[_$_b94f[237]](_$_b94f[236],true)[_$_b94f[156]](_$_b94f[782]);$[_$_b94f[67]]({url:_$_b94f[783],method:_$_b94f[53],dataType:_$_b94f[54],data:{room_id:roomId,user_id_string:_0x661B,duration:_0x6841,reason:_0x68D7},success:function(_0x5FA9){if(_0x5FA9[_$_b94f[55]]=== _$_b94f[56]){alert(_$_b94f[784]+ _0x6873+ _$_b94f[785]);$(_$_b94f[772])[_$_b94f[662]](_$_b94f[174]);loadUsers();loadMessages();setTimeout(()=>{checkUserStatus()},500)}else {alert(_$_b94f[243]+ _0x5FA9[_$_b94f[72]])}},error:function(_0x603F,_0x600D,_0x5FDB){console[_$_b94f[1]](_$_b94f[786],_0x600D,_0x5FDB);alert(_$_b94f[245]+ _0x5FDB)},complete:function(){_0x680F[_$_b94f[237]](_$_b94f[236],false)[_$_b94f[156]](_0x68A5)}})}function checkForKnocks(){if(!isHost){return};$[_$_b94f[67]]({url:_$_b94f[787],method:_$_b94f[76],dataType:_$_b94f[54],success:function(_0x6521){if(Array[_$_b94f[157]](_0x6521)&& _0x6521[_$_b94f[49]]> 0){displayKnockNotifications(_0x6521)}},error:function(_0x603F,_0x600D,_0x5FDB){}})}function displayKnockNotifications(_0x6521){_0x6521[_$_b94f[26]]((_0x6B61,_0x6B2F)=>{if($(("#knock-"+_0x6B61[_$_b94f[287]]+_$_b94f[48]))[_$_b94f[49]]> 0){return};const _0x6909=_0x6B61[_$_b94f[161]]|| _0x6B61[_$_b94f[162]]|| _$_b94f[679];const _0x6AFD=_0x6B61[_$_b94f[296]]|| _$_b94f[298];const _0x6BC5=20+ (_0x6B2F* 140);const _0x6B93=("\x0D\x0A            <div class=\"alert alert-info knock-notification\" \x0D\x0A                 id=\"knock-"+_0x6B61[_$_b94f[287]]+_$_b94f[788]+_0x6BC5+_$_b94f[789]+_0x6AFD+_$_b94f[790]+_0x6909+_$_b94f[791]+_0x6909+_$_b94f[792]+_0x6B61[_$_b94f[287]]+_$_b94f[793]+_0x6B61[_$_b94f[287]]+_$_b94f[794]+_0x6B61[_$_b94f[287]]+_$_b94f[795]);$(_$_b94f[519])[_$_b94f[518]](_0x6B93);$(("#knock-"+_0x6B61[_$_b94f[287]]+_$_b94f[48]))[_$_b94f[174]]()[_$_b94f[796]](300);setTimeout(()=>{dismissKnock(_0x6B61[_$_b94f[287]])},45000)})}function respondToKnock(_0x6A35,_0x5FA9){$[_$_b94f[67]]({url:_$_b94f[797],method:_$_b94f[53],data:{knock_id:_0x6A35,response:_0x5FA9},dataType:_$_b94f[54],success:function(_0x8303){if(_0x8303[_$_b94f[55]]=== _$_b94f[56]){dismissKnock(_0x6A35);loadMessages();const _0x69D1=_0x5FA9=== _$_b94f[209]?_$_b94f[798]:_$_b94f[799];alert(_0x69D1)}else {alert(_$_b94f[243]+ _0x8303[_$_b94f[72]])}},error:function(_0x603F,_0x600D,_0x5FDB){console[_$_b94f[1]](_$_b94f[800],_0x5FDB);alert(_$_b94f[801]+ _0x5FDB)}})}function dismissKnock(_0x6A35){$(("#knock-"+_0x6A35+_$_b94f[48]))[_$_b94f[802]](300,function(){$(this)[_$_b94f[264]]()})}function createTestUser(){$[_$_b94f[67]]({url:_$_b94f[803],method:_$_b94f[53],dataType:_$_b94f[54],success:function(_0x5FA9){if(_0x5FA9[_$_b94f[55]]=== _$_b94f[56]){alert(_$_b94f[804]+ _0x5FA9[_$_b94f[206]][_$_b94f[597]]);loadUsers();loadMessages()}else {alert(_$_b94f[243]+ _0x5FA9[_$_b94f[72]])}},error:function(_0x603F,_0x600D,_0x5FDB){console[_$_b94f[1]](_$_b94f[805],_0x600D,_0x5FDB);alert(_$_b94f[245]+ _0x5FDB)}})}let openWhispers= new Map();let whisperTabs=[];function escapeSelector(_0x699F){return _0x699F[_$_b94f[321]](/([ #;&,.+*~':"!^$[\]()=>|\/])/g,_$_b94f[806])}function createSafeId(_0x699F){return _0x699F[_$_b94f[321]](/[^a-zA-Z0-9_-]/g,_$_b94f[807])}function openWhisper(_0x661B,_0x6201){debugLog(_$_b94f[808],_0x661B,_0x6201);if(openWhispers[_$_b94f[113]](_0x661B)){showWhisperTab(_0x661B);return};const _0x667F=createSafeId(_0x661B);const _0x7A39=("whisper-tab-"+_0x667F+_$_b94f[48]);const _0x7A6B=("whisper-"+_0x667F+_$_b94f[48]);const _0x7A07=("\x0D\x0A        <div class=\"whisper-tab\" id=\""+_0x7A39+_$_b94f[809]+_0x661B[_$_b94f[321]](/'/g,_$_b94f[320])+_$_b94f[810]+_0x6201+_$_b94f[811]+_0x667F+_$_b94f[812]+_0x661B[_$_b94f[321]](/'/g,_$_b94f[320])+_$_b94f[813]);const _0x79A3=("\x0D\x0A        <div class=\"whisper-window\" id=\""+_0x7A6B+_$_b94f[814]+_0x667F+_$_b94f[815]+_0x661B[_$_b94f[321]](/'/g,_$_b94f[320])+_$_b94f[816]+_0x667F+_$_b94f[817]);if($(_$_b94f[818])[_$_b94f[49]]=== 0){$(_$_b94f[519])[_$_b94f[518]](_$_b94f[819])};$(_$_b94f[818])[_$_b94f[518]](_0x7A07);$(_$_b94f[519])[_$_b94f[518]](_0x79A3);openWhispers[_$_b94f[114]](_0x661B,{username:_0x6201,unreadCount:0,safeId:_0x667F});whisperTabs[_$_b94f[46]](_0x661B);loadWhisperMessages(_0x661B);showWhisperTab(_0x661B)}function toggleWhisperTab(_0x661B){debugLog(_$_b94f[820],_0x661B);const _0x6585=openWhispers[_$_b94f[115]](_0x661B);if(!_0x6585){return};const _0x667F=_0x6585[_$_b94f[171]];const _0x88AD=$(("#whisper-"+_0x667F+_$_b94f[48]));const _0x887B=$(("#whisper-tab-"+_0x667F+_$_b94f[48]));const _0x8B05=_0x88AD[_$_b94f[503]](_$_b94f[821]);$(_$_b94f[822])[_$_b94f[509]](_$_b94f[821]);$(_$_b94f[823])[_$_b94f[504]](_$_b94f[95]);if(_0x8B05){_0x88AD[_$_b94f[504]](_$_b94f[821]);_0x887B[_$_b94f[509]](_$_b94f[95]);markWhisperAsRead(_0x661B);setTimeout(()=>{$(("#whisper-input-"+_0x667F+_$_b94f[48]))[_$_b94f[217]]()},300)}else {_0x88AD[_$_b94f[509]](_$_b94f[821]);_0x887B[_$_b94f[504]](_$_b94f[95])}}function showWhisperTab(_0x661B){debugLog(_$_b94f[824],_0x661B);const _0x6585=openWhispers[_$_b94f[115]](_0x661B);if(!_0x6585){return};const _0x667F=_0x6585[_$_b94f[171]];$(_$_b94f[822])[_$_b94f[509]](_$_b94f[821]);$(_$_b94f[823])[_$_b94f[504]](_$_b94f[95]);const _0x88AD=$(("#whisper-"+_0x667F+_$_b94f[48]));const _0x887B=$(("#whisper-tab-"+_0x667F+_$_b94f[48]));_0x88AD[_$_b94f[504]](_$_b94f[821]);_0x887B[_$_b94f[509]](_$_b94f[95]);markWhisperAsRead(_0x661B);setTimeout(()=>{$(("#whisper-input-"+_0x667F+_$_b94f[48]))[_$_b94f[217]]()},300)}function closeWhisper(_0x661B){const _0x6585=openWhispers[_$_b94f[115]](_0x661B);if(!_0x6585){return};const _0x667F=_0x6585[_$_b94f[171]];$(("#whisper-tab-"+_0x667F+_$_b94f[48]))[_$_b94f[264]]();$(("#whisper-"+_0x667F+_$_b94f[48]))[_$_b94f[264]]();openWhispers[_$_b94f[212]](_0x661B);whisperTabs= whisperTabs[_$_b94f[825]]((_0x67DD)=>{return _0x67DD!== _0x661B});if(whisperTabs[_$_b94f[49]]=== 0){$(_$_b94f[818])[_$_b94f[264]]()}}function sendWhisper(_0x84F7){const _0x6585=openWhispers[_$_b94f[115]](_0x84F7);if(!_0x6585){return false};const _0x667F=_0x6585[_$_b94f[171]];const _0x664D=$(("#whisper-input-"+_0x667F+_$_b94f[48]));const _0x69D1=_0x664D[_$_b94f[216]]()[_$_b94f[215]]();if(!_0x69D1){return false};$[_$_b94f[67]]({url:_$_b94f[145],method:_$_b94f[53],data:{action:_$_b94f[826],recipient_user_id_string:_0x84F7,message:_0x69D1},dataType:_$_b94f[54],success:function(_0x5FA9){if(_0x5FA9[_$_b94f[55]]=== _$_b94f[56]){_0x664D[_$_b94f[216]](_$_b94f[48]);loadWhisperMessages(_0x84F7)}else {alert(_$_b94f[243]+ _0x5FA9[_$_b94f[72]])}},error:function(_0x603F,_0x600D,_0x5FDB){console[_$_b94f[1]](_$_b94f[827],_0x5FDB);alert(_$_b94f[828]+ _0x5FDB)}});return false}function loadWhisperMessages(_0x6F49){debugLog(_$_b94f[829],_0x6F49);managedAjax({url:_$_b94f[145],method:_$_b94f[76],data:{action:_$_b94f[115],other_user_id_string:_0x6F49},dataType:_$_b94f[54]})[_$_b94f[138]]((_0x5FA9)=>{debugLog(_$_b94f[832],_0x5FA9);if(_0x5FA9[_$_b94f[55]]=== _$_b94f[56]){displayWhisperMessages(_0x6F49,_0x5FA9[_$_b94f[150]])}else {console[_$_b94f[1]](_$_b94f[833],_0x5FA9[_$_b94f[72]]);const _0x6585=openWhispers[_$_b94f[115]](_0x6F49);if(_0x6585){$(("#whisper-body-"+_0x6585[_$_b94f[171]]+_$_b94f[48]))[_$_b94f[156]](_$_b94f[834]+ _0x5FA9[_$_b94f[72]]+ _$_b94f[373])}}})[_$_b94f[137]]((_0x5FDB)=>{console[_$_b94f[1]](_$_b94f[830],_0x5FDB);const _0x6585=openWhispers[_$_b94f[115]](_0x6F49);if(_0x6585){$(("#whisper-body-"+_0x6585[_$_b94f[171]]+_$_b94f[48]))[_$_b94f[156]](_$_b94f[831])}})}function displayWhisperMessages(_0x6F49,_0x6CF1){const _0x6585=openWhispers[_$_b94f[115]](_0x6F49);if(!_0x6585){console[_$_b94f[1]](_$_b94f[835],_0x6F49);return};const _0x667F=_0x6585[_$_b94f[171]];const _0x6BF7=$(("#whisper-body-"+_0x667F+_$_b94f[48]));if(_0x6BF7[_$_b94f[49]]=== 0){console[_$_b94f[1]](_$_b94f[836],("#whisper-body-"+_0x667F+_$_b94f[48]));return};const _0x6D55=_0x6BF7[0][_$_b94f[155]]> 0?(_0x6BF7[_$_b94f[153]]()+ _0x6BF7[_$_b94f[154]]()>= _0x6BF7[0][_$_b94f[155]]- 20):true;let _0x6A99=_$_b94f[48];if(_0x6CF1[_$_b94f[49]]=== 0){_0x6A99= _$_b94f[837]}else {_0x6CF1[_$_b94f[26]]((_0x6E4F)=>{const _0x6E1D=_0x6E4F[_$_b94f[838]]=== currentUserIdString;const _0x6E81= new Date(_0x6E4F[_$_b94f[839]])[_$_b94f[317]]([],{hour:_$_b94f[316],minute:_$_b94f[316]});const _0x6D87=_0x6E1D?(currentUser[_$_b94f[597]]|| currentUser[_$_b94f[161]]|| _$_b94f[840]):(_0x6E4F[_$_b94f[841]]|| _0x6E4F[_$_b94f[842]]|| _$_b94f[163]);const _0x6AFD=_0x6E1D?(currentUser[_$_b94f[296]]|| _$_b94f[298]):(_0x6E4F[_$_b94f[843]]|| _$_b94f[298]);const _0x6EB3=_0x6E1D?(currentUser[_$_b94f[293]]|| _$_b94f[346]):(_0x6E4F[_$_b94f[844]]|| _$_b94f[346]);const _0x6DB9=_0x6E1D?(currentUser[_$_b94f[303]]|| 0):(_0x6E4F[_$_b94f[845]]|| 0);const _0x6DEB=_0x6E1D?(currentUser[_$_b94f[305]]|| 100):(_0x6E4F[_$_b94f[846]]|| 100);const _0x6F7B=_0x6E1D?(currentUser[_$_b94f[306]]|| 0):(_0x6E4F[_$_b94f[306]]|| 0);const _0x6FAD=_0x6E1D?(currentUser[_$_b94f[307]]|| 100):(_0x6E4F[_$_b94f[307]]|| 100);_0x6A99+= ("\x0D\x0A        <div class=\"private-chat-message "+(_0x6E1D?_$_b94f[847]:_$_b94f[848])+_$_b94f[849]+_0x6AFD+_$_b94f[850]+_0x6DB9+_$_b94f[313]+_0x6DEB+_$_b94f[851]+_0x6D87+_$_b94f[852]+(_0x6E1D?_$_b94f[847]:_$_b94f[848])+_$_b94f[853]+_0x6EB3+_$_b94f[347]+_0x6F7B+_$_b94f[313]+_0x6FAD+_$_b94f[854]+_0x6D87+_$_b94f[855]+_0x6E81+_$_b94f[856]+_0x6E4F[_$_b94f[72]]+_$_b94f[857])})};_0x6BF7[_$_b94f[156]](_0x6A99);if(_0x6D55&& _0x6BF7[0][_$_b94f[155]]> 0){_0x6BF7[_$_b94f[153]](_0x6BF7[0][_$_b94f[155]])}}function markWhisperAsRead(_0x661B){const _0x6585=openWhispers[_$_b94f[115]](_0x661B);if(_0x6585&& _0x6585[_$_b94f[170]]> 0){_0x6585[_$_b94f[170]]= 0;openWhispers[_$_b94f[114]](_0x661B,_0x6585);$(("#whisper-unread-"+_0x6585[_$_b94f[171]]+_$_b94f[48]))[_$_b94f[174]]()[_$_b94f[173]](_$_b94f[858])}}function checkForNewWhispers(){$[_$_b94f[67]]({url:_$_b94f[145],method:_$_b94f[76],data:{action:_$_b94f[146]},dataType:_$_b94f[54],success:function(_0x5FA9){if(_0x5FA9[_$_b94f[55]]=== _$_b94f[56]){_0x5FA9[_$_b94f[175]][_$_b94f[26]]((_0x6553)=>{const _0x661B=_0x6553[_$_b94f[169]];if(_0x6553[_$_b94f[168]]> 0&&  !openWhispers[_$_b94f[113]](_0x661B)){const _0x65B7=_0x6553[_$_b94f[161]]|| _0x6553[_$_b94f[162]]|| _$_b94f[163];openWhisper(_0x661B,_0x65B7)};if(openWhispers[_$_b94f[113]](_0x661B)){const _0x6585=openWhispers[_$_b94f[115]](_0x661B);_0x6585[_$_b94f[170]]= _0x6553[_$_b94f[168]];openWhispers[_$_b94f[114]](_0x661B,_0x6585);const _0x65E9=$(("#whisper-unread-"+_0x6585[_$_b94f[171]]+_$_b94f[48]));if(_0x6553[_$_b94f[168]]> 0){_0x65E9[_$_b94f[173]](_0x6553[_$_b94f[168]])[_$_b94f[172]]()}else {_0x65E9[_$_b94f[174]]()}}})}},error:function(){}});openWhispers[_$_b94f[26]]((_0x6585,_0x661B)=>{const _0x667F=_0x6585[_$_b94f[171]];const _0x664D=$(("#whisper-input-"+_0x667F+_$_b94f[48]));if(!_0x664D[_$_b94f[704]](_$_b94f[859])|| _0x664D[_$_b94f[216]]()[_$_b94f[49]]=== 0){}});if($(_$_b94f[861])[_$_b94f[704]](_$_b94f[860])){}}function sendFriendRequest(_0x66E3,_0x6201){if(!_0x66E3||  !_0x6201){alert(_$_b94f[862]);return};if(confirm(_$_b94f[863]+ _0x6201+ _$_b94f[695])){$[_$_b94f[67]]({url:_$_b94f[207],method:_$_b94f[53],data:{action:_$_b94f[864],friend_username:_0x6201},dataType:_$_b94f[54],success:function(_0x5FA9){if(_0x5FA9[_$_b94f[55]]=== _$_b94f[56]){alert(_$_b94f[865]+ _0x6201+ _$_b94f[785]);clearFriendshipCache(_0x66E3);loadUsers()}else {alert(_$_b94f[243]+ _0x5FA9[_$_b94f[72]])}},error:function(_0x603F,_0x600D,_0x5FDB){console[_$_b94f[1]](_$_b94f[866],_0x5FDB);alert(_$_b94f[867]+ _0x5FDB)}})}}window[_$_b94f[868]]= function(){console[_$_b94f[103]](_$_b94f[869]);console[_$_b94f[103]](_$_b94f[870],messageOffset);console[_$_b94f[103]](_$_b94f[871],messageLimit);console[_$_b94f[103]](_$_b94f[872],hasMoreOlderMessages);console[_$_b94f[103]](_$_b94f[276],isLoadingMessages);console[_$_b94f[103]](_$_b94f[873],totalMessageCount);console[_$_b94f[103]](_$_b94f[874],$(_$_b94f[251])[_$_b94f[49]]> 0);console[_$_b94f[103]](_$_b94f[875],$(_$_b94f[286])[_$_b94f[49]])};$(document)[_$_b94f[890]](function(){debugLog(_$_b94f[876],roomId);if(!roomId){console[_$_b94f[1]](_$_b94f[877]);window[_$_b94f[92]][_$_b94f[91]]= _$_b94f[93];return};$(document)[_$_b94f[36]](_$_b94f[578],_$_b94f[878],function(_0x6139){_0x6139[_$_b94f[280]]();sendMessage();return false});$(document)[_$_b94f[36]](_$_b94f[879],_$_b94f[214],function(_0x6139){if(_0x6139[_$_b94f[880]]=== 13){_0x6139[_$_b94f[280]]();sendMessage();return false}});$(document)[_$_b94f[36]](_$_b94f[578],_$_b94f[881],function(_0x6139){_0x6139[_$_b94f[280]]();suggestVideo();return false});$(document)[_$_b94f[36]](_$_b94f[879],_$_b94f[470],function(_0x6139){if(_0x6139[_$_b94f[880]]=== 13){_0x6139[_$_b94f[280]]();suggestVideo();return false}});addAFKStyles();setTimeout(updateAFKButton,1000);$(document)[_$_b94f[36]](_$_b94f[882],_$_b94f[152],function(){userIsScrolling= true;setTimeout(function(){userIsScrolling= false},1000)});document[_$_b94f[42]](_$_b94f[39],function(){if(!document[_$_b94f[40]]){updateUserActivity(_$_b94f[41]);setTimeout(checkUserStatus,100)}});$(window)[_$_b94f[36]](_$_b94f[217],function(){setTimeout(checkUserStatus,100)});if( typeof youtubeEnabledGlobal!== _$_b94f[100]&& youtubeEnabledGlobal){debugLog(_$_b94f[883]);youtubeEnabled= true;isYoutubeHost= isHost;const _0x616B=localStorage[_$_b94f[884]](("youtube_hidden_"+roomId+_$_b94f[48]));if(_0x616B=== _$_b94f[885]){$(_$_b94f[500])[_$_b94f[509]](_$_b94f[502])[_$_b94f[174]]();$(_$_b94f[501])[_$_b94f[509]](_$_b94f[508])[_$_b94f[156]](_$_b94f[511])[_$_b94f[272]](_$_b94f[505],_$_b94f[510]);playerHidden= true};window[_$_b94f[886]]= function(){youtubeAPIReady= true;initializeYouTubePlayer()};loadYouTubeAPI();$(_$_b94f[500])[_$_b94f[509]](_$_b94f[4]);$(_$_b94f[501])[_$_b94f[172]]()}else {debugLog(_$_b94f[887]);youtubeEnabled= false};initializeActivityTracking();if(isHost){debugLog(_$_b94f[888]);setInterval(checkForKnocks,5000);setTimeout(checkForKnocks,1000)};setTimeout(()=>{initializeMentionsAndReplies();addMentionHighlightCSS()},1000);if(currentUser[_$_b94f[50]]=== _$_b94f[206]){setTimeout(initializePrivateMessaging,1000)};startRoomUpdates();setTimeout(checkUserStatus,1000);kickDetectionInterval= setInterval(checkUserStatus,10000);$(_$_b94f[214])[_$_b94f[217]]();debugLog(_$_b94f[889])});$(window)[_$_b94f[36]](_$_b94f[891],function(){stopRoomUpdates();if(mentionCheckInterval){clearInterval(mentionCheckInterval);mentionCheckInterval= null};stopYouTubePlayer();stopActivityTracking();stopKickDetection()});function toggleMobileUsers(){const _0x8AA1=$(_$_b94f[166]);const _0x8A6F=$(_$_b94f[892]);if(_0x8AA1[_$_b94f[503]](_$_b94f[893])){_0x8AA1[_$_b94f[504]](_$_b94f[893]);_0x8A6F[_$_b94f[504]](_$_b94f[893])}else {_0x8AA1[_$_b94f[509]](_$_b94f[893]);_0x8A6F[_$_b94f[509]](_$_b94f[893])}}function toggleMobileQueue(_0x89D9){const _0x8A3D=$(_$_b94f[894]);const _0x89A7=$(_$_b94f[896])[_$_b94f[895]](0);const _0x8A0B=$(_$_b94f[896])[_$_b94f[895]](1);$(_$_b94f[896])[_$_b94f[504]](_$_b94f[897]);if(_0x89D9=== _$_b94f[180]){_0x89A7[_$_b94f[509]](_$_b94f[95]);$(_$_b94f[899])[_$_b94f[898]](_$_b94f[172])}else {_0x8A0B[_$_b94f[509]](_$_b94f[95]);$(_$_b94f[900])[_$_b94f[898]](_$_b94f[172])};if(_0x8A3D[_$_b94f[503]](_$_b94f[893])){_0x8A3D[_$_b94f[504]](_$_b94f[893])}else {_0x8A3D[_$_b94f[509]](_$_b94f[893]);if(_0x89D9=== _$_b94f[180]){_0x89A7[_$_b94f[509]](_$_b94f[893])}else {_0x8A0B[_$_b94f[509]](_$_b94f[893])}}}let openPrivateChats= new Map();let friends=[];function initializePrivateMessaging(){if(currentUser[_$_b94f[50]]!== _$_b94f[206]){return};debugLog(_$_b94f[901]);loadFriends();debugLog(_$_b94f[902])}function showFriendsPanel(){$(_$_b94f[861])[_$_b94f[172]]();loadFriends();loadConversations()}function closeFriendsPanel(){$(_$_b94f[861])[_$_b94f[174]]()}function loadFriends(){debugLog(_$_b94f[903]);managedAjax({url:_$_b94f[207],method:_$_b94f[76],data:{action:_$_b94f[115]},dataType:_$_b94f[54]})[_$_b94f[138]]((_0x5FA9)=>{debugLog(_$_b94f[907],_0x5FA9);if(_0x5FA9[_$_b94f[55]]=== _$_b94f[56]){friends= _0x5FA9[_$_b94f[211]];updateFriendsPanel()}else {$(_$_b94f[906])[_$_b94f[156]](_$_b94f[908]+ _0x5FA9[_$_b94f[72]]+ _$_b94f[534])}})[_$_b94f[137]]((_0x5FDB)=>{console[_$_b94f[1]](_$_b94f[904],_0x5FDB);$(_$_b94f[906])[_$_b94f[156]](_$_b94f[905])})}function updateFriendsPanel(){debugLog(_$_b94f[909],friends);let _0x6A99="\x0D\x0A        <div class=\"mb-3\">\x0D\x0A            <div class=\"input-group input-group-sm\">\x0D\x0A                <input type=\"text\" class=\"form-control\" id=\"addFriendInput\" placeholder=\"Username to add\" style=\"background: #333; border: 1px solid #555; color: #fff;\">\x0D\x0A                <button class=\"btn btn-primary\" onclick=\"addFriend()\">\x0D\x0A                    <i class=\"fas fa-user-plus\"></i> Add\x0D\x0A                </button>\x0D\x0A            </div>\x0D\x0A        </div>\x0D\x0A        <div class=\"mb-3\">\x0D\x0A            <h6 style=\"color: #e0e0e0;\">Recent Conversations</h6>\x0D\x0A            <div id=\"conversationsList\">Loading conversations...</div>\x0D\x0A        </div>\x0D\x0A        <div>\x0D\x0A            <h6 style=\"color: #e0e0e0;\">Friends</h6>\x0D\x0A            <div id=\"friendsListContent\">\x0D\x0A    ";if(!friends|| friends[_$_b94f[49]]=== 0){_0x6A99+= _$_b94f[910]}else {friends[_$_b94f[26]]((_0x6747)=>{if(_0x6747[_$_b94f[55]]=== _$_b94f[209]){_0x6A99+= ("\x0D\x0A                    <div class=\"d-flex align-items-center mb-2 p-2\" style=\"background: #333; border-radius: 4px;\">\x0D\x0A                        <img src=\"images/"+(_0x6747[_$_b94f[296]]|| _$_b94f[298])+_$_b94f[911]+(_0x6747[_$_b94f[303]]|| 0)+_$_b94f[313]+(_0x6747[_$_b94f[305]]|| 100)+_$_b94f[912]+_0x6747[_$_b94f[161]]+_$_b94f[913]+_0x6747[_$_b94f[208]]+_$_b94f[319]+_0x6747[_$_b94f[161]]+_$_b94f[914])}else {if(_0x6747[_$_b94f[55]]=== _$_b94f[915]&& _0x6747[_$_b94f[916]]=== _$_b94f[848]){_0x6A99+= ("\x0D\x0A                    <div class=\"d-flex align-items-center mb-2 p-2\" style=\"background: #4a4a2a; border-radius: 4px;\">\x0D\x0A                        <img src=\"images/"+(_0x6747[_$_b94f[296]]|| _$_b94f[298])+_$_b94f[917]+_0x6747[_$_b94f[161]]+_$_b94f[918]+_0x6747[_$_b94f[287]]+_$_b94f[919])}}})};_0x6A99+= _$_b94f[920];$(_$_b94f[906])[_$_b94f[156]](_0x6A99);loadConversations()}function addFriend(){const _0x6201=$(_$_b94f[921])[_$_b94f[216]]()[_$_b94f[215]]();if(!_0x6201){return};$[_$_b94f[67]]({url:_$_b94f[207],method:_$_b94f[53],data:{action:_$_b94f[864],friend_username:_0x6201},dataType:_$_b94f[54],success:function(_0x5FA9){if(_0x5FA9[_$_b94f[55]]=== _$_b94f[56]){$(_$_b94f[921])[_$_b94f[216]](_$_b94f[48]);alert(_$_b94f[922]);loadFriends()}else {alert(_$_b94f[243]+ _0x5FA9[_$_b94f[72]])}}})}function acceptFriend(_0x619D){$[_$_b94f[67]]({url:_$_b94f[207],method:_$_b94f[53],data:{action:_$_b94f[923],friend_id:_0x619D},dataType:_$_b94f[54],success:function(_0x5FA9){if(_0x5FA9[_$_b94f[55]]=== _$_b94f[56]){alert(_$_b94f[924]);loadFriends()}else {alert(_$_b94f[243]+ _0x5FA9[_$_b94f[72]])}}})}function loadConversations(){debugLog(_$_b94f[925]);managedAjax({url:_$_b94f[931],method:_$_b94f[76],data:{action:_$_b94f[146]},dataType:_$_b94f[54]})[_$_b94f[138]]((_0x5FA9)=>{debugLog(_$_b94f[929],_0x5FA9);if(_0x5FA9[_$_b94f[55]]=== _$_b94f[56]){displayConversations(_0x5FA9[_$_b94f[175]])}else {$(_$_b94f[928])[_$_b94f[156]](_$_b94f[930])}})[_$_b94f[137]]((_0x5FDB)=>{console[_$_b94f[1]](_$_b94f[926],_0x5FDB);$(_$_b94f[928])[_$_b94f[156]](_$_b94f[927])})}function displayConversations(_0x6A67){let _0x6A99=_$_b94f[48];if(_0x6A67[_$_b94f[49]]=== 0){_0x6A99= _$_b94f[932]}else {_0x6A67[_$_b94f[26]]((_0x6553)=>{const _0x6ACB=_0x6553[_$_b94f[168]]> 0?("<span class=\"badge bg-danger\">"+_0x6553[_$_b94f[168]]+_$_b94f[933]):_$_b94f[48];_0x6A99+= ("\x0D\x0A                <div class=\"d-flex align-items-center mb-2 p-2\" style=\"background: #333; border-radius: 4px; cursor: pointer;\" onclick=\"openPrivateMessage("+_0x6553[_$_b94f[934]]+_$_b94f[319]+_0x6553[_$_b94f[161]]+_$_b94f[935]+_0x6553[_$_b94f[296]]+_$_b94f[911]+(_0x6553[_$_b94f[303]]|| 0)+_$_b94f[313]+(_0x6553[_$_b94f[305]]|| 100)+_$_b94f[936]+_0x6553[_$_b94f[161]]+_$_b94f[937]+(_0x6553[_$_b94f[938]]?_0x6553[_$_b94f[938]][_$_b94f[357]](0,30)+ _$_b94f[939]:_$_b94f[940])+_$_b94f[941]+_0x6ACB+_$_b94f[942])})};$(_$_b94f[928])[_$_b94f[156]](_0x6A99)}function openPrivateMessage(_0x66E3,_0x6201){debugLog(_$_b94f[943]);debugLog(_$_b94f[944],_0x66E3,_$_b94f[945], typeof _0x66E3);debugLog(_$_b94f[946],_0x6201,_$_b94f[945], typeof _0x6201);debugLog(_$_b94f[947],currentUser);if(openPrivateChats[_$_b94f[113]](_0x66E3)){$(("#pm-"+_0x66E3+_$_b94f[48]))[_$_b94f[172]]();return};const _0x79A3=("\x0D\x0A        <div class=\"private-message-window\" id=\"pm-"+_0x66E3+_$_b94f[948]+_0x6201+_$_b94f[949]+_0x66E3+_$_b94f[950]+_0x66E3+_$_b94f[951]+_0x66E3+_$_b94f[952]+_0x66E3+_$_b94f[953]);$(_$_b94f[519])[_$_b94f[518]](_0x79A3);openPrivateChats[_$_b94f[114]](_0x66E3,{username:_0x6201,color:_$_b94f[346]});debugLog(_$_b94f[954],_0x66E3);$[_$_b94f[67]]({url:_$_b94f[955],method:_$_b94f[76],data:{user_id:_0x66E3},dataType:_$_b94f[54],success:function(_0x5FA9){debugLog(_$_b94f[956],_0x5FA9);if(_0x5FA9[_$_b94f[55]]=== _$_b94f[56]){const _0x79D5=openPrivateChats[_$_b94f[115]](_0x66E3);_0x79D5[_$_b94f[293]]= _0x5FA9[_$_b94f[206]][_$_b94f[293]]|| _$_b94f[346];_0x79D5[_$_b94f[296]]= _0x5FA9[_$_b94f[206]][_$_b94f[296]]|| _$_b94f[298];openPrivateChats[_$_b94f[114]](_0x66E3,_0x79D5);debugLog(_$_b94f[957],_0x5FA9[_$_b94f[206]][_$_b94f[293]]);loadPrivateMessages(_0x66E3)}},error:function(_0x603F,_0x600D,_0x5FDB){console[_$_b94f[1]](_$_b94f[958],{status:_0x600D,error:_0x5FDB,responseText:_0x603F[_$_b94f[270]],userId:_0x66E3});debugLog(_$_b94f[959]);loadPrivateMessages(_0x66E3)}})}function closePrivateMessage(_0x66E3){$(("#pm-"+_0x66E3+_$_b94f[48]))[_$_b94f[264]]();openPrivateChats[_$_b94f[212]](_0x66E3)}function sendPrivateMessage(_0x842F){debugLog(_$_b94f[960]);debugLog(_$_b94f[961],_0x842F,_$_b94f[945], typeof _0x842F);const _0x664D=$(("#pm-input-"+_0x842F+_$_b94f[48]));const _0x69D1=_0x664D[_$_b94f[216]]()[_$_b94f[215]]();debugLog(_$_b94f[962],_0x69D1);if(!_0x69D1){return false};const _0x8461={action:_$_b94f[826],recipient_id:_0x842F,message:_0x69D1};debugLog(_$_b94f[963],_0x8461);$[_$_b94f[67]]({url:_$_b94f[931],method:_$_b94f[53],data:_0x8461,dataType:_$_b94f[54],success:function(_0x5FA9){debugLog(_$_b94f[964],_0x5FA9);if(_0x5FA9[_$_b94f[55]]=== _$_b94f[56]){_0x664D[_$_b94f[216]](_$_b94f[48]);loadPrivateMessages(_0x842F)}else {console[_$_b94f[1]](_$_b94f[965],_0x5FA9[_$_b94f[72]]);alert(_$_b94f[243]+ _0x5FA9[_$_b94f[72]])}},error:function(_0x603F,_0x600D,_0x5FDB){console[_$_b94f[1]](_$_b94f[966],{status:_0x600D,error:_0x5FDB,responseText:_0x603F[_$_b94f[270]],recipientId:_0x842F,requestData:_0x8461});alert(_$_b94f[967]+ _0x5FDB)}});return false}function loadPrivateMessages(_0x6D23){debugLog(_$_b94f[968],_0x6D23);managedAjax({url:_$_b94f[931],method:_$_b94f[76],data:{action:_$_b94f[115],other_user_id:_0x6D23},dataType:_$_b94f[54]})[_$_b94f[138]]((_0x5FA9)=>{debugLog(_$_b94f[971],_0x5FA9);if(_0x5FA9[_$_b94f[55]]=== _$_b94f[56]){displayPrivateMessages(_0x6D23,_0x5FA9[_$_b94f[150]])}else {$(("#pm-body-"+_0x6D23+_$_b94f[48]))[_$_b94f[156]](_$_b94f[834]+ _0x5FA9[_$_b94f[72]]+ _$_b94f[373])}})[_$_b94f[137]]((_0x5FDB)=>{console[_$_b94f[1]](_$_b94f[969],_0x5FDB);$(("#pm-body-"+_0x6D23+_$_b94f[48]))[_$_b94f[156]](_$_b94f[970])})}function displayPrivateMessages(_0x6D23,_0x6CF1){const _0x6BF7=$(("#pm-body-"+_0x6D23+_$_b94f[48]));const _0x6D55=_0x6BF7[0]?(_0x6BF7[_$_b94f[153]]()+ _0x6BF7[_$_b94f[154]]()>= _0x6BF7[0][_$_b94f[155]]- 20):true;let _0x6A99=_$_b94f[48];if(_0x6CF1[_$_b94f[49]]=== 0){_0x6A99= _$_b94f[972]}else {_0x6CF1[_$_b94f[26]]((_0x6E4F)=>{const _0x6E1D=_0x6E4F[_$_b94f[973]]== currentUser[_$_b94f[287]];const _0x6E81= new Date(_0x6E4F[_$_b94f[839]])[_$_b94f[317]]([],{hour:_$_b94f[316],minute:_$_b94f[316]});const _0x6D87=_0x6E1D?(currentUser[_$_b94f[161]]|| currentUser[_$_b94f[597]]):_0x6E4F[_$_b94f[841]];const _0x6AFD=_0x6E1D?(currentUser[_$_b94f[296]]|| _$_b94f[298]):(_0x6E4F[_$_b94f[843]]|| _$_b94f[298]);const _0x6EB3=_0x6E1D?(currentUser[_$_b94f[293]]|| _$_b94f[346]):(_0x6E4F[_$_b94f[844]]|| _$_b94f[346]);const _0x6DB9=_0x6E1D?(currentUser[_$_b94f[303]]|| 0):(_0x6E4F[_$_b94f[845]]|| 0);const _0x6DEB=_0x6E1D?(currentUser[_$_b94f[305]]|| 100):(_0x6E4F[_$_b94f[846]]|| 100);debugLog(_$_b94f[974],{isOwn:_0x6E1D,avatarHue:_0x6DB9,avatarSat:_0x6DEB,msg_sender_avatar_hue:_0x6E4F[_$_b94f[845]],currentUser_avatar_hue:currentUser[_$_b94f[303]]});_0x6A99+= ("\x0D\x0A        <div class=\"private-chat-message "+(_0x6E1D?_$_b94f[847]:_$_b94f[848])+_$_b94f[849]+_0x6AFD+_$_b94f[850]+_0x6DB9+_$_b94f[313]+_0x6DEB+_$_b94f[851]+_0x6D87+_$_b94f[852]+(_0x6E1D?_$_b94f[847]:_$_b94f[848])+_$_b94f[853]+_0x6EB3+_$_b94f[975]+_0x6D87+_$_b94f[855]+_0x6E81+_$_b94f[976]+_0x6E4F[_$_b94f[72]]+_$_b94f[857])})};_0x6BF7[_$_b94f[156]](_0x6A99);if(_0x6D55){_0x6BF7[_$_b94f[153]](_0x6BF7[0][_$_b94f[155]])}}function syncAvatarCustomization(){$[_$_b94f[67]]({url:_$_b94f[977],method:_$_b94f[53],dataType:_$_b94f[54],success:function(_0x5FA9){if(_0x5FA9[_$_b94f[55]]=== _$_b94f[56]){debugLog(_$_b94f[978],_0x5FA9);setTimeout(()=>{loadUsers();loadMessages()},200)}else {debugLog(_$_b94f[979],_0x5FA9[_$_b94f[72]])}},error:function(_0x603F,_0x600D,_0x5FDB){debugLog(_$_b94f[980],_0x5FDB)}})}function applyAvatarFilter(_0x6391,_0x62FB,_0x63C3){if(_0x62FB!== undefined&& _0x63C3!== undefined){const _0x635F=parseInt(_0x62FB)|| 0;const _0x63F5=parseInt(_0x63C3)|| 100;const _0x62C9=("hue-rotate("+_0x635F+_$_b94f[313]+_0x63F5+_$_b94f[981]);const _0x6297=(""+_0x635F+_$_b94f[982]+_0x63F5+_$_b94f[48]);if(_0x6391[_$_b94f[284]](_$_b94f[983])!== _0x6297){_0x6391[_$_b94f[984]](_$_b94f[825],_0x62C9);_0x6391[_$_b94f[284]](_$_b94f[983],_0x6297);_0x6391[_$_b94f[509]](_$_b94f[985])}}}function applyAllAvatarFilters(){$(_$_b94f[989])[_$_b94f[988]](function(){const $img=$(this);const _0x62FB=$img[_$_b94f[284]](_$_b94f[986]);const _0x632D=$img[_$_b94f[284]](_$_b94f[987]);if(_0x62FB=== undefined|| _0x632D=== undefined){return};const _0x6297=(""+_0x62FB+_$_b94f[982]+_0x632D+_$_b94f[48]);const _0x6265=$img[_$_b94f[284]](_$_b94f[983]);if(_0x6265!== _0x6297){const _0x62C9=("hue-rotate("+_0x62FB+_$_b94f[313]+_0x632D+_$_b94f[981]);$img[_$_b94f[984]](_$_b94f[825],_0x62C9);$img[_$_b94f[284]](_$_b94f[983],_0x6297)}})}function handleAvatarClick(_0x7269,_0x66E3,_0x6201){_0x7269[_$_b94f[280]]();_0x7269[_$_b94f[990]]();debugLog(_$_b94f[991],_0x66E3,_$_b94f[992],_0x6201);if(_0x66E3&& _0x66E3!== _$_b94f[993]&& _0x66E3!== null&& _0x66E3> 0){if(_0x66E3== currentUser[_$_b94f[287]]){showUserProfile(_0x66E3,_0x7269[_$_b94f[994]])}else {showUserProfile(_0x66E3,_0x7269[_$_b94f[994]])}}}if( typeof disappearingMessages!== _$_b94f[100]&& disappearingMessages&& messageLifetimeMinutes> 0){$(_$_b94f[997])[_$_b94f[518]](("\x0D\x0A        <span class=\"badge bg-warning ms-2\" title=\"Messages disappear after "+messageLifetimeMinutes+_$_b94f[995]+messageLifetimeMinutes+_$_b94f[996]));setTimeout(()=>{showToast(("This room has disappearing messages enabled. Messages will be deleted after "+messageLifetimeMinutes+_$_b94f[998]),_$_b94f[541])},2000)};function copyInviteLink(_0x693B){const _0x696D=(""+window[_$_b94f[92]][_$_b94f[637]]+_$_b94f[638]+_0x693B+_$_b94f[48]);if(navigator[_$_b94f[724]]){navigator[_$_b94f[724]][_$_b94f[726]](_0x696D)[_$_b94f[138]](()=>{showToast(_$_b94f[999],_$_b94f[56])})[_$_b94f[137]](()=>{fallbackCopyTextToClipboard(_0x696D)})}else {fallbackCopyTextToClipboard(_0x696D)}}function fallbackCopyTextToClipboard(_0x7075){const _0x70A7=document[_$_b94f[129]](_$_b94f[1000]);_0x70A7[_$_b94f[1001]]= _0x7075;_0x70A7[_$_b94f[1003]][_$_b94f[1002]]= _$_b94f[858];_0x70A7[_$_b94f[1003]][_$_b94f[1004]]= _$_b94f[858];_0x70A7[_$_b94f[1003]][_$_b94f[1005]]= _$_b94f[1006];document[_$_b94f[519]][_$_b94f[1007]](_0x70A7);_0x70A7[_$_b94f[217]]();_0x70A7[_$_b94f[1008]]();try{document[_$_b94f[1010]](_$_b94f[1009]);showToast(_$_b94f[999],_$_b94f[56])}catch(err){console[_$_b94f[1]](_$_b94f[1011],err);showToast(_$_b94f[1012],_$_b94f[541])};document[_$_b94f[519]][_$_b94f[1013]](_0x70A7)}function showAnnouncementModal(){const _0x6EE5="\x0D\x0A        <div class=\"modal fade\" id=\"announcementModal\" tabindex=\"-1\">\x0D\x0A            <div class=\"modal-dialog\">\x0D\x0A                <div class=\"modal-content\" style=\"background: #2a2a2a; border: 1px solid #444; color: #fff;\">\x0D\x0A                    <div class=\"modal-header\" style=\"border-bottom: 1px solid #444;\">\x0D\x0A                        <h5 class=\"modal-title\">\x0D\x0A                            <i class=\"fas fa-bullhorn\"></i> Send Site Announcement\x0D\x0A                        </h5>\x0D\x0A                        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" style=\"filter: invert(1);\"></button>\x0D\x0A                    </div>\x0D\x0A                    <div class=\"modal-body\">\x0D\x0A                        <div class=\"mb-3\">\x0D\x0A                            <label for=\"announcementMessage\" class=\"form-label\">Announcement Message</label>\x0D\x0A                            <textarea class=\"form-control\" id=\"announcementMessage\" rows=\"4\" maxlength=\"500\" placeholder=\"Enter your announcement message...\" style=\"background: #333; border: 1px solid #555; color: #fff;\"></textarea>\x0D\x0A                            <div class=\"form-text text-muted\">Maximum 500 characters. This will be sent to all active rooms.</div>\x0D\x0A                        </div>\x0D\x0A                    </div>\x0D\x0A                    <div class=\"modal-footer\" style=\"border-top: 1px solid #444;\">\x0D\x0A                        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Cancel</button>\x0D\x0A                        <button type=\"button\" class=\"btn btn-warning\" onclick=\"sendAnnouncement()\">\x0D\x0A                            <i class=\"fas fa-bullhorn\"></i> Send Announcement\x0D\x0A                        </button>\x0D\x0A                    </div>\x0D\x0A                </div>\x0D\x0A            </div>\x0D\x0A        </div>\x0D\x0A    ";$(_$_b94f[1014])[_$_b94f[264]]();$(_$_b94f[519])[_$_b94f[518]](_0x6EE5);$(_$_b94f[1014])[_$_b94f[662]](_$_b94f[172])}function sendAnnouncement(){const _0x69D1=$(_$_b94f[1015])[_$_b94f[216]]()[_$_b94f[215]]();if(!_0x69D1){alert(_$_b94f[1016]);return};const _0x7011=$(_$_b94f[1017]);const _0x68A5=_0x7011[_$_b94f[156]]();_0x7011[_$_b94f[237]](_$_b94f[236],true)[_$_b94f[156]](_$_b94f[235]);$[_$_b94f[67]]({url:_$_b94f[1018],method:_$_b94f[53],data:{message:_0x69D1},dataType:_$_b94f[54],success:function(_0x5FA9){if(_0x5FA9[_$_b94f[55]]=== _$_b94f[56]){alert(_$_b94f[1019]);$(_$_b94f[1014])[_$_b94f[662]](_$_b94f[174]);if( typeof loadMessages=== _$_b94f[61]){setTimeout(loadMessages,1000)}}else {alert(_$_b94f[243]+ _0x5FA9[_$_b94f[72]])}},error:function(_0x603F,_0x600D,_0x5FDB){alert(_$_b94f[1020]+ _0x5FDB)},complete:function(){_0x7011[_$_b94f[237]](_$_b94f[236],false)[_$_b94f[156]](_0x68A5)}})}function showQuickBanModal(_0x661B,_0x6201,_0x7043){const _0x6EE5=("\x0D\x0A        <div class=\"modal fade\" id=\"quickBanModal\" tabindex=\"-1\">\x0D\x0A            <div class=\"modal-dialog\">\x0D\x0A                <div class=\"modal-content\" style=\"background: #2a2a2a; border: 1px solid #444; color: #fff;\">\x0D\x0A                    <div class=\"modal-header\" style=\"border-bottom: 1px solid #444;\">\x0D\x0A                        <h5 class=\"modal-title\">\x0D\x0A                            <i class=\"fas fa-ban\"></i> Site Ban User\x0D\x0A                        </h5>\x0D\x0A                        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" style=\"filter: invert(1);\"></button>\x0D\x0A                    </div>\x0D\x0A                    <div class=\"modal-body\">\x0D\x0A                        <div class=\"alert alert-warning\">\x0D\x0A                            <i class=\"fas fa-exclamation-triangle\"></i>\x0D\x0A                            <strong>Warning:</strong> This will ban the user from the entire site, not just this room.\x0D\x0A                        </div>\x0D\x0A                        <div class=\"mb-3\">\x0D\x0A                            <label class=\"form-label\">User to Ban</label>\x0D\x0A                            <input type=\"text\" class=\"form-control\" value=\""+_0x6201+_$_b94f[1021]+_0x661B+_$_b94f[330]+_0x6201[_$_b94f[321]](/'/g,_$_b94f[320])+_$_b94f[330]+_0x7043+_$_b94f[1022]);$(_$_b94f[1023])[_$_b94f[264]]();$(_$_b94f[519])[_$_b94f[518]](_0x6EE5);$(_$_b94f[1023])[_$_b94f[662]](_$_b94f[172])}function executeQuickBan(_0x661B,_0x6201,_0x7043){const _0x6841=$(_$_b94f[1024])[_$_b94f[216]]();const _0x68D7=$(_$_b94f[1025])[_$_b94f[216]]()[_$_b94f[215]]();const _0x7011=$(_$_b94f[1026]);const _0x68A5=_0x7011[_$_b94f[156]]();_0x7011[_$_b94f[237]](_$_b94f[236],true)[_$_b94f[156]](_$_b94f[1027]);const _0x6FDF={user_id_string:_0x661B,duration:_0x6841,reason:_0x68D7};if(_0x6201){_0x6FDF[_$_b94f[161]]= _0x6201};if(_0x7043){_0x6FDF[_$_b94f[331]]= _0x7043};$[_$_b94f[67]]({url:_$_b94f[1028],method:_$_b94f[53],data:_0x6FDF,dataType:_$_b94f[54],success:function(_0x5FA9){if(_0x5FA9[_$_b94f[55]]=== _$_b94f[56]){alert(_0x5FA9[_$_b94f[72]]);$(_$_b94f[1023])[_$_b94f[662]](_$_b94f[174]);setTimeout(()=>{loadUsers();loadMessages()},1000)}else {alert(_$_b94f[243]+ _0x5FA9[_$_b94f[72]])}},error:function(_0x603F,_0x600D,_0x5FDB){alert(_$_b94f[1029]+ _0x5FDB)},complete:function(){_0x7011[_$_b94f[237]](_$_b94f[236],false)[_$_b94f[156]](_0x68A5)}})}function initializeMentionsAndReplies(){debugLog(_$_b94f[1030]);setupMentionsEventHandlers();debugLog(_$_b94f[1031])}function setupMentionsEventHandlers(){$(document)[_$_b94f[36]](_$_b94f[279],function(_0x6139){if(!$(_0x6139[_$_b94f[994]])[_$_b94f[1033]](_$_b94f[1032])[_$_b94f[49]]){closeMentionsPanel()}});$(document)[_$_b94f[36]](_$_b94f[1034],function(_0x6139){if(_0x6139[_$_b94f[1035]]=== _$_b94f[1036]){clearReplyInterface()}})}function checkForMentions(){if(!mentionCheckInterval){return};$[_$_b94f[67]]({url:_$_b94f[143],method:_$_b94f[76],dataType:_$_b94f[54],timeout:5000,success:function(_0x5FA9){if(_0x5FA9[_$_b94f[55]]=== _$_b94f[56]){mentionNotifications= _0x5FA9[_$_b94f[167]];updateMentionCounter(_0x5FA9[_$_b94f[168]]);if(_0x5FA9[_$_b94f[168]]> 0&&  !mentionPanelOpen){showNewMentionNotification(_0x5FA9[_$_b94f[168]])}}},error:function(){}})}function updateMentionCounter(_0x87B3){const _0x8B69=$(_$_b94f[1037]);if(_0x87B3> 0){if(_0x8B69[_$_b94f[49]]=== 0){const _0x8B9B=("\x0D\x0A                <div class=\"mentions-counter\" onclick=\"toggleMentionsPanel()\">\x0D\x0A                    <i class=\"fas fa-at\"></i> <span class=\"mention-count\">"+_0x87B3+_$_b94f[1038]+(_0x87B3!== 1?_$_b94f[531]:_$_b94f[48])+_$_b94f[942]);$(_$_b94f[519])[_$_b94f[518]](_0x8B9B);setTimeout(()=>{return $(_$_b94f[1037])[_$_b94f[509]](_$_b94f[172])},100)}else {_0x8B69[_$_b94f[1040]](_$_b94f[1039])[_$_b94f[173]](_0x87B3);_0x8B69[_$_b94f[509]](_$_b94f[172])}}else {_0x8B69[_$_b94f[504]](_$_b94f[172]);setTimeout(()=>{return _0x8B69[_$_b94f[264]]()},200)}}function showNewMentionNotification(_0x87B3){const _0x87E5=$(("\x0D\x0A        <div class=\"mention-notification-toast\" style=\"\x0D\x0A            position: fixed;\x0D\x0A            top: 20px;\x0D\x0A            right: 20px;\x0D\x0A            background: #faa61a;\x0D\x0A            color: #000;\x0D\x0A            padding: 12px 16px;\x0D\x0A            border-radius: 8px;\x0D\x0A            font-weight: 600;\x0D\x0A            z-index: 1060;\x0D\x0A            animation: slideInFromRight 0.3s ease-out;\x0D\x0A        \">\x0D\x0A            <i class=\"fas fa-at\"></i> "+_0x87B3+_$_b94f[1041]+(_0x87B3!== 1?_$_b94f[531]:_$_b94f[48])+_$_b94f[1042]));$(_$_b94f[519])[_$_b94f[518]](_0x87E5);setTimeout(()=>{_0x87E5[_$_b94f[802]](300,function(){$(this)[_$_b94f[264]]()})},3000)}function toggleMentionsPanel(){if(mentionPanelOpen){closeMentionsPanel()}else {openMentionsPanel()}}function openMentionsPanel(){if($(_$_b94f[1043])[_$_b94f[49]]> 0){$(_$_b94f[1043])[_$_b94f[509]](_$_b94f[172]);mentionPanelOpen= true;return};const _0x7971="\x0D\x0A        <div class=\"mentions-panel\">\x0D\x0A            <div class=\"mentions-panel-header\">\x0D\x0A                <h6 class=\"mentions-panel-title\">\x0D\x0A                    <i class=\"fas fa-at\"></i> Mentions & Replies\x0D\x0A                </h6>\x0D\x0A                <button class=\"mentions-panel-close\" onclick=\"closeMentionsPanel()\">\x0D\x0A                    <i class=\"fas fa-times\"></i>\x0D\x0A                </button>\x0D\x0A            </div>\x0D\x0A            <div class=\"mentions-panel-content\" id=\"mentionsContent\">\x0D\x0A                Loading mentions...\x0D\x0A            </div>\x0D\x0A        </div>\x0D\x0A    ";$(_$_b94f[519])[_$_b94f[518]](_0x7971);setTimeout(()=>{$(_$_b94f[1043])[_$_b94f[509]](_$_b94f[172]);mentionPanelOpen= true;displayMentions()},50)}function closeMentionsPanel(){const _0x67AB=$(_$_b94f[1043]);if(_0x67AB[_$_b94f[49]]> 0){_0x67AB[_$_b94f[504]](_$_b94f[172]);mentionPanelOpen= false;setTimeout(()=>{return _0x67AB[_$_b94f[264]]()},300)}}function displayMentions(){const _0x6BF7=$(_$_b94f[1044]);if(mentionNotifications[_$_b94f[49]]=== 0){_0x6BF7[_$_b94f[156]]("\x0D\x0A            <div class=\"mentions-empty\">\x0D\x0A                <i class=\"fas fa-bell\"></i>\x0D\x0A                <p>No mentions yet</p>\x0D\x0A                <small>You\'ll see @mentions and replies here</small>\x0D\x0A            </div>\x0D\x0A        ");return};let _0x6A99=_$_b94f[48];mentionNotifications[_$_b94f[26]]((_0x6C29)=>{const _0x6C5B=getTimeAgo( new Date(_0x6C29[_$_b94f[839]]));const _0x6C8D=_0x6C29[_$_b94f[50]]=== _$_b94f[1045]?_$_b94f[1046]:_$_b94f[1047];const _0x6CBF=_0x6C29[_$_b94f[50]]=== _$_b94f[1045]?_$_b94f[1048]:_$_b94f[1049];_0x6A99+= ("\x0D\x0A            <div class=\"mention-notification unread "+_0x6C29[_$_b94f[50]]+_$_b94f[1050]+_0x6C29[_$_b94f[1051]]+_$_b94f[1052]+_0x6C29[_$_b94f[287]]+_$_b94f[1053]+_0x6C29[_$_b94f[843]]+_$_b94f[1054]+_0x6C29[_$_b94f[1055]]+_$_b94f[1056]+_0x6C29[_$_b94f[50]]+_$_b94f[1057]+_0x6C8D+_$_b94f[559]+_0x6CBF+_$_b94f[1058]+_0x6C29[_$_b94f[72]]+_$_b94f[1059]+_0x6C5B+_$_b94f[1060])});_0x6BF7[_$_b94f[156]](_0x6A99)}function jumpToMessage(_0x75BB,_0x7557){markMentionAsRead(_0x7557);const _0x7589=$((".chat-message[data-message-id=\""+_0x75BB+_$_b94f[1061]));if(_0x7589[_$_b94f[49]]> 0){const _0x729B=$(_$_b94f[152]);const _0x75ED=_0x7589[_$_b94f[1005]]()[_$_b94f[1002]]+ _0x729B[_$_b94f[153]]();_0x729B[_$_b94f[1062]]({scrollTop:_0x75ED- 100},300);_0x7589[_$_b94f[509]](_$_b94f[1063]);setTimeout(()=>{_0x7589[_$_b94f[504]](_$_b94f[1063])},3000)};closeMentionsPanel()}function markMentionAsRead(_0x7557){$[_$_b94f[67]]({url:_$_b94f[1064],method:_$_b94f[53],data:{mention_id:_0x7557},dataType:_$_b94f[54],success:function(_0x5FA9){if(_0x5FA9[_$_b94f[55]]=== _$_b94f[56]){mentionNotifications= mentionNotifications[_$_b94f[825]]((_0x790D)=>{return _0x790D[_$_b94f[287]]!== _0x7557});updateMentionCounter(mentionNotifications[_$_b94f[49]])}}})}function markAllMentionsAsRead(){$[_$_b94f[67]]({url:_$_b94f[1064],method:_$_b94f[53],data:{mark_all:true},dataType:_$_b94f[54],success:function(_0x5FA9){if(_0x5FA9[_$_b94f[55]]=== _$_b94f[56]){mentionNotifications= [];updateMentionCounter(0);displayMentions()}}})}function showReplyInterface(_0x75BB,_0x6D87,_0x7B97){clearReplyInterface();const _0x8817=("\x0D\x0A        <div class=\"reply-interface\" id=\"replyInterface\">\x0D\x0A            <div class=\"reply-interface-header\">\x0D\x0A                <div class=\"reply-interface-label\">\x0D\x0A                    <i class=\"fas fa-reply\"></i>\x0D\x0A                    Replying to "+_0x6D87+_$_b94f[1065]+_0x6D87+_$_b94f[1066]+_0x7B97+_$_b94f[857]);$(_$_b94f[1068])[_$_b94f[1067]](_0x8817);currentReplyTo= _0x75BB;$(_$_b94f[214])[_$_b94f[217]]()}function clearReplyInterface(){$(_$_b94f[1069])[_$_b94f[264]]();currentReplyTo= null}function getTimeAgo(_0x7205){const _0x5F13= new Date();const _0x7237=Math[_$_b94f[1070]]((_0x5F13- _0x7205)/ 1000);if(_0x7237< 60){return _$_b94f[1071]};if(_0x7237< 3600){return (""+Math[_$_b94f[1070]](_0x7237/ 60)+_$_b94f[1072])};if(_0x7237< 86400){return (""+Math[_$_b94f[1070]](_0x7237/ 3600)+_$_b94f[1073])};if(_0x7237< 604800){return (""+Math[_$_b94f[1070]](_0x7237/ 86400)+_$_b94f[1074])};return _0x7205[_$_b94f[1075]]()}function addMentionHighlightCSS(){if($(_$_b94f[1076])[_$_b94f[49]]> 0){return};const _0x61CF="\x0D\x0A        <style id=\"mentionHighlightCSS\">\x0D\x0A        @keyframes mentionHighlight {\x0D\x0A            0% { background-color: rgba(250, 166, 26, 0.4); }\x0D\x0A            100% { background-color: transparent; }\x0D\x0A        }\x0D\x0A\x0D\x0A        @keyframes mentionHighlightBorder {\x0D\x0A            0% {--user-border-color: #faa61a !important;\x0D\x0A            --user-tail-color: #faa61a !important;}\x0D\x0A        100% {--user-border-color: transparent !important;\x0D\x0A            --user-tail-color: transparent !important;}\x0D\x0A        }\x0D\x0A\x0D\x0A            @keyframes mentionHighlightBorder {\x0D\x0A        0% {--user-border-color: #faa61a !important;\x0D\x0A            --user-tail-color: #faa61a !important;}\x0D\x0A        100% {--user-border-color: transparent !important;\x0D\x0A            --user-tail-color: transparent !important;}\x0D\x0A        }\x0D\x0A        \x0D\x0A        .mentioned-highlight {\x0D\x0A            animation: mentionHighlight 5s ease-out;\x0D\x0A        }\x0D\x0A        \x0D\x0A        .mentioned-highlight .message-bubble {\x0D\x0A            --user-border-color: #faa61a !important;\x0D\x0A            --user-tail-color: #faa61a !important; \x0D\x0A        }\x0D\x0A        \x0D\x0A\x0D\x0A        </style>\x0D\x0A    ";$(_$_b94f[1077])[_$_b94f[518]](_0x61CF)}function toggleAFK(){const _0x7011=$(_$_b94f[583]);const _0x68A5=_0x7011[_$_b94f[156]]();_0x7011[_$_b94f[237]](_$_b94f[236],true)[_$_b94f[156]](_$_b94f[1078]);$[_$_b94f[67]]({url:_$_b94f[1079],method:_$_b94f[53],data:{action:_$_b94f[1080]},dataType:_$_b94f[54],success:function(_0x5FA9){if(_0x5FA9[_$_b94f[55]]=== _$_b94f[56]){currentUserAFK= _0x5FA9[_$_b94f[394]];manualAFK= _0x5FA9[_$_b94f[395]];updateAFKButton();setTimeout(()=>{loadUsers();loadMessages()},500);showToast(_0x5FA9[_$_b94f[72]],_$_b94f[56])}else {alert(_$_b94f[243]+ _0x5FA9[_$_b94f[72]])}},error:function(_0x603F,_0x600D,_0x5FDB){console[_$_b94f[1]](_$_b94f[1081],_0x5FDB);alert(_$_b94f[1082]+ _0x5FDB)},complete:function(){_0x7011[_$_b94f[237]](_$_b94f[236],false);updateAFKButton()}})}function updateAFKButton(){const _0x7011=$(_$_b94f[583]);if(currentUserAFK){_0x7011[_$_b94f[156]](_$_b94f[1083])}else {_0x7011[_$_b94f[156]](_$_b94f[1084])}}function formatAFKDuration(_0x716F){if(_0x716F< 60){return (""+_0x716F+_$_b94f[1085])}else {const _0x710B=Math[_$_b94f[1070]](_0x716F/ 60);const _0x713D=_0x716F% 60;return _0x713D> 0?(""+_0x710B+_$_b94f[1086]+_0x713D+_$_b94f[1085]):(""+_0x710B+_$_b94f[1087])}}function addAFKStyles(){if($(_$_b94f[1088])[_$_b94f[49]]> 0){return};const _0x61CF="\x0D\x0A        <style id=\"afkStylesCSS\">\x0D\x0A        .user-item.afk-user {\x0D\x0A            opacity: 0.7;\x0D\x0A        }\x0D\x0A        \x0D\x0A        .user-item.afk-user .user-avatar {\x0D\x0A            opacity: 0.6;\x0D\x0A            filter: grayscale(30%) !important;\x0D\x0A        }\x0D\x0A        \x0D\x0A        .user-item.afk-user .user-name {\x0D\x0A            color: #888 !important;\x0D\x0A        }\x0D\x0A        \x0D\x0A        .badge-afk {\x0D\x0A            background-color: #6c757d !important;\x0D\x0A            color: white !important;\x0D\x0A        }\x0D\x0A        \x0D\x0A        .btn.afk-user {\x0D\x0A            opacity: 0.8;\x0D\x0A            border-color: #6c757d !important;\x0D\x0A            color: #6c757d !important;\x0D\x0A        }\x0D\x0A        \x0D\x0A        .btn.afk-user:hover {\x0D\x0A            background-color: rgba(108, 117, 125, 0.1) !important;\x0D\x0A        }\x0D\x0A        \x0D\x0A        .system-message img[src*=\"afk.png\"],\x0D\x0A        .system-message img[src*=\"active.png\"] {\x0D\x0A            width: 16px;\x0D\x0A            height: 16px;\x0D\x0A        }\x0D\x0A        </style>\x0D\x0A    ";$(_$_b94f[1077])[_$_b94f[518]](_0x61CF)}function showActivityStatus(){const _0x8529=("\x0D\x0A        <div class=\"activity-status-debug\" style=\"position: fixed; bottom: 10px; right: 10px; background: rgba(0,0,0,0.8); color: white; padding: 10px; border-radius: 5px; font-size: 12px; z-index: 9999;\">\x0D\x0A            <div><strong>Activity Status</strong></div>\x0D\x0A            <div>Tracker Enabled: "+activityTracker[_$_b94f[4]]+_$_b94f[1089]+ACTIVITY_CONFIG[_$_b94f[1090]]+_$_b94f[1091]+ACTIVITY_CONFIG[_$_b94f[1092]]+_$_b94f[1093]+ new Date(activityTracker[_$_b94f[44]])[_$_b94f[317]]()+_$_b94f[1094]+currentUserAFK+_$_b94f[356]);$(_$_b94f[1095])[_$_b94f[264]]();$(_$_b94f[519])[_$_b94f[518]](_0x8529);setTimeout(()=>{return $(_$_b94f[1095])[_$_b94f[264]]()},10000)}if(DEBUG_MODE){setInterval(showActivityStatus,30000)};function startYouTubeUpdates(){if(youtubeUpdateInterval){clearInterval(youtubeUpdateInterval)};youtubeUpdateInterval= setInterval(updateYouTubeData,5000);updateYouTubeData();debugLog(_$_b94f[1096])}function updateYouTubeData(){if(!youtubeEnabled|| isYoutubeUpdating){return};isYoutubeUpdating= true;$[_$_b94f[67]]({url:_$_b94f[148],method:_$_b94f[76],dataType:_$_b94f[54],timeout:8000,success:function(_0x5FA9){if(_0x5FA9[_$_b94f[55]]=== _$_b94f[56]){const _0x648B=_0x5FA9[_$_b94f[176]];if(_0x648B[_$_b94f[4]]&& _0x648B[_$_b94f[177]]!== lastSyncToken){debugLog(_$_b94f[178],_0x648B);lastSyncToken= _0x648B[_$_b94f[177]];applySyncState(_0x648B)};const _0x748F=_0x5FA9[_$_b94f[179]];playerQueue= _0x748F[_$_b94f[180]]|| [];playerSuggestions= _0x748F[_$_b94f[181]]|| [];currentVideoData= _0x748F[_$_b94f[182]];renderQueue();renderSuggestions();updateVideoInfo()}},error:function(_0x603F,_0x600D,_0x5FDB){debugLog(_$_b94f[1097],_0x5FDB)},complete:function(){isYoutubeUpdating= false}})}function applySyncState(_0x648B){if(!youtubePlayerReady){return};if(_0x648B[_$_b94f[183]]){const _0x6459=getCurrentVideoId();if(_0x6459!== _0x648B[_$_b94f[183]]){youtubePlayer[_$_b94f[185]]({videoId:_0x648B[_$_b94f[183]],startSeconds:_0x648B[_$_b94f[184]]})}else {const _0x6427=youtubePlayer[_$_b94f[186]]();const _0x64BD=Math[_$_b94f[187]](_0x6427- _0x648B[_$_b94f[184]]);if(_0x64BD> 3){youtubePlayer[_$_b94f[188]](_0x648B[_$_b94f[184]],true)}};if(_0x648B[_$_b94f[189]]&& youtubePlayer[_$_b94f[190]]()!== YT[_$_b94f[192]][_$_b94f[191]]){youtubePlayer[_$_b94f[193]]()}else {if(!_0x648B[_$_b94f[189]]&& youtubePlayer[_$_b94f[190]]()=== YT[_$_b94f[192]][_$_b94f[191]]){youtubePlayer[_$_b94f[194]]()}}}else {if(youtubePlayer[_$_b94f[190]]()!== YT[_$_b94f[192]][_$_b94f[195]]){youtubePlayer[_$_b94f[196]]()}}}