function _0x199e(_0x218aab,_0x5d9faa){const _0x3af1d9=_0x3af1();return _0x199e=function(_0x199ee5,_0x122c51){_0x199ee5=_0x199ee5-0x17a;let _0x17c7fe=_0x3af1d9[_0x199ee5];return _0x17c7fe;},_0x199e(_0x218aab,_0x5d9faa);}(function(_0xe38a10,_0x2ebde1){const _0x38c148=_0x199e,_0x4d244b=_0xe38a10();while(!![]){try{const _0x12a20c=-parseInt(_0x38c148(0x1af))/0x1*(-parseInt(_0x38c148(0x18e))/0x2)+-parseInt(_0x38c148(0x1ab))/0x3+-parseInt(_0x38c148(0x1c6))/0x4+parseInt(_0x38c148(0x194))/0x5*(-parseInt(_0x38c148(0x182))/0x6)+-parseInt(_0x38c148(0x17f))/0x7*(-parseInt(_0x38c148(0x188))/0x8)+-parseInt(_0x38c148(0x184))/0x9*(parseInt(_0x38c148(0x190))/0xa)+parseInt(_0x38c148(0x1b8))/0xb;if(_0x12a20c===_0x2ebde1)break;else _0x4d244b['push'](_0x4d244b['shift']());}catch(_0x1c128b){_0x4d244b['push'](_0x4d244b['shift']());}}}(_0x3af1,0x2a931));let playedNotificationIds=new Set(),currentNotifications=[],notificationCheckInterval;function initializeNotifications(){const _0x46cb14=_0x199e;notificationCheckInterval=setInterval(checkForNotifications,0x1388),checkForNotifications(),$(document)['on']('click',_0x46cb14(0x17a),toggleNotificationsPanel),$(document)['on']('click',_0x46cb14(0x19c),closeNotificationsPanel),$(document)['on'](_0x46cb14(0x199),'.notification-mark-all',markAllNotificationsRead),$(document)['on'](_0x46cb14(0x199),_0x46cb14(0x1b5),handleNotificationClick),$(document)['on'](_0x46cb14(0x199),function(_0x57bf2c){const _0x55f06d=_0x46cb14;!$(_0x57bf2c[_0x55f06d(0x186)])[_0x55f06d(0x19f)]('.notifications-panel,\x20#notificationBell')[_0x55f06d(0x1a0)]&&closeNotificationsPanel();});}function checkForNotifications(){const _0x5ab06b=_0x199e;if(!$('#notificationBell')[_0x5ab06b(0x1a0)])return;$['ajax']({'url':_0x5ab06b(0x1bd),'method':_0x5ab06b(0x196),'dataType':_0x5ab06b(0x1aa),'success':function(_0x34ab19){const _0x5a4733=_0x5ab06b;_0x34ab19['status']===_0x5a4733(0x1c4)&&(currentNotifications=_0x34ab19['notifications']||[],updateNotificationBell(),updateNotificationsPanel());},'error':function(_0x1c0550,_0x141ca5,_0xabbdfc){console['error']('Notification\x20check\x20failed:',_0xabbdfc);}});}function updateNotificationBell(){const _0x24bef5=_0x199e,_0x495a67=$('#notificationBell'),_0x533a59=_0x495a67[_0x24bef5(0x18d)]('.notification-badge'),_0x14c24c=currentNotifications[_0x24bef5(0x1a0)];_0x14c24c>0x0?(_0x495a67[_0x24bef5(0x181)](_0x24bef5(0x17c)),_0x533a59['length']===0x0&&_0x495a67[_0x24bef5(0x1b9)](_0x24bef5(0x195)),_0x495a67[_0x24bef5(0x18d)]('.notification-badge')['text'](_0x14c24c>0x63?'99+':_0x14c24c)):(_0x495a67[_0x24bef5(0x18b)](_0x24bef5(0x17c)),_0x533a59[_0x24bef5(0x180)]());}function _0x3af1(){const _0x2f539a=['find','274EbTrIx','<div\x20class=\x22notifications-empty\x22><i\x20class=\x22fas\x20fa-bell-slash\x22></i><p>No\x20notifications</p></div>','1147340Dwykdw','mentioned-highlight','filter','ajax','730045khDQRe','<span\x20class=\x22notification-badge\x22></span>','GET','scrollTop','body','click','mark_all_read','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-id=\x22','.notification-panel-close','h\x20ago','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-message-id=\x22','closest','length','animate','Just\x20now','mention','forEach','POST','#chatbox','position','message-id','sender_name','json','394374AhPgUA','timestamp','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22color:#dcddde;font-size:0.8rem;line-height:1.4;overflow-wrap:break-word;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:flex;align-items:center;gap:10px;margin-bottom:8px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22images/','1330ervytg','currentTarget','m\x20ago','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22color:#b9bbbe;font-size:0.75rem;\x22>','\x22></i>\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20','.notification-item','.notifications-panel','play','3331493Qncwmo','append','sender_avatar','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22notification-item\x20','message','api/get_notifications.php','fa-bell','data','.notifications-panel-content','fa-reply','add','fa-at','success','api/handle_notification_action.php','498884wGxdIc','floor','#notificationBell','html','has-notifications','show','.chat-message[data-message-id=\x22','98fAXNzp','remove','addClass','6lHajXi','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22color:#72767d;font-size:0.7rem;\x22>','9BdQGQX','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20style=\x22width:32px;height:32px;border-radius:6px;object-fit:cover;\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alt=\x22Avatar\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22flex:1;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22color:#fff;font-weight:600;font-size:0.85rem;display:flex;align-items:center;gap:6px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20','target','d\x20ago','117848JfnKIq','type','message_id','removeClass','/sounds/reply_or_mention_notification.mp3'];_0x3af1=function(){return _0x2f539a;};return _0x3af1();}function toggleNotificationsPanel(){const _0x5a3262=_0x199e,_0x579bb9=$('.notifications-panel');_0x579bb9['hasClass'](_0x5a3262(0x17d))?closeNotificationsPanel():showNotificationsPanel();}function showNotificationsPanel(){const _0x42565f=_0x199e;let _0x2aeb06=$('.notifications-panel');_0x2aeb06[_0x42565f(0x1a0)]===0x0&&(createNotificationsPanel(),_0x2aeb06=$('.notifications-panel')),updateNotificationsPanel(),_0x2aeb06['addClass']('show');}function closeNotificationsPanel(){const _0x581997=_0x199e;$(_0x581997(0x1b6))['removeClass'](_0x581997(0x17d));}function createNotificationsPanel(){const _0x1841e4=_0x199e,_0x4f01bc='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22notifications-panel\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22notifications-panel-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h6\x20class=\x22notifications-panel-title\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-bell\x22></i>\x20Notifications\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h6>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22notifications-panel-actions\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-sm\x20btn-outline-light\x20notification-mark-all\x22\x20title=\x22Mark\x20all\x20as\x20read\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-check-double\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-sm\x20btn-outline-light\x20notification-panel-close\x22\x20title=\x22Close\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-times\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22notifications-panel-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22notifications-loading\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i>\x20Loading...\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20';$(_0x1841e4(0x198))['append'](_0x4f01bc);}function updateNotificationsPanel(){const _0x395f81=_0x199e,_0x48d5f5=$(_0x395f81(0x1c0));if(currentNotifications['length']===0x0){_0x48d5f5['html'](_0x395f81(0x18f));return;}let _0x5363bb='',_0x3fd6e8=![];currentNotifications[_0x395f81(0x1a4)](_0x3cacbb=>{const _0x26d00f=_0x395f81;_0x5363bb+=createNotificationHTML(_0x3cacbb),(_0x3cacbb['type']==='reply'||_0x3cacbb['type']===_0x26d00f(0x1a3))&&!playedNotificationIds['has'](_0x3cacbb['id'])&&(playReplyOrMentionSound(),playedNotificationIds[_0x26d00f(0x1c2)](_0x3cacbb['id']));}),_0x48d5f5[_0x395f81(0x17b)](_0x5363bb);}function createNotificationHTML(_0x271bfa){const _0x2f8ba3=_0x199e,_0x2f6001=getTimeAgo(_0x271bfa[_0x2f8ba3(0x1ac)]);let _0x176703=_0x2f8ba3(0x1be);if(_0x271bfa['type']===_0x2f8ba3(0x1a3))_0x176703=_0x2f8ba3(0x1c3);else{if(_0x271bfa[_0x2f8ba3(0x189)]==='reply')_0x176703=_0x2f8ba3(0x1c1);}return _0x2f8ba3(0x1bb)+_0x271bfa[_0x2f8ba3(0x189)]+_0x2f8ba3(0x19b)+_0x271bfa['id']+'\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-type=\x22'+_0x271bfa['notification_type']+_0x2f8ba3(0x19e)+(_0x271bfa[_0x2f8ba3(0x18a)]||'')+_0x2f8ba3(0x1ae)+_0x271bfa[_0x2f8ba3(0x1ba)]+_0x2f8ba3(0x185)+_0x176703+_0x2f8ba3(0x1b3)+_0x271bfa['title']+_0x2f8ba3(0x1b2)+_0x271bfa[_0x2f8ba3(0x1a9)]+_0x2f8ba3(0x183)+_0x2f6001+_0x2f8ba3(0x1ad)+_0x271bfa[_0x2f8ba3(0x1bc)]+_0x2f8ba3(0x1b4);}function handleNotificationClick(_0x14483e){const _0x15446a=_0x199e,_0x5d7e82=$(_0x14483e[_0x15446a(0x1b0)]),_0x3d024b=_0x5d7e82[_0x15446a(0x1bf)]('id'),_0x93fb4d=_0x5d7e82['data']('type'),_0x4fe9fe=_0x5d7e82['data'](_0x15446a(0x1a8));markNotificationRead(_0x3d024b,_0x93fb4d),_0x93fb4d===_0x15446a(0x1a3)&&_0x4fe9fe&&jumpToMessage(_0x4fe9fe),closeNotificationsPanel();}function markNotificationRead(_0xce7af5,_0x5ab496){const _0x3d9cd8=_0x199e;$[_0x3d9cd8(0x193)]({'url':'api/handle_notification_action.php','method':_0x3d9cd8(0x1a5),'data':{'action':'mark_read','notification_type':_0x5ab496,'notification_id':_0xce7af5},'dataType':_0x3d9cd8(0x1aa),'success':function(_0x1c6f64){const _0x5bae25=_0x3d9cd8;currentNotifications=currentNotifications[_0x5bae25(0x192)](_0xc5b99f=>_0xc5b99f['id']!==_0xce7af5),updateNotificationBell();}});}function markAllNotificationsRead(){const _0x2b51d1=_0x199e;$[_0x2b51d1(0x193)]({'url':_0x2b51d1(0x1c5),'method':_0x2b51d1(0x1a5),'data':{'action':_0x2b51d1(0x19a)},'dataType':'json','success':function(_0x3d42d9){const _0x357878=_0x2b51d1;_0x3d42d9['status']===_0x357878(0x1c4)&&(currentNotifications=[],updateNotificationBell(),updateNotificationsPanel());}});}function jumpToMessage(_0x4a8a2e){const _0x2190e8=_0x199e,_0x4fcdda=$(_0x2190e8(0x17e)+_0x4a8a2e+'\x22]');if(_0x4fcdda[_0x2190e8(0x1a0)]>0x0){const _0x14f565=$(_0x2190e8(0x1a6)),_0x260a76=_0x4fcdda[_0x2190e8(0x1a7)]()['top']+_0x14f565[_0x2190e8(0x197)]();_0x14f565[_0x2190e8(0x1a1)]({'scrollTop':_0x260a76-0x64},0x12c),_0x4fcdda[_0x2190e8(0x181)](_0x2190e8(0x191)),setTimeout(()=>{const _0x448ff8=_0x2190e8;_0x4fcdda[_0x448ff8(0x18b)](_0x448ff8(0x191));},0xbb8);}}function getTimeAgo(_0x4eec67){const _0x1a0926=_0x199e,_0x4f0765=new Date(),_0x43c1cc=new Date(_0x4eec67),_0x30914d=Math[_0x1a0926(0x1c7)]((_0x4f0765-_0x43c1cc)/0x3e8);if(_0x30914d<0x3c)return _0x1a0926(0x1a2);if(_0x30914d<0xe10)return Math[_0x1a0926(0x1c7)](_0x30914d/0x3c)+_0x1a0926(0x1b1);if(_0x30914d<0x15180)return Math[_0x1a0926(0x1c7)](_0x30914d/0xe10)+_0x1a0926(0x19d);if(_0x30914d<0x93a80)return Math[_0x1a0926(0x1c7)](_0x30914d/0x15180)+_0x1a0926(0x187);return _0x43c1cc['toLocaleDateString']();}function playReplyOrMentionSound(){const _0x57df5d=_0x199e,_0xccc75d=new Audio(_0x57df5d(0x18c));_0xccc75d[_0x57df5d(0x1b7)]();}$(document)['ready'](function(){initializeNotifications();});